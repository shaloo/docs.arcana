# ðŸ“– Documentation

Arcana Network provides two SDKs, the Chain Abstraction (CA) SDK and the Auth SDK. The CA SDK resolves liquidity fragmentation. It enables developers to let users spend a unified token balance across chains without bridging assets. The Auth SDK addresses account abstraction. It allows users to onboard via social login, skipping wallet creation. Both improve user experience and onboarding. Arcana also offers a standalone CA wallet for spending unified balances on select Web3 apps.

# Chain Abstraction

# Unify Balance Across Chains

Let users spend any supported crypto asset on [any blockchain](../web3-stack/ca_stack/) instantly - no chain switching, no bridging, no cross-chain swaps necessary.

Build seamless, no hassle Web3 transaction experience.

Integrate Web3 app with the Arcana's [Chain Abstraction](../concepts/ca/chain-abstraction/) (CA) SDK. Enable app users to access and spend the [unified balance](../concepts/ca/unified-balance/) combining assets from all chains.

**TL;DR** | [Install](../ca/ca-sdk-installation/) | [Quick Start](#quick-start) | [Examples](../ca/examples/) | [Usage](../ca/ca-usage-guide/)

## Quick Start

What kind of Web3 app do you have?

Select the appropriate app type and get started with integrating the [Arcana CA SDK](../concepts/ca/casdk/).

[Web Apps](../quick-start/ca-quick-start/) [Wagmi Apps](../quick-start/ca-wagmi-quick-start/)

Advanced Usage

Let users onboard Web3 apps via [social login](../concepts/social-login/). Let them spend [unified balance](../concepts/ca/unified-balance/) on any chain through [chain abstracted transactions](../concepts/ca/chain-abstraction/). For this, the app must be [integrated with **both** the SDKs](../quick-start/auth-ca-wagmi-quick-start/), Arcana CA SDK and the Arcana Auth SDK.

## Demo

Would you like to experience chain abstraction and how unified balance works before integrating a Web3 app with the Arcana CA SDK? Try the SDK integration demo app.

[### SDK Integration Demo App](https://sdk.arcana.network)

## CA Playground

Seamless UX with unified balance across assets and chains

[### Try Integration Sample Code](https://codesandbox.io/p/github/arcana-network/ca-wagmi-example/main)

## Spend on Any Chain

Chain abstracted transactions are a game changer for Web3 app adoption. Integrate with Arcana CA SDK to enable unified balance in Web3 apps.

- **Unified Balance**

  ______________________________________________________________________

  Spend on any chain with unified balance of funds on the source chains and sign transactions on any destination chain with a third-party browser-based wallet.

  [Learn More...](../concepts/ca/unified-balance/)

- **Track Status**

  ______________________________________________________________________

  Use Arcana Intent Explorer to track status of chain abstracted transactions.

  [Learn More...](../concepts/ca/intent-explorer/)

- **Integration Examples**

  ______________________________________________________________________

  Get up and running quickly with integration examples:

  [`ca-sdk`](https://github.com/arcana-network/ca-sdk-example)

  [`ca-wagmi`](https://github.com/shaloo/sample-arcana-ca-wagmi-sdk)

- **Resources**

  ______________________________________________________________________

  Release notes, FAQ, audit reports, whitepaper and more.

  [Learn more...](https://docs.arcana.network/relnotes/latest-ca-release-note/)

[Learn more...](../ca/why-ca-sdk/)

## Need Help?

ðŸ“¨ [Email Arcana Support](mailto:support@arcana.network)

âœ… Be a part of the [Arcana Community](../support/). Stay informed about the new upcoming SDK capabilities and usage examples.

# CA Demo

Here is our showcase demonstrating chain abstraction technology.

We use a two pronged approach for demo purposes:

1. Web3 Apps: Show CA in the context of popular Web3 apps by using a special CA enabled wallet.
1. SDK Demo: Show through a sample app integration how devs can enable chain abstracted transactions in any Web3 app by integrating the app with Arcana CA SDK.

## 1. Web3 Apps

In these videos, you'll see how unified balance and chain abstracted transactions elevate the user experience in some of these popular Web3 apps.

Note, these demo videos use the [Arcana CA Wallet](https://chromewebstore.google.com/detail/arcana-wallet/nieddmedbnibfkfokcionggafcmcgkpi) which is specially implemented to showcase the unified balance and chain abstracted transactions. It is not meant to be used as a full-fledged Web3 wallet, yet.

Click on the app specific tab to see chain abstracted transactions in action.

## 2. SDK Demo

Developers can integrate the Arcana CA SDK with any Web3 app to let users spend [unified balance](../../concepts/ca/unified-balance/) across chains via chain abstracted transactions.

[CA SDK Demo](https://sdk.arcana.network)

Have a Web3 app?

*Have you integrated your app with our SDK?*

**We would be delighted to add your app integration demo here and share it with the larger Arcana [community](../../support/#arcana-community)!**

**Submit** a YouTube link at hello@arcana.network

# Chain Abstraction SDKs

Enable [unified balance](../../concepts/ca/unified-balance/) and [chain abstracted](../../concepts/ca/chain-abstraction/) transactions for Web3 app users.

You may need to install one or more Arcana SDK packages according to the app type.

Arcana CA SDK Flavors

Install the appropriate CA SDK as per Web3 app type:

| SDK Name | Web3 Application Type | Package Name | Dependency | | --- | --- | --- | --- | | Arcana CA SDK | For enabling unified balance in web apps: Vanilla HTML/CSS/JS Apps, Vite, Vue Apps | [`ca-sdk`](https://www.npmjs.com/package/@arcana/ca-sdk) | None | | Arcana CA Wagmi SDK | Wagmi Apps | [`ca-wagmi`](https://www.npmjs.com/package/@arcana/ca-wagmi) | [`ca-sdk`](https://www.npmjs.com/package/@arcana/ca-sdk) |

## Install SDKs

### Web Apps

```
npm install --save @arcana/ca-sdk

```

### Wagmi Apps

```
npm install --save @arcana/ca-sdk @arcana/ca-wagmi

```

# API: `ca-sdk`

Integrate Web3 app with the Arcana CA SDK's to enable:

- Unified balance
- Chain abstracted transactions

[Arcana CA SDK Reference](https://ca-sdk-ref-guide.netlify.app/)

Chain Abstraction allows Web3 app users to spend assets on **any** chain through [unified balance](../../concepts/ca/unified-balance/).

Web3 app developers can enable unified balance for app users by integrating the appropriate **Arcana** CA SDK flavor.

## Integration Flow

```
flowchart LR
    subgraph Integrate [Select SDK for App Type]
    direction LR
      A00(((Start))) --> F00[App Type]
      F00 -- Web App --> G00[Arcana CA SDK]
      F00 -- Wagmi App --> H00[Arcana CA Wagmi SDK]
      G00 & H00 --> I00(Install & Integrate)
    end

classDef an-highlight stroke:#3169b3,stroke-width:0.25rem;
class E00 an-highlight
```

```
flowchart LR
    subgraph Integrate [Integrate SDK with App]
    direction LR
      A00(((Start))) --> F00[Install SDK]
      F00 -- Integrate App --> G00[Initialize SDK]
      G00 --> H00(Call SDK Functions)
    end

classDef an-highlight stroke:#3169b3,stroke-width:0.25rem;
class E00 an-highlight
```

## See Also

- [Chain Abstraction](../../concepts/ca/chain-abstraction/)
- [CA SDK](../../concepts/ca/casdk/)
- [Download Arcana CA SDK](https://www.npmjs.com/package/@arcana/ca-sdk)

# CA Users

Spend crypto on any blockchain instantly - no chain switching, no bridges, no hassle.

To enjoy [unified balance](../../concepts/ca/unified-balance/) Web3 users have two options:

**Option 1:** Log in to an app integrated with Arcana's' Chain Abstraction SDK and connect any third-party browser-based wallet to view unified balance and sign transactions. For example, you can log into the [CA SDK demo app](https://sdk.arcana.network) to experience unified balance.

Arcana CA SDK Demo App: Unified Balance

**Option 2:** [Download](https://chromewebstore.google.com/detail/arcana-wallet/nieddmedbnibfkfokcionggafcmcgkpi) Arcana's' standalone CA Wallet browser extension to view unified balance across supported [chains and tokens](../../web3-stack/ca_stack/). This wallet showcases the [chain abstraction](../../concepts/ca/chain-abstraction/) solution and unified balance feature for a **select group of popular** [Web3 apps](../../web3-stack/ca_wallet_stack/#apps).

Arcana CA Wallet

See wallet [Help](https://arcananetwork.notion.site/Help-Content-127f11ed0804805fba4dc72ad3f8cdb2) and [FAQ](https://arcananetwork.notion.site/Frequently-Asked-Questions-128f11ed080480ed8679d90e4bb0b96d) resources for details.

# API: `ca-wagmi`

Integrate Web3 apps using Wagmi with the Arcana CA Wagmi SDK's to enable:

- Unified balance
- Chain abstracted transactions

[Arcana CA Wagmi SDK Reference](https://ca-wagmi-sdk-ref-guide.netlify.app/)

# Examples

This is a Vue+TypeScript+Vite template that has been enhanced with the Arcana CA SDK integration code.

[GitHub](https://github.com/arcana-network/ca-sdk-example/)

[Try Now!](https://codesandbox.io/p/github/arcana-network/ca-sdk-example/main)

This Wagmi example app demonstrates how to integrate the Arcana CA Wagmi SDK with a Wagmi app.

[GitHub](https://github.com/arcana-network/ca-wagmi-example/)

[Try Now!](https://codesandbox.io/p/github/arcana-network/ca-wagmi-example/main)

This Wagmi example app demonstrates how to onboard users via social login and enable chain abstraction by integrating the Arcana CA Wagmi SDK and the Arcana Auth SDK with a Wagmi app.

[GitHub](https://github.com/shaloo/sample-arcana-auth-ca-wagmi-sdks)

[Try Now!](https://codesandbox.io/p/github/shaloo/sample-arcana-auth-ca-wagmi-sdks/sample-auth-ca-wagmi-integration)

# Why CA SDK?

Arcanaâ€™s Chain Abstraction SDK can integrate with any Web3 app and enable unified balance for the app users. Unified balance allows users to spend the consolidated multi-chain balance of [supported source chain tokens](../../web3-stack/ca_stack/) within the app context on any destination chain.

This allows Web3 apps to onboard users from any ecosystem effortlessly. Integration with the SDK requires minimal effort.

## Onboard Users on Any Chain

- **Unified Balance**

  ______________________________________________________________________

  Display users' consolidated balance across chains. Use Arcanaâ€™s plug-and-play UI or design your own.

- **Flexible Gas Payments**

  ______________________________________________________________________

  Users can pay gas fees in USDC or USDT if they do not have native gas tokens.

- **Larger Transactions**

  ______________________________________________________________________

  Users can seamlessly access and spend their entire multi-chain balance on the desired chain, in a single click.

- **No Lock-In**

  ______________________________________________________________________

  All assets are in user's custody, no compulsion to rely on Arcana for accessing funds. Users can freely spend their assets on any app.

## Quick Integration

- **Frontend Code Updates**

  ______________________________________________________________________

  Requires **minimal** changes to the Web3 app's front-end code.

- **No Smart Contract Changes**

  ______________________________________________________________________

  Requires **zero** migration or updates to Web3 app's smart contracts.

- **Bring Existing Wallets**

  ______________________________________________________________________

  Users can bring their existing EOA wallets such as MetaMask, Rabby, Rainbow, etc.

- **Assets: Zero Lockups or Transfers**

  ______________________________________________________________________

  Users do not need to transfer their funds to a new wallet address or lockup in a smart contract.

Arcana CA SDK Demo App: Unified Balance

## Why Chain Abstraction?

Chain abstraction addresses multiple blockchain usability issues. It eliminates liquidity fragmentation, enabling users to spend the available source chain unified balance on any destination chain. This offers a superior user experience by eliminating the need for users to navigate multiple blockchain hoops (bridges, token swaps, and determining the optimal route to consolidate funds acceptable on the destination chain). With unified balance, users can onboard a new chain with no assets or spend on a destination chain where the EOA has insufficient funds.

The table below illustrates how the user experience is superior with a single-click chain abstracted transaction.

| UX: Transact on New Chain | No CA: Complex, Multi-step UX | With CA: One-step UX | | --- | --- | --- | | Figure out which chain your app runs on | | | | Hunt for the best bridge to move assets | | | | Fund gas tokens on different chains | | | | Track and transfer balances across chains | | | | Issue a transaction on a new chain | | |

[Learn more...](https://blog.arcana.network/)

# Integrate Wagmi App

Integrate ['Wagmi'](https://wagmi.sh/) apps with the [Arcana CA Wagmi SDK](../../../concepts/ca/casdk/) to enable:

- [Unified balance](../../../concepts/ca/unified-balance/)
- [Chain abstracted](../../../concepts/ca/chain-abstraction/) transactions

App users can spend funds on any chain. They do not need to switch chains or bridge assets.

No Fuel support in `ca-wagmi` SDK

The Arcana CA Wagmi SDK doesn't support **Fuel** blockchain yet. Chain abstraction works for other [supported chains and tokens](../../../web3-stack/ca_stack/) in Wagmi-based Web3 apps.

## Prerequisites

Download and install the SDKs:

```
npm install --save @arcana/ca-sdk @arcana/ca-wagmi

```

## `CAProvider`

Initialize the `CAProvider` component and specify the `CA` object as the `client` param.

```
    import { StrictMode } from "react";
    import { createRoot } from "react-dom/client";
    import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
    import { WagmiProvider } from 'wagmi'
    import { CA } from "@arcana/ca-sdk";
    import { CAProvider } from '@arcana/ca-wagmi'
    import App from "./App.tsx";
    import { config } from "./utils/config";

    const ca = new CA();
    const queryClient = new QueryClient()

    createRoot(document.getElementById("root")!).render(
        <StrictMode>
            <WagmiProvider config={config}>
                <QueryClientProvider client={queryClient}>
                    <CAProvider client={ca}>
                        <App />
                    </CAProvider>
                </QueryClientProvider>
            </WagmiProvider>
        </StrictMode>
    );

```

For `CAProvider` methods, see [Arcana CA Wagmi SDK Reference](https://ca-wagmi-sdk-ref-guide.netlify.app//modules).

The `CAProvider` component offers hooks with the same name as the Wagmi library.

Replace the `useSendTransaction` and `useWriteContract` hooks from the Wagmi library. Instead, use the versions provided by the SDK. These support chain abstracted transactions.

## Wagmi Hooks

Replace the following hooks used in the app from the Wagmi library with those from the Arcana CA Wagmi SDK package:

```
import { useSendTransaction, useWriteContract } from "@arcana/ca-wagmi";

// Replace the `wagmi` APIs `useSendTransaction` and `useSendTransactionAsync`
const { sendTransaction, sendTransactionAsync } = useSendTransaction(); 

// Replace the wagmi APIs `useWriteContract` and `useWriteContractAsync`
const { writeContract, writeContractAsync } = useWriteContract(); 

```

## Arcana Hooks

The SDK also provides hooks for:

- Accessing [unified balance](../../../concepts/ca/unified-balance/)

- Issuing chain abstracted bridge and transfer functions

- Getting a list of user intents

- [`useBalance`](#usebalance) - to get the unified balance value across all supported chains for the specified token string

- [`useBalances`](#usebalances) - to get the unified balance values across all supported chains for all supported tokens associated with the EOA

- [`useBalanceModal`](#usebalancemodal) - to display or hide the unified balance popup widget

- [`useCAFn()`](#usecafn) - for chain abstracted bridging and token transfer functionality

- [`useGetMyIntents()`](#usegetmyintents) - get the list of intents created by the user

### useBalance

The [`useBalance`](https://ca-wagmi-sdk-ref-guide.netlify.app/#md:usebalance) hook fetches the unified balance for the specified token. This is the value across all the supported chains associated with the user's EOA.

`useBalance({ symbol: string })`

#### Params

`symbol`: Required parameter of type `string` with the value equal to one of the supported currency/token symbol.

```
import { useBalance } from "@arcana/ca-wagmi"

const balance = useBalance({ symbol: "eth" })

```

#### Response

| Parameter | Type | | --- | --- | | loading | `boolean` | | value | `{ symbol: string, decimals: number, formatted: string, value: bigint} \| null` | | error | `Error \| null` |

Sample `useBalance` Response

```
{
  loading: false,
  value: {
    symbol: "ETH",
    decimals: 18,
    formatted: "0.000785657313049966",
    value: 785657313049966n
  },
  error: null
}

```

### useBalances

The [`useBalances()`](https://ca-wagmi-sdk-ref-guide.netlify.app/#md:usebalances) hook returns the unified balance value across all the supported chains and all the supported tokens associated with the user's EOA.

```
import { useBalances } from "@arcana/ca-wagmi"

const balances = useBalances()

```

#### Response

returns response contains the following fields:

| Parameter | Type | | --- | --- | | loading | `boolean` | | value | `UseBalanceValue[] \| null` | | error | `Error \| null` |

Sample `useBalances` Response

```
{
  loading: false,
  value: [{
    symbol: "ETH",
    decimals: 18,
    formatted: "0.000785657313049966"
    value: 785657313049966n,
    breakdown: [{
      chain: {
        id: 1,
        name: "Ethereum",
        logo: "..."
      },
      formatted: "0.000785657313049966",
      address: "0x0000000000000000000000000000000000000000",
      value: 785657313049966n
    }]
  }],
  error: null
} 

```

### useBalanceModal

The [`useBalanceModal()`](https://ca-wagmi-sdk-ref-guide.netlify.app/#md:usebalancemodal) hook can be used in the app to display or hide the unified balance modal. This modal displays the following information:

- **Overall unified balance:** Total available balance in the user's EOA across all supported chains and tokens
- **Per token unified balance:** Total available token balance across all the supported chains, breakup in a list of chains and per chain token balance.

```
import { useBalanceModal } from "@arcana/ca-wagmi"

const { showModal, hideModal } = useBalanceModal()

```

#### Response

| Field | Type | | --- | --- | | showModal | `() => void` | | hideModal | `() => void` |

Plug & Play Unified Balance Widget

### useCAFn

The `useCAFn()` hook allows chain abstracted `bridge` and `transfer` transactions.

```
import { useCAFn } from "@arcana/ca-wagmi"

const { bridge, transfer } = useCAFn()

await bridge({
token: "usdt",
amount: "1.5",
chain: 42161
})

const hash = await transfer({to: "0x80129F3d408545e51d051a6D3e194983EB7801e8",
token: "usdt",
amount: "1.5",
chain: 10
})

```

#### Response

| Parameter | Type | | --- | --- | | bridge | `({ token: string, amount: string, chain: number }) => Promise<unknown>` | | transfer | `({ token: string, amount: string, chain: number, to: "0x${string}" }) => Promise<unknown>` |

`useCAFn`: Chain Abstracted Bridge and Transfer

### useGetMyIntents

Used to get a list of intents created by the user.

`useGetMyIntents(page)`

#### Params

`page`: Page number; 1 returns latest, max 100 results per page

```
import { useGetMyIntents } from "@arcana/ca-wagmi";

const getMyIntentsResponse = useGetMyIntents(1);

```

#### Response

`UseQueryResult<RFF[] | null>`

**Sample Response**

```
{
  isLoading: false,
  isFetching: false,
  isSuccess: true,
  isError: false,
  data: [{
    id: 107,
    sources: [{
      universe: "ETHEREUM",
      tokenAddress: "0x0b2c639c533813f4aa9d7837caf62653d097ff85",
      value: 18531n,
      chainID: 10,
    }],
    destinations: [{
      tokenAddress: "0xaf88d065e77c8cc2239327c5edb3a432268e5831",
      value: 10000n,
    }],
    destinationUniverse: "ETHEREUM",
    destinationChainID: 42161
    fulfilled: true,
    refunded: false,
    expiry: 1750070223,
    deposited: true
  }],
  error: null
}

```

**Finished.**

The 'Wagmi' app is all set to let users spend on any chain via unified balance and chain abstracted transactions.

## See Also

Arcana CA Wagmi SDK Quick Links

- [Supported Chains, tokens](../../../web3-stack/ca_stack/)
- [Arcana CA Wagmi SDK Reference](https://ca-wagmi-sdk-ref-guide.netlify.app/)
- [Release notes](../../../relnotes/latest-ca-release-note/)
- [Changelog](https://github.com/arcana-network/ca-wagmi/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/ca-wagmi)

[Try CA Wagmi SDK CodeSandbox](https://codesandbox.io/p/github/shaloo/sample-arcana-auth-ca-wagmi-sdks/sample-auth-ca-wagmi-integration)

# Integrate Web App

Integrate 'Web3' apps with the [Arcana CA SDK](../../../concepts/ca/casdk/) to enable:

- [Unified balance](../../../concepts/ca/unified-balance/)
- [Chain abstracted](../../../concepts/ca/chain-abstraction/) transactions

App users can spend funds on any chain. They do not need to switch chains or bridge assets.

## Prerequisites

[Download](https://www.npmjs.com/package/@arcana/ca-sdk) and install the SDK.

```
npm install --save @arcana/ca-sdk

```

## Initialize

The process for integrating the SDK differs for dApps that need to support both EVM and non-EVM chains, such as Fuel.

```
import { CA } from '@arcana/ca-sdk';
const provider = window.ethereum;
const ca = new CA();
//Set the EVM provider  
ca.setEVMProvider(provider);

//Initialize ca
await ca.init();

//Get CA enabled provider
const providerWithCA = ca.getEVMProviderWithCA();

//Use providerWithCA to issue chain enabled transactions
await providerWithCA.request({
    method: "eth_sendTransaction",
    params: [
        {
        to: "0xEa46Fb4b4Dc7755BA29D09Ef2a57C67bab383A2f",
        from: "0x7f521A827Ce5e93f0C6D773525c0282a21466f8d",
        value: "0x001",
        },
    ],
});

```

```
import { CA } from '@arcana/ca-sdk';
const provider = window.ethereum;
const ca = new CA();
//Set the EVM provider  
ca.setEVMProvider(provider);

//Initialize ca
await ca.init();

//connector refers to https://github.com/FuelLabs/fuel-connectors/wiki
await ca.setFuelConnector(connector);
const { provider, connector: CAconnector } = await ca.getFuelWithCA();

const address = CAconnector.currentAccount()!;
const account = new Account(address, provider, CAconnector);

//chain abstraction enabled transfer
await account.transfer(
    "0xE78655DfAd552fc3658c01bfb427b9EAb0c628F54e60b54fDA16c95aaAdE797A",
    1000000,
    "0xa0265fb5c32f6e8db3197af3c7eb05c48ae373605b8165b6f4a51c5b0ba4812e",
);

```

`ca.init()`

Use `await` until the `init()` call is complete. Then call any other `CA` method listed in the [Arcana CA SDK Reference](https://ca-sdk-ref-guide.netlify.app/).

## Unified Balance

Get unified balance on the supported source chains:

- View the total EOA balance for all supported tokens and chains.
- View the total EOA balance for a specified token across all chains.

```
//total chain abstracted unified balance across all chains/tokens
const balances = await ca.getUnifiedBalances();
//total balance for a specific token across all chains 
const usdtBalance = await ca.getUnifiedBalance("usdt");

```

## CA Transactions

Enable chain abstracted transactions through:

- `transfer`
- `request`
- `bridge`

### `transfer`

Use unified balance for chain abstracted transactions.

```
const handler = await ca.transfer({
  to: "0x...",
  amount: 5,
  chainID: 10,  //optional, defaults to current chain
  token: "eth",
});

// Execute the transfer
const hash = await handler.exec();

// Simulate the transfer, returns intent data and token info
const response = await handler.simulate();

```

### `request`

Replace the standard EIP-1193 provider with a chain-abstracted one using `getEVMProviderWithCA`. Then use it to call `request` with `eth_sendTransaction` to use unified balance.

```
const providerWithCA = ca.getEVMProviderWithCA();

await providerWithCA.request({
  method: "eth_sendTransaction",
  params: [
    {
      to: "0xEa46Fb4b4Dc7755BA29D09Ef2a57C67bab383A2f",
      from: "0x7f521A827Ce5e93f0C6D773525c0282a21466f8d",
      value: "0x001",
    },
  ],
});

```

### Bridge

Use the unified balance to deposit tokens on a different chain. Chain abstracted transactions handle the transfer.

```
const handler = await ca.bridge({
  token: "usdt",
  amount: 10,
  chainID: 137,
});

// Execute the bridge
await handler.exec();

// Simulate the bridge, returns intent data and token info
const response = await handler.simulate();

```

## Allowance

Allowances are set to `unlimited` by default for all supported chains and tokens. Developers can update the allowance settings via `setOnAllowanceHook()`. App users can approve chain abstracted transactions. They cannot change the allowance set by the app developers.

### `setOnAllowanceHook`

Use `setOnAllowanceHook` to set up [allowances](../../../concepts/ca/allowances/) for chain abstracted transactions. The default value is set to `unlimited` for all chains.

```
ca.setOnAllowanceHook(async ({ allow, deny, sources }) => {
    // This is a hook for the dev to show user the allowances that need to be setup for the current tx to happen

    // sources: an array of objects with minAllowance, chainID, token symbol etc
    // allow(allowances): allowances is an array with allowance for each source (len(sources) == len(allowances))
    // deny(): stop the flow
})

```

### Get Allowance

Get allowance values configured for the chain abstracted transactions.

```
// Get USDC allowance for Polygon
await ca.allowance().tokens(["USDC"]).chain(137).get()
// Get USDC & USDT allowance for all supported chains
await ca.allowance().tokens(["USDC", "USDT"]).get()
// Get all supported token allowances for all supported chains
await ca.allowance().get()

```

## Intents

### `setOnIntentHook`

Use `setOnIntentHook` to show the intent details such as the source of funds, applicable fees.

```
ca.setOnIntentHook(({ intent, allow, deny, refresh }) => {
    // This is a hook for the dev to show user the intent, the sources and associated fees

    // intent: Intent data containing sources and fees for display purpose
    // allow(): accept the current intent
    // deny(): deny the intent and stop the flow
    // refresh(): should be on a timer of 5s to refresh the intent (if not refreshed old intents might fail due to fee changes)
  })

```

### Get Intents

Get the list of intents representing user's request for funds.

```
import type { RFF } from "@arcana/ca-sdk"

const page = 1
const intentList: RFF[] = await ca.getMyIntents(page);

```

## Events

Set up event listeners. Track the [intent processing stages](../../../concepts/ca/intent/#stages).

### Add Listener

```
ca.caEvents.on("expected_steps", (data) => {
  state.value.steps = data.map((s) => ({ ...s, done: false }));
});

ca.caEvents.on("step_complete", (data) => {
  const v = state.value.steps.find((s) => {
    return s.typeID === data.typeID;
  });
  if (v) {
    v.done = true;
  }
});

```

### Remove Listener

```
ca.caEvents.removeListener("expected_steps", () => {...})
ca.caEvents.removeListener("step_complete", () => {...})

```

Check out the [integration example](https://codesandbox.io/p/github/arcana-network/ca-sdk-example/main) code.

**Finished.**

The 'Web3' app is all set to let users spend on any chain via unified balance and chain abstracted transactions.

## See Also

Arcana CA SDK Quick Links

- [Arcana CA SDK Reference](https://ca-sdk-ref-guide.netlify.app/)
- [CA FAQ](../../../faq/ca/faq/)
- [Release notes](../../../relnotes/latest-ca-release-note/)
- [Changelog](https://github.com/arcana-network/ca-sdk/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/ca-sdk)

[Try CA SDK Demo](https://sdk.arcana.network)

[Vite + CA SDK Integration](https://codesandbox.io/p/github/shaloo/sample-arcana-ca-sdk/main?import=true)

# Chain Abstraction Architecture

Before we get into the details of Arcana's Chain Abstraction (CA) architecture, let's first understand some key concepts.

## What is CA?

Managing multiple chains, tokens, and accounts fragments wallet liquidity for Web3 users. Even with enough assets overall, funds scattered across chains make transacting difficult and require complex, time-consuming conversions.

Chain abstraction lets users access a [unified balance](../../../concepts/ca/unified-balance/) across all wallet-linked chains, enabling transactions anywhere. Instead of converting funds first, users specify a [clear intent](../../../concepts/ca/intent/). The protocol collects funds from source chains, shows intent and fees for confirmation, then publishes the intent to solvers. Solvers compete to provide liquidity on the destination chain, and once available, users confirm the transaction. Settlement with solvers happens asynchronously using the collected funds.

As part of setup, devs configure [allowances](../../../concepts/ca/allowances/) per chain and token. Users approve or reject these allowances. For supported [chains and tokens](../../../web3-stack/ca_stack/), the protocol uses these allowances to deposit required funds for transactions on the destination chain.

Arcana's Chain Abstraction

## Why Chain Abstraction?

Chain abstraction enables unified balance to simplify and streamline Web3 transactions. It offers:

- **Faster Intent Processing:** Enables quick and seamless transaction execution across chains.
- **Unified Liquidity:** Provides a consolidated view of user assets across wallet-linked chains with no asset bridging.
- **Simplified UX:** Removes multi-step hurdles for a seamless experience for users.
- **Streamlined DX:** Developers can add unified balances to dApps with minimal changes and no smart contract updates for new chains.

## Arcana CA Offerings

Arcana has two CA offerings, one targeted at the Web3 Users and the other for Web3 builders and developers.

- Web Apps: Arcana CA SDK

- Wagmi Apps: Arcana CA Wagmi SDK

- Arcana Wallet (Standalone)

## Architecture

Arcana's [Chain Abstraction (CA)](../../../concepts/ca/chain-abstraction/) protocol manages balances across multiple chains and tokens in Web3 apps. It solves liquidity fragmentation by enabling a unified balance across supported chains. The Arcana Vault smart contracts on each supported chain and the solver ecosystem are two key parts of the Arcana CA protocol. Thereâ€™s no auction; itâ€™s a first-come, first-served system where the first solver to accept an intent gets to fulfill it.

The user's EOA state and intents are managed across multiple chains. Approved intents are published for 'solvers' to fulfill. Solvers compete to fulfill these intents and provide liquidity on the destination chain. The protocol handles state transitions and settles solver payments using transaction netting.

How Arcana CA Works

## CA Protocol

1. Developer sets up Arcana Chain Abstraction settings enabling cross chain transactions on selected chain types and required [allowances](../../../concepts/ca/allowances/).
1. App users are required to permit the allowance values or reconfigure them if the app allows. Allowances enable Arcana Vault to collect required funds from the EOA account on one or more source chains, as per the user's intent.
1. User submits an intent to spend `n` tokens on a destination chain Y and transact via a Web3 app.
1. Arcana verifies that user has sufficient funds across the source chains in the user's EOA account and adequate allowances are pre-configured to enable chain abstraction, pay gas fees.
1. Funds are moved to the Arcana Vault and user's intent is announced to all listening solvers.
1. The assumption is that one of the available solvers in the system will agree to service the user's intent. As of today, only Arcana solver is supported. We are working with partners to onboard trusted third-party solvers into the ecosystem.
1. Once the solver services the intent and provides the necessary liquidity on the desired destination chain into the user's EOA, the user can instantly spend it.
1. Arcana takes care of managing the settlement at the agreed upon periodicity with the successful solvers. The settlement does not happen after every user transaction but after netting and verification process.
1. In case a transaction fails, or times out waiting for a solver, user's funds deposited from the source chain are refunded within a stipulated time period after verification.

Arcana's Chain Abstraction is designed for onboarding users across a wide range of applications, but it is particularly impactful for DeFi applications that depend on deposits in stablecoins like USDC or USDT, as well as native tokens like ETH.

Benefits

- Remove friction of bridging with a unified multi-chain balance
- Larger transaction values
- Launch apps on emerging chains while onboarding users from established ecosystems

## Swaps

Allow users to execute token swaps on a single chain DEX while using funds held in multiple assets across several chains as a unified balance. For example, a user holding ETH on Optimism and USDC on Arbitrum can seamlessly swap tokens to be able to spend USDT on Polygon without needing to bridge or consolidate assets manually. This removes friction for users, ensuring smoother transactions and higher conversion rates for swap protocols.

## Bridges

Bridges enable users to move funds from Chain A to Chain B, but when users hold disparate assets across multiple chains, they face the challenge of tracking and transferring funds chain by chain. With Arcanaâ€™s Chain Abstraction, users can bridge their entire multi-chain balance to the desired chain in one step.

Example

User holds USDC on Arbitrum, USDT on Polygon, some ETH on Optimism and wants to consolidate their funds on Arbitrum.

With chain abstraction, instead of manually bridging disparate tokens held across different chains, one at a time, users can issue a single intent to bridge their asset balance from source chains to a desired supported token on Arbitrum in a single step.

## Decentralized Exchanges (DEXes)

For liquidity providers and traders, fragmented funds across chains often hinder participation in DEXes. With Arcana, users can trade or provide liquidity on a single-chain DEX (for example, Optimism) using their unified balance from multiple chains, such as Ethereum, Polygon, and Arbitrum. This enables more efficient capital utilization, increases trading volumes, and expands access to liquidity for DEX platforms.

## Perpetuals Trading

For protocols that need users to deposit stable coins to a particular address on a specific chain (for example, Hyperliquid on Arbitrum) Arcanaâ€™s Chain Abstraction allows users to trade on a perpetual protocol on one chain, like Base, using a unified balance of funds held on Ethereum, Polygon, or other chains. This removes the need for manual bridging and ensures traders can respond quickly to market changes without delays in fund transfers.

## Prediction Markets

Prediction markets often have strong user bases tied to specific chains. Arcanaâ€™s Chain Abstraction allows users to stake or wager assets on a prediction market hosted on a single chain (for example, Polymarket on Polygon) using funds held across multiple chains. For instance, a user can use their combined stablecoin holdings from Ethereum and Polygon to place a bet on Polygon, ensuring greater cross-chain participation and deeper liquidity for these markets.

## Lending

Borrowers and lenders often face challenges when their assets are distributed across chains and they want to access new yield products on specific chains. With Arcana, a user can supply liquidity to a lending protocol on one chain, such as Ethereum, using their unified balance aggregated from other chains like Optimism and Base.

This leads to larger deposit and borrow transactions with the access to a larger pool of capital.

## Staking/Restaking

Restaking requires users to bring assets or derivatives to specific chains. Arcana enables users to stake or restake assets on a protocol running on a single chain (for example, Polygon) by leveraging their unified balance across multiple chains. For instance, a user with ETH on Ethereum and Arbitrum can stake and restake seamlessly on another chain without manual transfers.

This allows users from multiple EVM ecosystems to participate in the protocol.

*Stay tuned, Arcana is actively working on supporting additional use cases with the Arcana CA SDK.*

## General

Why is CA not supported by all apps out of the box?

There's no universal approach to interoperability in the blockchain world. There are many ways to address interoperability and Chain Abstraction (CA) is one of them.

Enabling interoperability into every app is complex. App contracts have to be ported to enable cross chain transactions across all chains where interoperability must work. This is not scalable.

The Arcana chain abstraction protocol is a more scalable approach to interoperability. It offers intent-based chain abstraction to Web3 apps.

How can I try chain abstraction?

You can use a Web3 app integrated with the Arcana chain abstraction SDK.

Alternatively, you can try the standalone Arcana CA wallet. This is a limited feature Web3 wallet. Its purpose is to showcase unified balance and chain abstracted transactions when using some of the select Web3 apps.

**Developers**: Integrate Web3 app with Arcana `ca-sdk` and enable unified balance. With unified balance Web3 app users can spend on any chain. Refer to the list of [supported chains and assets](../../../web3-stack/ca_stack/) for details.

**Wallet Users:** [Download](https://chromewebstore.google.com/detail/arcana-wallet/nieddmedbnibfkfokcionggafcmcgkpi) and use the Arcana CA wallet in the context of any [supported app, chains and tokens](../../../web3-stack/ca_wallet_stack/).

How does chain abstraction protocol decide which chain to source the tokens from?

Let us take the following case:

Wallet Balance

*Optimism:* 1 ETH

*Arbitrum:* 1 ETH

*Scroll:* 0 ETH

**User Intent:** Spend 0.5 ETH on Scroll

The selection of source chains and tokens for a chain abstracted transaction is governed by the following logic:

- Source chains are sorted by token balance (descending order)
- Chains with the same balance are sorted by gas price (ascending order)

If multiple chains have the same balance, the one with lower gas price will be picked up to source the tokens.

The protocol selects the first chain in the sorted list. If its balance isnâ€™t enough to cover the transaction amount and gas on the destination chain, it automatically uses the next chain(s) as needed.

## CA SDK

How do I fix the polyfill issues right after import statement when integrating React and Vite app with the Arcana CA SDK?

To fix polyfilling issues, make sure `vite.config.ts` has the polyfilling options configured.

```
import { defineConfig, Plugin } from "vite";
import react from "@vitejs/plugin-react";
import { nodePolyfills, PolyfillOptions } from "vite-plugin-node-polyfills";
import tailwindcss from "@tailwindcss/vite";

const nodePolyfillsFix = (options?: PolyfillOptions | undefined): Plugin => {
return {
    ...nodePolyfills(options),
    resolveId(source: string) {
    const m =
        /^vite-plugin-node-polyfills\/shims\/(buffer|global|process)$/.exec(
        source
        );
    if (m) {
        return `node_modules/vite-plugin-node-polyfills/shims/${m[1]}/dist/index.cjs`;
    }
    },
};
};

// https://vite.dev/config/
export default defineConfig({
plugins: [
    react(),
    tailwindcss(),
    nodePolyfillsFix({
    include: ["buffer"],
    globals: {
        Buffer: true,
        global: true,
        process: true,
    },
    }),
],
define: {
    "process.env": {},
},
});

```

Is the amount refunded if the chain abstracted transaction fails?

Yes. It may not happen instantly.

For chain abstracted transaction safety, follow these guidelines:

1. **Failed transactions?** *Don't panic* - you'll get your tokens back automatically. It may happen in the next settlement cycle. Usually it happens within 15 minutes. But it may take an hour in some cases.
1. **Before transacting:** Always check the transaction details. Review the applicable gas fee, total amount payable, before issuing a transaction.
1. **During transacting:** The status of the chain abstracted transaction is displayed in the app's context. Click on 'View Intent' details link. **Save** the unique intent identifier associated with the transaction. You'll need the **intent identifier** to track a failed transaction if something goes wrong.
1. **Track your transaction:** Use the [Arcana Intent Explorer](https://explorer.arcana.network/) with your intent ID to track status.

**Critical:** Keep your app/wallet open and logged. Especially if you encounter a failed transaction. Refunds often complete within 15 minutes. Note that the session must stay active for a refund to happen.

1. **No refund after 1 hour:** The protocol auto-retries, but you must stay logged in. If you closed the app/wallet, reopen and log back in to enable refund processing. If you did not receive a refund, contact Arcana team. Use any [support](../../../support/) channel. Make sure you mention the **intent identifier** that failed to refund or your wallet address with date / time of the transaction.

**Bottom line:** Your funds are protected. Failed transactions always get refunded. For failed transactions, the protocol itself starts the refund process. If for some reason that does not work, contact [support@arcana.network](mailto:support@arcana.network).

Viewing Refund

To view the refund, a user must open or log into the app and access the wallet. For refunds, ensure that an active session exists. The same wallet should be active as the one used to sign the intent and confirm the chain abstracted transaction.

Why is liquidity fragmentation an issue and how does CA solve it?

Liquidity fragmentation is an issue because it makes it difficult for users to spend their assets on any chain.

Let us take a simple case of a user's wallet that contains 3 USDC on Arbitrum and 2 USDC on Optimism.

If the user intends to send 4 USDC on Base, it is not possible to do so through a traditional wallet. This is because there is liquidity fragmentation for USDC in the wallet across Arbitrum and Optimism.

To be able to send USDC on Base, user must perform several complex steps.

First, there is no USDC on Base to be sent.

User cannot directly spend USDC on Base. This is despite enough USDC tokens when put together on the other two chains in the same wallet account.

To spend on Base, the user must bridge tokens from one or more source chains. That is a complex, multi-step, multi-click, time-consuming process.

It also needs non-trivial knowhow about secure bridging and getting the best token exchange deals.

Next, the user must to switch the network to Base and then send the tokens.

[Chain Abstraction (CA)](../../../concepts/ca/chain-abstraction/) lets user view unified balance across the source chains. CA lets users spend 4 USDC on Base with a single click.

The user does not have to convert the tokens on Optimism or Arbitrum to Base tokens to make this transaction on Base. With unified balance, onboarding a new chain does not necessarily mean that the user must first get tokens on the new chain.

The user can pledge or sign an intent to send tokens from any of the source chains to the destination chain.

How can a Web3 developer enable unified balance for dApp users?

Download and [install the appropriate CA SDK flavor](../../../ca/ca-sdk-installation/) as per the app type.

- **Web3 apps**: Install the [Arcana CA SDK](https://www.npmjs.com/package/@arcana/ca-sdk). Check out the integration example in [codesandbox](https://codesandbox.io/p/github/arcana-network/ca-sdk-example/main)
- Web3 apps using the **Wagmi library**: Install the [Arcana CA Wagmi SDK](https://www.npmjs.com/package/@arcana/ca-wagmi). Try the [codesandbox](https://codesandbox.io/p/github/arcana-network/ca-wagmi-example/main) integration example.

Refer to the respective SDK quick start guide for integration details.

I'm a Web3 wallet user, how can I enjoy unified balance with chain abstraction?

Web3 wallet users can unify assets across chains and spend on any chain. Log into a Web3 app integrated with the Arcana CA SDK, use any third-party browser-based wallet to issue chain abstracted transactions.

Alternatively, users can [download](https://chromewebstore.google.com/detail/arcana-wallet/nieddmedbnibfkfokcionggafcmcgkpi) and install the standalone Arcana CA wallet. It is a browser extension that can be deployed and used in the context of any supported [Web3 app](../../../web3-stack/ca_wallet_stack/#apps).

Why do Arcana CA wallet users need to pay gas fees to set up CA with Layer 1 chains?

When setting up Arcana chain abstraction to include Layer 1 chains, users need ETH to pay gas fees for signing the token allowance transaction with the Arcana vault smart contract. The Arcana standalone CA wallet doesn't cover these Layer 1 chain gas fees. As a result, users who choose to include Layer 1 chains in their CA scope must pay these gas fees themselves to set up the CA allowance.

What is a CA allowance and why are allowances needed?

Allowance or 'Permit' in the blockchain context allows a third party such as a smart contract, to perform transactions. This transaction happens from a user's EOA for a specified amount â€” without accessing the user's private key.

In the Arcana's CA context, [allowances](../../../concepts/ca/allowances/) enable unified balance and chain abstracted transactions. This lets users spend on any destination chain provided they have sufficient funds on the source chains. Allowance lets the protocol collect required funds from the source chains. It uses these funds to pay for gas and the transaction amount.

Which chains and ERC20 tokens does the unified balance feature support for chain abstraction SDKs?

Refer to the latest [supported chains and token list](../../../web3-stack/ca_stack/).

For the standalone Arcana CA wallet used to demonstrate chain abstraction the [supported chain and token list](../../../web3-stack/ca_wallet_stack/) may vary from the SDK. It can be used only in the context of a limited set of [supported apps](../../../web3-stack/ca_wallet_stack/).

Does integration CA SDK automatically enable an in-app CA wallet?

No there is no built-in in-app wallet offered by the Arcana SDKs. Web3 apps integrating with the Arcana CA SDK must use a third-party wallet for blockchain transactions.

How can a Web3 app enable unified balance for a user account?

The app must download, install and integrate with the CA-SDK. Then use the EIP-1193 provider to access the unified balance in the context of an authenticated user. See [Arcana CA SDK Reference](https://ca-sdk-ref-guide.netlify.app/) and [the usage guide](../../../ca/ca-usage-guide/) for details.

Can Arcana CA SDK work with Wagmi Web3 app?

For Web3 app built using Wagmi, integrate with the Arcana CA Wagmi SDK.

Can the Wagmi apps enable unified balance and chain abstraction?

Yes. Integrate teh app with both the CA SDKs to enable unified balance and chain abstraction: * Arcana CA SDK * Arcana CA Wagmi SDK

The `ca-wagmi` SDK replaces the Wagmi hooks: `useSendTransaction` and `useWriteContract`.

It also provides hooks such as `useBalance`, `useBalanceModal` and `useCAFn`. These hooks enable unified balance plug-and-play popup modal and chain abstracted `bridge`, `transfer` functions.

For details see [Arcana CA Wagmi SDK Quick Start Guide](../../../quick-start/ca-wagmi-quick-start/) and the [Arcana CA Wagmi SDK Reference](https://ca-wagmi-sdk-ref-guide.netlify.app/).

Who is the target audience for the Arcana CA SDKs?

Arcana CA SDKs help Web3 dApp developers handle fragmented blockchain assets, letting users spend on any chain.

CA SDK can integrates with dApps to offer unified balances across chains and chain abstracted transactions.

For a complete list of real life applications of unified balance, see [use cases](../../../ca/introduction/use-cases/) section.

Who is the target audience for the standalone Arcana CA wallet?

The standalone Arcana CA wallet is meant for wallet users. It is not a full featured wallet.

It showcases chain abstracted transactions for some of the popular [Web3 apps](../../../web3-stack/ca_wallet_stack/). Users can try viewing unified balance and trying out chain abstraction.

CA Transaction Limit

The standalone Arcana CA wallet has a $100 limit for any chain abstracted transactions

Transfers on the same chain have no such limit.

Give an example of how the CA SDK solves liquidity fragmentation?

**Liquidity Fragmentation**

Suppose a user has:

- Arbitrum: 3 USDC
- Optimism: 4 USDC
- Base: 0 USDC
- Ethereum: 0.001 ETH

The user wants to send 5 USDC to Base.

No single chain has enough funds, so liquidity fragmentation complicates the process. The user must figure out how to bridge, convert, and move assets to Base, which is complex and time-consuming.

**How unified balance and chain abstraction solve this**

With chain abstraction, the user sets up allowances once. Allowances control how much can be deposited from each source chain to Arcana vaults. Solvers provide liquidity on Base, and the protocol settles payments using these deposits.

The user signs an intent specifying the amount to deposit from source chains for the destination chain. Arcana CA collects pledged tokens and fees based on allowances. Solvers compete to provide liquidity in the user's Base EOA. After signing, the user gets liquidity almost instantly and can complete the 5 USDC transaction on Base seamlessly.

Can I request gas tokens using ERC20 through Arcana Chain Abstraction??

Yes, you can request gas tokens using ERC20 via Chain Abstraction.

For example, if you have 13 USDC and 0 ETH on Optimism but need to make a 15 USDC transaction requiring 0.0000001 ETH for gas, you'll need an extra 2 USDC plus the gas fee.

You can pledge or sign an intent to cover for the total USDC and gas fees. You can use the funds from other supported chains like Arbitrum or Base. Assumption: You have enough USDC to cover the deficit and fees.

Once you sign the intent, Arcana CA SDK supplies the needed USDC and gas in a single transaction.

Can a user review intent details before issuing a chain abstracted transaction?

Yes.

Users can review the intent details before issuing a CA transaction issued through the Arcana CA wallet. Apps integrated with the CA SDK displays the intent details from within app's context. The chain abstracted transaction occurs when a user approves it. The app can enable any third-party browser-based wallet to let the user issue a chain abstracted transaction.

Before submitting a transaction, user can click 'View Intent' to see the intent details. Once the transaction is successful, there are options to view the intent details as well as the transaction details.

To view the intent details later, user must note the intent identifier. Refer tot the intent details displayed in the 'View Intent' screen. Note it before confirming the transaction.

Use the Arcana Intent Explorer accessible at: <https://explorer.arcana.network/> to view the intent details.

You must enter the intent ID to view details at a later time.

View Intent Details

Does chain abstracted `transfer` allow funds deposit in a smart contract? Does it cause blockchain state update?

No. `transfer` does not support `data`.

Use [`request` with `sendTransaction`](https://ca-sdk-ref-guide.netlify.app/#quick-start) to deposit funds to a smart contract and update the blockchain state.

Why isn't this a normal transaction as balance exists on the destination chain?

Suppose you try to send 0.2 USDC from a 0.25 USDC balance, but the transaction uses funds from other chains. This is not an error.

A normal transaction requires both enough tokens and enough gas for fees. Even if you have enough tokens (0.2 < 0.25 USDC), the remaining balance may not cover gas fees. If native funds can't cover both the transaction and gas, the protocol pulls from other chains' allowances. This makes it a chain-abstracted transaction instead of a normal one.

## CA Wallet

Is the standalone, browser-based CA wallet meant for Web3 users?

Arcana offers the standalone, browser-based wallet meant for demonstration purposes. Web3 users can use this wallet to view unified balance and try chain abstracted transactions.

This is not a full-featured wallet. It does not work with any Web3 app. Use this wallet with any of the [supported Web3 applications](../../../web3-stack/ca_wallet_stack/#apps).

Where can a user download the Arcana CA wallet?

[Download](https://chromewebstore.google.com/detail/arcana-wallet/nieddmedbnibfkfokcionggafcmcgkpi) the CA wallet in the Chrome Store.

What are the available options for allowance setup?

There are two options:

To use chain abstraction, you can select different types of chains. It can be a combination of L1 and L2 chains or the L2 chains only:

1. L1 + L2 + Avalanche

   For example:

   - Ethereum, Avalanche and/or any other supported L2 EVM-compatible chains
   - Ethereum and any other supported L2 EVM-compatible chains
   - Fuel, Avalanche and/or any other supported L2 EVM-compatible chains
   - Fuel and any other supported L2 EVM-compatible chains
   - Ethereum and Fuel

1. L2 + Avalanche

   For example,

   - Avalanche and any other supported L2 EVM-compatible chains
   - Any supported L2 EVM-compatible chains

How do the allowance setup options differ in usage?

If you choose option 1, your wallet must have native token to cover gas fees on the L1 chain for the allowance transaction.

If you select option 2 (Only L2 chains and/or Avalanche ) then it is not mandatory. Arcana sponsors the gas fee for the allowance transaction.

Why must a user set up allowance before using the CA wallet?

Allowances let users set the largest amount they permit for transfer from a source chain. The [chain abstraction](../../../concepts/ca/chain-abstraction/) protocol pulls these funds and deposits them into the Arcana vaults on the source chains. The protocol uses these deposits to pay for the transaction on the destination chain.

Why must a user have gas tokens in the wallet to set up allowance for Layer 1 blockchains?

Layer 1 chains such as Ethereum and Fuel require the user to pay for the gas fee and pay for the allowance set up transaction. For Layer 2 chains and Avalanche, the gas fee required to make the allowance set up transaction is sponsored by Arcana until further notice.

Limited Gas Sponsorship

The gas fee sponsored for the allowance setup transaction is limited.

For BSC chain, it is capped at $0.05. If gas fees are high at the time of allowance setup, then the allowance setup transaction may fail if the user does not have tokens to pay for the gas fee.

Does the Arcana CA wallet allow any CA transactions?

The chain abstracted transaction request for funds (RFF) limit is $100.

Does the Arcana CA wallet support Testnet as well as Mainnet?

Use the Arcana CA wallet to issue chain abstracted transactions for any of the supported Web3 *apps, chains and tokens*. See [here](../../../web3-stack/ca_wallet_stack/) for the complete list.

Why is Arcana CA Wallet not shown as an option when using WalletConnect?

When using WalletConnect, if you do not see the

- You havenâ€™t installed the standalone Arcana CA wallet from the Chrome Store.
- You have installed the it but the browser extension is disabled.

If the issue persists, contact [support@arcana.network](mailto:support@arcana.network).

Does the Arcana CA wallet support cross-chain token swaps?

For now, the Arcana CA Wallet allows users to combine a single type of token across supported source chains. They can spend the unified balance of that token on any destination chain.

We are actively working on the cross-chain token swap feature.

Cross-Chain Swap Functionality:

- Allows users to spend assets on a destination chain without prior liquidity.
- Enables asset combination across source chains for unified balance.
- Users can spend the combined balance in any supported token on any destination chain.

Is `window.ethereum` supported by Arcana CA wallet?

Yes.

Note that apps using the EIP-1193 provider that use the Arcana CA wallet may face issues sometimes if they use `window.ethereum`.

This is because `window.ethereum` can be overridden by the latest installed wallet or the last used wallet in the browser.

Apps using EIP-6963 will not see such an issue when using `window.ethereum`.

What is the `bridge` feature in the Arcana CA wallet?

The `bridge` feature in Arcana CA wallet allows users to move tokens in a chain abstracted manner. They can move tokens from two or more source chains to a destination chain near instantly in their wallet.

This feature uses Arcanaâ€™s intent-based chain abstraction to bridge userâ€™s funds. No third-party bridge is involved.

Does the Arcana CA wallet support addition of custom ERC-20 tokens?

Yes.

Users can add custom ERC-20 tokens and view token balances in the Arcana CA wallet. The wallet displays default supported tokens such as USDT, USDC, and ETH.

Supported tokens

Custom tokens are not supported for chain abstracted transactions and unified balance.

Unified balance and chain abstracted transactions are applicable for [supported apps, chains, and tokens](../../../web3-stack/ca_wallet_stack/).

What is allowance and why is must allowances be set up for using the Arcana CA wallet?

Allowances enable a third party, such as a smart contract, to perform transactions on behalf of the user. It can issue a deposit transaction from the user's wallet for a specified amount, without accessing the user's private key.

Users must sign allowances on the source chain(s) to enable the Arcana chain abstraction protocol. This permits the Arcana Vault contract to deposit the necessary funds from the source chains.

The deposits are done as per the user controlled allowance settings on the source chains.

This lets the protocol to enables liquidity on the destination chain. A chain abstracted transaction on the destination chain addresses the user's intent.

For some websites the Arcana CA wallet is not displayed despite having the browser extension active?

Arcana Networkâ€™s Chain Abstraction Wallet is an injected wallet. This is same as how a wallet such as Rabby works.

If a website does not allow injected Web3 wallets, then it will not show up.

Many websites support one injected provider (like MetaMask) at a time. If more than one injected wallets are active, the website might not recognize all but one, leading to others being hidden.

Also, some websites that need user authorization for security reasons. Such websites ensure that they can accesses the wallet data once the user explicitly grants permission. Such sites may not allow the injected wallets or may be optimized for popular injected wallets such as MetaMask.
# Auth

# Web3 Made Effortless

Speed up user onboarding to Web3 apps by eliminating the complex setting up and connecting a Web3 wallet for login and authentication.

Onboard users to Web3 apps via familiar Web2 login providers. Let authenticated users instantly access the in-app, non-custodial Arcana wallet to sign blockchain transactions.

Integrate Web3 apps with the Arcana Auth SDK to enable [social login](../concepts/social-login/).

**TL;DR** | [Setup](../setup/config-auth/register-app/) | [Install](../auth/sdk-installation/) | [Quick Start](#quick-start) | [Examples](https://github.com/arcana-network/auth-examples) | [Usage](../introduction/)

## Quick Start

What kind of Web3 app do you have?

Select the appropriate app type and get started with integrating the Arcana Auth SDK.

[Wagmi](../quick-start/wagmi-quick-start/) [RainbowKit](../quick-start/rainbowkit-quick-start/) [Web3-React](../quick-start/web3-react-quick-start/) [WalletConnect](../quick-start/walletconnect-quick-start/) [HTML/CSS/JS](../quick-start/vanilla-web-apps-quick-start/) [React/NextJS](../quick-start/react-nextjs-quick-start/) [Vue](../quick-start/vue-quick-start/)

[Solana](../quick-start/solana-quick-start/) [MultiversX](../quick-start/mvx-quick-start/) [Near](../quick-start/near-quick-start/)

[React-Native](../quick-start/react-native-quick-start/) [Flutter](../quick-start/flutter-quick-start/)

[Unity](../quick-start/unity-quick-start/)

Advanced Usage

Let users onboard Web3 apps via [social login](../concepts/social-login/). Let them spend [unified balance](../concepts/ca/unified-balance/) on any chain through [chain abstracted transactions](../concepts/ca/chain-abstraction/). For this, the app must be [integrated with **both** the SDKs](../quick-start/auth-ca-wagmi-quick-start/), Arcana CA SDK and the Arcana Auth SDK.

## Demo

Would you like to experience how social login works without actually integrating your Web3 app with the Arcana Auth SDK? Try the SDK integration demo app.

[### SDK Integration Demo](https://demo.arcana.network)

## Auth Playground

[### Try Now](https://codesandbox.io/p/github/shaloo/auth-sdk-example-vite-vue/main?import=true)

## Onboard with Zero Friction

Let users log into your Web3 app securely without having to deal with Web3 specific complexities. Integrate with Arcana Auth SDK to enable social login.

- **Social Login**

  ______________________________________________________________________

  Enable Web2-like login in Web3 apps with Arcana Auth SDK and enable in-app Arcana wallet.

  [Learn More...](../concepts/social-login/)

- **Set up in 2m**

  ______________________________________________________________________

  Use Arcana Developer Dashboard to register app, configure settings and manage user experience.

  [Configure](../setup/config-dApp-with-db/)

- **Integration Examples**

  ______________________________________________________________________

  Get up and running quickly with these integration examples for various supported Web3 apps.

  [Integration Examples](https://github.com/arcana-network/auth-examples)

- **Resources**

  ______________________________________________________________________

  Release notes, migration guides, Dashboard Settings Guide, FAQ, integration checklists and more.

  [Resources](https://docs.arcana.network/relnotes/latest-auth-release-note/)

## Need Help?

ðŸ“¨ [Email Arcana Support](mailto:support@arcana.network)

âœ… Be a part of the [Arcana Community](../support/). Stay informed about the new upcoming SDK capabilities and usage examples.

[Integration Checklist](../checklists/)

# Arcana Auth-Core SDK Usage

The Arcana Auth-Core SDK is a client-side tool for developers to assign Web3 keys to authenticated users for signing blockchain transactions. Use this SDK instead of the Arcana Auth SDK for key assignment or when building a completely whitelisted solution.

When initializing Arcana Auth-Core SDK, the developer sets the redirect URL. The SDK performs OAuth2 login with the chosen provider and returns the login token from the provider. At the specified redirect URL, the developer uses this token to fetch the user's private key.

Limited Feature SDK

The Arcana Auth-Core SDK has limited capabilities as compared to the Arcana Auth-Core SDK:

- No built-in plug-and-play login UI feature
- No built-in Arcana wallet UI
- No support for Global keys, only app-specific keys (default) are allowed.
- No support for enhanced wallet security via MFA.

Contact [support](mailto:support@arcana.network) to access the latest release.

[SDK Reference](https://auth-core-sdk-ref-guide.netlify.app/)

## Installation

### npm

```
npm install --save @arcana/auth-core

```

### yarn

```
yarn add @arcana/auth-core

```

### CDN

```
<script src="https://cdn.jsdelivr.net/npm/@arcana/auth-core"></script>

```

```
<script src="https://unpkg.com/@arcana/auth-core"></script>

```

## Usage

### Import

```
const { AuthProvider, SocialLoginType, CURVE } = window.arcana.auth_core;
// or
import { AuthProvider, CURVE } from '@arcana/auth-core';

```

### Initialize `AuthProvider`

```
const auth = new AuthProvider({
   curve: CURVE.ED25519, // defaults to CURVE.SECP256K1
   appId: `${appId}`,
   redirectUri: ''    
});

```

### Initiate Social Login

```
await auth.loginWithSocial(SocialLoginType.google);

```

### Initiate Passwordless Login

```
const result = await auth.loginWithPasswordlessStart(`${emailAddress}`, PasswordlessOptions);

```

### Get Login Status

```
const loggedIn = auth.isLoggedIn(); /* boolean response */

```

### Get User Info

After successful login, the user information is saved in memory. Before the page `unload` event, the user information gets stored in `session-storage`. After a successful page reload, it is fetched again to memory and removed from the `session-storage`.

```
const userInfo = auth.getUserInfo();
/* 
  UserInfo: {
    loginType: 'google',
    userInfo: {
      id: 'abc@example.com',
      name: 'ABC DEF',
      email: '',
      picture: ''
    },
    privateKey: ''
  }
*/

```

For userInfo type details, see [Exported Types](#exported-types).

### Get Public Key

```
const publicKey = await auth.getPublicKey({
  verifier: SocialLoginType.google,
  id: `abc@example.com`,
}); 

```

For details regarding `SocialLoginType`, see [Exported Enums](#exported-enums).

### Clear Login Session

```
await auth.logout();

```

## TypeScript Usage

### Exported Enums

```
enum SocialLoginType {
  apple = 'apple',
  google = 'google',
  discord = 'discord',
  twitch = 'twitch',
  github = 'github',
  twitter = 'twitter',
  telegram = 'telegram',
  passwordless = 'passwordless',
}

```

### Exported Types

```
interface KeystoreInput {
  id: string;
  verifier: LoginType;
}

interface InitParams {
  // arcana app id with network hint, ex xar_dev_xyz - xyz is the appId
  appId: string;
  network?: 'dev' | 'testnet'| 'mainnet'; /* defaults to testnet  */
  /**
   * autoRedirect: is redirected via SDK, instead of `loginWithSocial`
   * output being `{ url }`
  */
  autoRedirect: boolean                   /* defaults to true     */
  /** 
   * shouldVerifyState: state is compared internally, the state is stored
   * to local storage on login init
  */
  shouldVerifyState: boolean              /* defaults to true     */ 
  /**
   * revokeTokenPostLogin: Some tokens need to be revoked to get new tokens
   * on subsequent login or to prevent misuse, SDK does this internally. If
   * set to `false` there is a cleanup function that is output of the func
   * `auth.handleRedirectMode()` which should be called after token is used 
   * for secondary purpose
   */
  revokeTokenPostLogin: boolean           /* defaults to true     */
  debug?: boolean;                        /* defaults to false    */
}

interface GetInfoOutput {
  loginType: SocialLoginType;
  userInfo: UserInfo {
    id: string;
    email?: string;
    name?: string;
    picture?: string;
  };
  privateKey: string;
}

```

## Flow Modes

### Redirect

`login.js`

```
window.onload = async () => {
  const auth = new AuthProvider({
    appId: `${appId}`,
    redirectUri:'path/to/redirect' 
  });

  googleLoginBtn.addEventListener('click', async () => {
    await auth.loginWithSocial(SocialLoginType.google);
  });
}

```

`redirect.js`

```
window.onload = async () => {
  const auth = new AuthProvider({
    appId: `${appId}`,
    redirectUri:'path/to/redirect' 
  });

  await auth.handleRedirect();

  if(auth.isLoggedIn()) {
    const info = auth.getUserInfo();
  }
}

```

### Variables

- `origin` - Base URL of the app.

# Auth Demo

Do you wish to experience how social login can remove the friction of onboarding users to any Web3 app before you try to enable that in your Web3 app?

Experience the power of social login for onboarding Web3 apps in a frictionless manner. Click to log into the Arcana Auth SDK demo app.

[### SDK Integration Demo](https://demo.arcana.network)

This sample app integrated with the Arcana Auth SDK, demonstrates the following features:

- Any user, even those who do not yet have their own keys or a wallet to connect to the app, can onboard Web3 app integrated with the Arcana Auth SDK.
- Use of familiar Web2 authentication mechanisms (for example, Google, passwordless login, etc.) to onboard Web3 app
- Automatic access to a secure, self-custodial, in-app, embedded, built-in Arcana wallet right after user authenticates.
- No need to download or set up a Web3 wallet - own your in-app wallet and its assets.
- Upon subsequent log ins, access the same wallet.
- In-app wallet allows users to import keys if they wish to use EOA accounts associated with any third-party browser-based wallets.

# Auth Errors

If you integrate a Web3 app with the Arcana Auth SDK, you might encounter some of the following errors depending on user actions, app logic, and the sequence of Arcana Auth SDK function calls.

For more insights, refer to the [Arcana Auth SDK troubleshooting guide](../../troubleshooting/).

## Error Messages

| Error | Description | | --- | --- | | wallet_not_initialized | Wallet is not initialized. Please run `await wallet.init()` before calling any other wallet functions. | | user_not_logged_in | User is not logged in. First, trigger user login and after successful authentication, you can use wallet functions. |

## Passwordless Authentication Errors

| Error | Description | | --- | --- | | authorize_params_missing | Missing one or more required params. | | login_token_already_used | Login token is invalid or has already been used. | | login_token_not_found | Login token not found in query params. | | login_token_invalid | Login token is invalid. | | user_token_not_found | User token not found in header or query. | | user_token_invalid | User token is invalid. |

# Arcana Auth SDK Usage

Use the Arcana Auth SDK to onboard users via social login, allow users to access the in-app Arcana wallet and sign blockchain transactions.

[SDK Reference](https://authsdk-ref-guide.netlify.app/)

## Installation

### NPM/Yarn Install

```
npm install --save @arcana/auth
yarn add @arcana/auth

```

### CDN Install

```
<script src="https://cdn.jsdelivr.net/npm/@arcana/auth"></script>

```

```
<script src="https://unpkg.com/@arcana/auth"></script>

```

______________________________________________________________________

## Quick Start with `ethers.js`

```
import { AuthProvider } from '@arcana/auth'
import { ethers } from 'ethers'

// clientId: Arcana Unique App Identifier via Dashboard
const auth = new AuthProvider(`${clientId}`) 

window.onload = async () => {
  try {
    await auth.init()

    const arcanaProvider = await auth.connect()
    const provider = new ethers.providers.Web3Provider(arcanaProvider)

    await provider.getBlockNumber()
    // 14983200
  } catch (e) {
    // log error
  }
}

```

______________________________________________________________________

## Quick Start with `web3.js`

```
import { AuthProvider } from '@arcana/auth'
import Web3 from 'web3'


// clientId: Arcana Unique App Identifier via Dashboard
const auth = new AuthProvider(`${clientId}`)

window.onload = async () => {
  try {
    await auth.init()

    const arcanaProvider = await auth.connect()
    const provider = new Web3(arcanaProvider)

    await provider.getBlockNumber()
  } catch (e) {
    // log error
  }
}

```

______________________________________________________________________

## Usage

### AuthProvider

#### Import AuthProvider

```
const { AuthProvider } = window.arcana.auth // From CDN
// or
import { AuthProvider } from '@arcana/auth' // From npm

```

#### Initialize AuthProvider

```
import { AuthProvider } from '@arcana/auth'

const auth = new AuthProvider(`${clientId}`, {
  position: 'left', // default - right
  theme: 'light', // default - dark
  alwaysVisible: false, // default - true
  setWindowProvider: true, // default - false
  connectOptions: {
    compact: true, // default - false
  },
})

await auth.init()

```

See [Get Started with Auth SDK](https://docs.arcana.network/quick-start/wagmi-quick-start/) for more Auth SDK usage insights.

### Auth API

#### Plug and Play Authentication

```
const provider = await auth.connect()

```

#### Custom Login

Social login

```
// loginType - Apple, Cognito, Discord, GitHub, Google, Steam, Twitch, Twitter
const provider = await auth.loginWithSocial(`${loginType}`)

// Note: Use loginWithBearer method for Telegram, Firebase

```

Passwordless login via an email verification OTP

```
await auth.loginWithLink(`${email}`)

```

Deprecated

`loginWithLink` is deprecated.

Use `loginWithOTPStart`, `loginWithOTPComplete` for passwordless login with OTP. The OTP will be received via email supplied in `loginWithOTPStart` call.

Passwordless login via OTP

```
try {
const loginState = await auth.loginWithOTPStart("john.doe@somemail.com");
await loginState.begin()
if(loginState.isCompleteRequired) {
  // App is using default app-specific keys
  // App must ask the user to input a 6-digit code received in mail
  var userInput = prompt("Please enter a 6-digit code:", "111111");

  // Validate if the input is a 6-digit code
  if (userInput !== null && 
      userInput.length === 6 && 
      !isNaN(userInput)) {
    const complete = await auth.loginWithOTPComplete(
      userInput, 
      onMFARequired() => {
      //Hide overlay, if used in the app
    });
    console.log("complete:",complete);
  } else {
    console.log("Invalid input. Please enter a valid 6-digit code.");
  } 
} else {
  // App is using global keys, built-in OTP input UI is displayed by the SDK
  // App is not required to add code for OTP input
}
} catch (e) {
console.log(e);
}

```

Check if a user is logged in

```
const isloggedIn = await auth.isLoggedIn() // boolean

```

Check and reconnect, if required, within a 30-minute window after logout.

```
const canReconnect = await auth.canReconnect()
// auth.reconnect() should be on a click event since it opens a new tab
await auth.reconnect()

```

Get user information. The loginToken is a JWT Token that can be verified by using the public JWT Key. In the future this will be deprecated. Refer to userDIDToken. It is base64 encoded data

`base64(JSON.stringify([sig, claims]))`

```
const info = await auth.getUser()

/*
interface UserInfo {
    address: string;
    email?: string;
    id: string;
    userDIDToken: string;
    loginToken: string;
    loginType: Logins | "passwordless";
    name?: string;
    picture?: string;
    publicKey: string;
}
*/

```

Show wallet UI

```
auth.showWallet()

```

#### Logout

```
await auth.logout()

```

### Get Public Key

Get the public key associated with an email.

```
await auth.getPublicKey(`${email}`)

```

### Encryption

#### ECIES Encryption

The wallet uses ECIES to decrypt cipher text, so a complementary encryption method has to be used from package `eth-crypto`.

```
import EthCrypto from 'eth-crypto'

const encrypted = await EthCrypto.encryptWithPublicKey(
  'bf1cc3154424dc22191941d9f4f50b063a2b663a2337e5548abea633c1d06ece...', // publicKey
  'foobar' // message
)

```

______________________________________________________________________

## Arcana Wallet Operations

Arcana wallet is an embedded Web3 wallet offered via the Auth SDK. It uses [Ethereum JSON-RPC](https://ethereum.github.io/execution-apis/api-documentation/) to interact with the blockchains.

### JSON RPC Support

Arcana wallet implements the following common interfaces exposed by all Ethereum clients:

- [eth_accounts](https://ethereum.org/en/developers/docs/apis/json-rpc/#eth_accounts)
- [eth_getBalance](https://ethereum.org/en/developers/docs/apis/json-rpc/#eth_getbalance)
- [eth_sendTransaction](https://ethereum.org/en/developers/docs/apis/json-rpc/#eth_sendtransaction)
- [eth_sign](https://ethereum.org/en/developers/docs/apis/json-rpc/#eth_sign)
- [eth_call](https://ethereum.org/en/developers/docs/apis/json-rpc/#eth_call)

### Switching Chains

#### `wallet_addEthereumChain`

This method is specified by [EIP-3085](https://eips.ethereum.org/EIPS/eip-3085).

```
try {
  await provider.request({
    method: 'wallet_addEthereumChain',
    params: [{
      chainId: '0xABCDEF',
      chainName: 'My Custom Chain',
      rpcUrls: ['...']
    }]
  })
} catch(error) {
  ...
}

interface AddEthereumChainParameter {
  chainId: string; // A 0x-prefixed hexadecimal string
  chainName: string;
  nativeCurrency: {
    name: string;
    symbol: string; // 2-6 characters long
    decimals: 18;
  };
  rpcUrls: string[];
  blockExplorerUrls?: string[];
}

```

#### `wallet_switchEthereumChain`

This method is specified by [EIP-3326](https://eips.ethereum.org/EIPS/eip-3326).

```
try {
  await provider.request({
    method: 'wallet_switchEthereumChain',
    params: [{ chainId: '0xf00' }],
  });
} catch(error) {
  ...
}

interface SwitchEthereumChainParameter {
  chainId: string; // A 0x-prefixed hexadecimal string
}

```

If the error code (error.code) is 4902, then the requested chain has not been added, and you have to request to add it via `wallet_addEthereumChain`.

#### `wallet_watchAsset`

This method is specified by [EIP-747](https://eips.ethereum.org/EIPS/eip-747)

```
await provider.request({
  method: 'wallet_watchAsset',
  params: {
    type: 'ERC20',
    options: {
      address: '0xB983E01458529665007fF7E0CDdeCDB74B967Eb6',
      symbol: 'FOO',
      decimals: 18,
      image: 'https://foo.io/token-image.svg',
    },
  },
})

```

Check out [Auth SDK Reference Guide](https://authsdk-ref-guide.netlify.app/) for details.

# Arcana Auth Wagmi SDK Usage

Use the Arcana Auth Wagmi SDK to onboard users in a Wagmi app via social login. Let users instantly access the in-app Arcana wallet and sign blockchain transactions.

[SDK Reference](https://deploy-preview-28--wagmi-authsdk-ref-guide.netlify.app/)

## Install

```
npm install --save @arcana/auth @arcana/auth-wagmi

```

## Usage

### With plug n play UI

```
import { ArcanaConnector } from "@arcana/auth-wagmi"
import { AuthProvider } from "@arcana/auth"

const auth = new AuthProvider(`${arcana_client_id}`)
const connector = ArcanaConnector({
  auth,
})

```

### With custom UI

```
import { ArcanaConnector } from "@arcana/auth-wagmi"
import { AuthProvider } from "@arcana/auth"

const auth = new AuthProvider(`${arcana_client_id}`)
const connector = ArcanaConnector({
  auth,
  loginType: {
    provider: "google"
  } 
})

```

For more details on connectors and integrating your app with Wagmi, see [Wagmi documentation](https://wagmi.sh/react/getting-started).

# Integrate Custom Auth App

Integrate ['Custom-Auth'](../../concepts/authtype/custom-auth/) apps with [Arcana Auth SDK](../../concepts/authsdk/) and allow authenticated users to sign blockchain transactions with the in-app [Arcana wallet](../../concepts/anwallet/).

## Prerequisites

- The app should be [registered and configured for using custom Auth](../../setup/config-custom-auth/) using the Arcana Developer Dashboard.

- You will require the following to integrate the app with the SDK:

  - Unique *Client ID* assigned to the app after registration.
  - *Provider identifier* value displayed in the registered app settings in the dashboard **after configuring and saving** the custom Auth settings.

## 1. Install

Depending upon the [app type](../../web3-stack/apps/), you may need to [install one or more SDKs](../sdk-installation/) and the integration code may vary from one app type to another.

## 2. Integrate App

Select the app type and follow the instructions to integrate the app with the SDK.

[HTML/CSS/JS App](../integrate/vanilla-html-css-js/) [React/Next.js App](../integrate/react-nextjs/) [Wagmi App](../integrate/wagmi/) [WalletConnect App](../integrate/walletconnect/) [RainbowKit App](../integrate/rainbow/) [Web3-React App](../integrate/web3-react/) [Unity App](../integrate/unity/)

[Flutter Apps](../mobile/flutter-get-started/) [React-Native Apps](../mobile/react-native-get-started/)

[Custom Auth](./)

No user onboarding

When using custom authentication, apps **do not onboard users** via the social login feature of the Arcana Auth SDK. Simply integrate with the SDK, access `AuthProvider` and call `loginWithCustomProvider` to provision the user's keys for signing blockchain transactions.

## 3. Call `loginWithCustomProvider`

After the user logs in successfully via custom authentication solutions, get the JWT and provide it as input to the Arcana Auth SDK method below:

```
await auth.loginWithCustomProvider({
  token: params.token, //JWT Token
  userID: params.userID,  // Email or ID as configured in the Dashboard settings
  provider: "provider-id-name", //Custom Auth Provider identifier displayed in the Dashboard
});

```

Upon success, `loginWithCustomProvider` will ensure that the authenticated user's key shares are fetched locally and the user key is generated within the app/user context securely, with full privacy.

Sample Code

Refer to [Custom Auth Frontend](https://github.com/arcana-network/custom-provider-fe-example) and [Custom Auth Server](https://github.com/arcana-network/custom-provider-server-example) for details. These are examples of a custom authentication server and a frontend that uses the `loginWithCustomProvider` method for fetching authenticated user's keys to perform blockchain transactions.

## What's Next?

Use `AuthProvider`, the EIP-1193 provider offered by the SDK, to call supported JSON/RPC functions and [Web3 wallet operations](../web3-ops/evm/) in the authenticated user's context.

## See also

**'Custom-Auth'** integration example: See `sample-auth-custom-oauth` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

- [FAQ](../../faq/faq-gen/)
- [Troubleshooting Guide](../../troubleshooting/)
- [Arcana Auth SDK Errors](../auth-error-msg/)
- [Arcana Auth SDK Usage Guide](../auth-usage-guide/)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

[Try Demo App](https://demo.arcana.network)

# Custom Wallet UI

Learn how a Web3 app can use a custom wallet UI instead of the default, built-in, [Arcana wallet](../../concepts/anwallet/) UI and integrate with the [Arcana wallet](../../concepts/authsdk/) to enable [social login](../../concepts/social-login/) and allow users to sign blockchain transactions.

## Prerequisites

To log into the Arcana Developer Dashboard, youâ€™ll need an account with a supported social login or use email for passwordless access.

- Google
- GitHub
- Twitch
- Discord

## 1. Dashboard Login

Use <https://dashboard.arcana.network> to log in with one of the available options.

Developer Dashboard Login Page

Aggregate Login

The [aggregate login](../../concepts/aggregatelogin/) feature in the Arcana Auth SDK merges login identities from social providers into one Arcana account if the email ID is the same across these providers. Developers can log into the Arcana Developer Dashboard using any supported provider and still access the same Arcana account and app settings.

## 2. Register App

Use the dashboard to create a new app entry and [register the app](../../setup/config-auth/register-app/). While specifying the new app name and other details, specify the **Wallet UI Mode** setting as 'Custom UI'. By default, it is set to use the built-in, Arcana wallet UI. Then click the 'Create' button to confirm app registration. Once registered, you cannot change the **Wallet UI Mode** setting.

Choose Custom Wallet UI

## 3. Configure Social Login

Follow the instructions to [configure social login](../../setup/) and [custom IAM providers](../../setup/config-idm/) if required, before integrating the app with the Arcana Auth SDK.

## 4. Integrate App

Select the app type and follow the instructions to integrate the app with the SDK.

[HTML/CSS/JS App](../integrate/vanilla-html-css-js/) [React/Next.js App](../integrate/react-nextjs/) [Wagmi App](../integrate/wagmi/) [WalletConnect App](../integrate/walletconnect/) [RainbowKit App](../integrate/rainbow/) [Web3-React App](../integrate/web3-react/) [Unity App](../integrate/unity/)

[Flutter Apps](../mobile/flutter-get-started/) [React-Native Apps](../mobile/react-native-get-started/)

[Custom Auth](../custom-auth/)

## 5. Onboard Users

Apps that are integrated with the Arcana Auth SDK can choose the built-in [plug-and-play login UI](../../concepts/plug-and-play-auth/) or use custom login ui to onboard users.

User Onboarding Considerations

1. **Log in Options:** What options are offered by the app to the onboard users via social login? *Configure the required [social login providers](../../setup/config-auth/) via the dashboard.*
1. **Built-in or Custom Login UI:** Does the Web3 app have a custom login UI or do they need to use the built-in, [plug-and-play login UI](../../concepts/plug-and-play-auth/) modal offered by the Arcana Auth SDK? *Choose the appropriate onboarding functions of the `AuthProvider`.*
1. **Session Management:** Does the authenticated user stay logged in if they accidentally close the browser tab? If yes, what is the acceptable Web3 app security window for the session? After how long should the session expire and a user re-login is necessitated for security? *Configure the [session management settings](../../setup/config-dApp-with-db/#login-session-management) via the dashboard.*
1. **Reconnect:** Does the Web3 app allow users to stay connected or require re-authentication after a certain time has elapsed? *Use `isConnected`, `canReconnect` and `reconnect` functions of the `AuthProvider`.*

[Wagmi Apps](../onboard/wagmi/wagmi-pnp-ui/) [RainbowKit Apps](../onboard/rainbow/rainbow-pnp-ui/) [WalletConnect Apps](../onboard/walletconnect/walletconnect-pnp-ui/) [Web3-React Apps](../onboard/web3-react/web3-react-pnp-ui/) [React/Next.js Apps](../onboard/react-nextjs/use-plug-play-auth/) [Vanilla HTML/CSS/JS App](../onboard/vanilla/use-plug-play-auth/) [Vue App](../onboard/vue/use-plug-play-auth/) [Flutter Apps](../mobile/flutter-get-started/) [React-Native Apps](../mobile/react-native-get-started/)

[Wagmi Apps](../onboard/wagmi/wagmi-custom-ui/) [RainbowKit Apps](../onboard/rainbow/rainbow-custom-ui/) [WalletConnect Apps](../onboard/walletconnect/walletconnect-custom-ui/) [Web3-React Apps](../onboard/web3-react/web3-react-custom-ui/) [React/Next.js Apps](../onboard/react-nextjs/custom-ui/) [Vanilla HTML/CSS/JS App](../onboard/vanilla/custom-ui/) [Vue App](../onboard/vue/custom-ui/) [Flutter Apps](../mobile/flutter-get-started/) [React-Native Apps](../mobile/react-native-get-started/)

## Advanced

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

Global vs. App Specific Keys

Apps using app-specific keys must use a custom login UI that allows users to input the OTP. In this case, the `isCompleteRequired` boolean returns `true` after initiating login with OTP.

Apps using global keys are not required to use a custom login UI. A built-in login UI is automatically displayed for the user for OTP. Users must enter the OTP received via email in this UI.

MFA Enabled / Disabled

During passwordless login via OTP, apps configured for MFA and those using overlays must hide it to enable OTP input. Use the `isMFARequired` callback in the `loginWithOTPComplete` method to hide the overlay.

Reconnect Users

Use `canReconnect` and `reconnect` methods of `AuthProvider` within a 30-min window of the user-logout action. Allow users to automatically reconnect to the app without re-authentication.

See [`canReconnect`](https://authsdk-ref-guide.netlify.app/classes/authprovider#canReconnect) and [`reconnect`](https://authsdk-ref-guide.netlify.app/classes/authprovider#reconnect) for details.

Apps Using Custom Auth

Web3 apps that use custom user authentication solutions and require authenticated users to sign blockchain transactions can also integrate with the Arcana Auth SDK. These apps can skip the social onboarding feature and use `loginWithCustomProvider` function of the `AuthProvider` to assign keys securely. [Learn more...](../custom-auth/)

## 6. Plug in Custom Wallet UI

Once user onboarding logic is in place, add code to wire your custom wallet UI to enable wallet operations.

- Issue Wallet Ops
- Manage User Control
- Export Private Key

### Issue Wallet Ops

During app integration with Arcana Auth SDK, an `AuthProvider` is created. This provider is a standard Ethereum EIP-1193 provider. It facilitates wallet interactions with the blockchain. Use `AuthProvider` to call the [JSON-RPC API](https://ethereum.org/en/developers/docs/apis/json-rpc/) and handle [Web3 wallet operations for the selected chains](../web3-ops/evm/). Add code to trigger wallet actions like sending transactions, signing messages, and executing contract calls.

Sample Code

The following code snippet shows how an HTML/CSS/JS app can integrate with the Arcana Auth SDK, onboard users via plug-and-play login UI and use the standard EIP-1193 Ethereum provider for issuing blockchain transactions through a custom wallet UI.

```
import { AuthProvider } from "@arcana/auth";
import { ethers } from 'ethers';

let provider;
const auth = new AuthProvider('xar_live_nnnnnnnnnnnnnnncdddddddd')  //Use registered app client Id

// initialize the Arcana AuthProvider before calling any AuthProvider functions
...
await auth.init()
...

// onboard users - for e.g. using plug-and-play ui

const arcanaProvider = await auth.connect()

// alternatively, onboard users by calling loginWithLink(deprecated), `loginWithOTPStart`, `loginWithOTPComplete`, loginWithSocial, loginWithBearer for passwordless, social or IAM providers.
...

const provider = new ethers.providers.Web3Provider(arcanaProvider)

// Call ethers provider APIs see https://docs.ethers.org/v5/api/providers/provider/ for details
await provider.getBlockNumber()

// Use the Arcana provider to sign a message using JSON RPC calls

async function signMessage() {

  // Display a notification in custom wallet UI  showing the message details and seeking user's approval

  ...

  // Once user approves, issue the request via the Arcana Auth SDK to sign transaction

  const { sig } = await arcanaProvider.request({
    method: 'eth_sign',
    params: [
      {
        from, // sender account address
        data: 'Some message data',
      },
    ],
  })
  console.log({ sig })
}

...

// You can send tokens or use eth_sendtransaction functionality in custom wallet UI 
// Show a UI notification displaying the transaction details and ask for user's approval

...

// Use the Arcana provider to issue the send transaction

async function sendTransaction() {
  const hash = await arcanaProvider.request({
    method: 'eth_sendTransaction',
      params: [{
      from,
      gasPrice: 0,
      to: '0xE28F01Cf69f27Ee17e552bFDFB7ff301ca07e780', // receiver account address
      value: '0x0de0b6b3a7640000',
    },],
  })
  console.log({ hash })
}

...

```

### Manage User Control

For a smooth user experience, ensure your custom UI displays clear approval/rejection prompts when blockchain requests are made. Users must be able to view the details and accept or reject these actions.

### Export Key Option

When using the default Arcana wallet UI, authenticated users can access and copy their private key from the profile tab. For custom wallet UI, developers should include secure options for users to export their private key. Use the `AuthProvider` to access the private key and make a JSON/RPC `request` call with the `_arcana_getPrivateKey` method to retrieve the key securely in the user's context.

Sample Code

```
// Only valid when custom wallet UI is selected in the dashboard
// during app registration

async function onClickGetUserPrivateKey() {
  const authProvider = window.ethereum //assuming setWindowProvider is set when AuthProvider was instantiated 
  try {
    const userPkey = await authProvider.request({
      method: '_arcana_getPrivateKey',
      params: []
    });
    // Do something with the key in custom wallet UI
    // For e.g., display it in the app context, allow user to copy it
  } catch(error) {
        console.log(error);
  };
}

```

Access Limitation

If the app is configured through the Arcana Developer Dashboard for using the default [app specific keys option](../../concepts/keyspace-types/), then `_arcana_getPrivateKey` can be used. Not available for the Global Keys [Keyspace configuration setting](../../concepts/keyspace-types/) for security reason.

## What's Next?

Add code to use the `AuthProvider` and issue blockchain transactions in the context of the authenticated user and seek the user's approval, if required. The JSON/RPC functions and Web3 wallet operations supported by the Arcana Auth SDK for [EVM chains](../web3-ops/evm/) may differ from those supported for the non-EVM chains. [Learn more...](../../concepts/non-evm-chains/)

## See also

- [FAQ](../../faq/faq-gen/)
- [Troubleshooting Guide](../../troubleshooting/)
- [Arcana Auth SDK Errors](../auth-error-msg/)
- [Arcana Auth SDK Usage Guide](../auth-usage-guide/)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

# Handle Provider Events

This guide lists the standard EIP-1193 events raised by the `AuthProvider` in the Arcana Auth SDK and how app developers can handle those events in the app.

## Prerequisites

- To receive and handle the `AuthProvider` events, register the app, configure social login and wallet settings and integrate the app with the SDK.

## Events

`AuthProvider` emits the following standard [EIP-1193 events](https://eips.ethereum.org/EIPS/eip-1193#events):

- **connect**: the provider is ready to submit the blockchain requests to the chain on behalf of the user (*Use `provider.isConnected()` to check if the `AuthProvider` is connected.*)
- **disconnect**: the `AuthProvider` is unable to submit RPC requests to a chain
- **chainChanged**: the chain associated with the Provider has changed
- **accountsChanged**: the `AuthProvider` emits this event when the return value of the `eth_accounts` RPC method changes

After initialization, when the provider is ready to submit the blockchain requests to the chain on behalf of the user, the **connect** event is generated. Use `provider.isConnected()` to check if the `AuthProvider` is connected. The **disconnect** event occurs when there is any connectivity issue with the blockchain network. If the chain is switched programmatically via the app and approved by the user or if it is changed via the Arcana wallet UI by the user, the **chainChanged** event occurs. Similarly, when the account associated with the `AuthProvider` changes, the **accountsChanged** event is emitted.

## Examples

### Connect Event

```
interface ConnectEventInfo {
  chainId: string;
}

const auth = new AuthProvider("...")
await auth.init()

...

auth.provider.on('connect', handler: (data: ConnectEventInfo) => void);

```

### Disconnect Event

When the `AuthProvider` becomes disconnected from the chains it emits the event `disconnect` with the error [ProviderRpcError](https://eips.ethereum.org/EIPS/eip-1193#rpc-errors).

```
interface ProviderRpcError extends Error {
  code: number;
  data?: unknown;
}

const auth = new AuthProvider("...")
await auth.init()

...

auth.provider.on('disconnect', handler: (error: ProviderRpcError) => void);

```

### Chain Changed Event

```
const auth = new AuthProvider("...")
await auth.init()

...

auth.provider.on('chainChanged', (chainId: string) => { 
  console.log(chainId);
  // Use chainId
});

```

### Accounts Changed Event

If the accounts available to the `AuthProvider` change, it emits the event **accountsChanged** with value **accounts: string[]**, containing the account addresses.

```
const auth = new AuthProvider("...")
await auth.init()

...

auth.provider.on('accountsChanged', handler: (accounts: Array<string>) => void);

```

Remove Listener

Make sure that you remove event listeners once you're done listening to an event in the app. For example:

```
const auth = new AuthProvider("...")
await auth.init()

...

function handleSomeEvent(accounts) {
  // Handle the event
}

auth.provider.on('someEvent', handleSomeEvent);

// Later, when the component is unloaded or you are done watching the event

auth.provider.removeListener('someEvent', handleSomeEvent);

```

**That is all.**

*You are all set to handle the events emitted by the `AuthProvider`.*

## What's Next?

Authenticated users can use the Arcana wallet to sign blockchain transactions, send and receive native, ERC20, or custom tokens, and [more](../../user-guides/wallet-ui/).

## See also

- [Arcana wallet capabilities](../../concepts/anwallet/)
- [Using Web3 wallet operations](../../user-guides/wallet-ui/)

Apps using Arcana Auth SDK can enable passkey login in two ways:

- Allow new users to sign up with passkeys, making it the only login option.
- Let existing users set up passkeys as an alternative login method, alongside other social login options.

## Passkey Sign-up

To sign up with passkeys, use `registerWithPasskey()`, followed by `loginWithPasskey()`. This will allow users to sign up and log in one step. Users must provide a unique identifier for passkey registration such as a name, email, device ID, biometrics data, PIN, or pattern. This sign-up flow is ideal for apps that only allow passkey onboarding. [See details...](../onboard/passkey-auth/passkey-signup/)

## Passkey Login

To use passkeys as an alternative login, users first need to onboard through another method, like social login. Once logged in, they can set up a passkey for future logins. Use `linkPasskey()` to create and associate passkey with the app or website. Next time, when user chooses passkey option to log in, the app can call `loginWithPasskey()`, triggering the device or browser to display a UI where the user can choose the previously set passkey. This flow works best for apps that support multiple onboarding methods. [See details...](../onboard/passkey-auth/passkey-login/)

# Install Arcana Auth SDK

Arcana Auth SDK supports various [app types](../../web3-stack/apps/). You may be required to install one or more Arcana Auth SDK packages depending upon the app type.

For example, Vue apps, HTML/CSS/JS apps only require installation of the `auth` package. For other app types, you may need to install app-type-specific packages along with the companion `auth` package. See table for more details:

Arcana Auth SDK Flavors

In some cases, you need to install and integrate the app with the `auth` package in addition to the app-specific package listed below.

| SDK Name | Web3 Application Type | Package Name | Requires companion SDK | | --- | --- | --- | --- | | Arcana Auth SDK | For enabling user onboarding in web apps: Vanilla HTML/CSS/JS Apps, Vue Apps | [`auth`](https://www.npmjs.com/package/@arcana/auth) | None | | Arcana Auth React SDK | React Apps | [`auth-react`](https://www.npmjs.com/package/@arcana/auth-react) | [`auth`](https://www.npmjs.com/package/@arcana/auth) | | Arcana Auth Wagmi SDK | Apps using wallet connectors such as Wagmi, RainbowKit, WalletConnect | [`auth-wagmi`](https://www.npmjs.com/package/@arcana/auth-wagmi) | [`auth`](https://www.npmjs.com/package/@arcana/auth) | | Arcana Auth Web3 React SDK | Apps using Web3-React wallet connector | [`auth-web3-react`](https://www.npmjs.com/package/@arcana/auth-web3-react) | [`auth`](https://www.npmjs.com/package/@arcana/auth) | | Arcana Auth Flutter SDK | Mobile apps built using Flutter | `arcana_auth_flutter` | None | | Arcana Auth React-Native SDK | Mobile apps built using React Native | `auth-react-native` | None | | Arcana Auth-Core SDK | Auth SDK for user onboarding features usage only and ability to assign keys to authenticated users, with no embedded wallet feature | `auth-core` | None | | Arcana Auth Unity SDK | Gaming apps built using Unity | `arcana-auth-sdk` | None |

## Arcana Auth SDK

### HTML/CSS/JS, Vue Apps

```
npm install --save @arcana/auth

```

```
yarn add @arcana/auth

```

### React/Next.js Apps

```
npm install --save @arcana/auth @arcana/auth-react

```

```
yarn add @arcana/auth  @arcana/auth-react

```

### Wagmi/RainbowKit/WalletConnect Apps

**Wagmi 2.0**

```
npm install --save @arcana/auth-wagmi@3.0.0 @arcana/auth@1.0.12

```

**Wagmi 1.0**

```
npm install --save @arcana/auth-wagmi@2.0.0 @arcana/auth

```

**Wagmi 2.0**

```
yarn add @arcana/auth-wagmi@3.0.0 @arcana/auth@1.0.12

```

**Wagmi 1.0**

```
yarn add @arcana/auth-wagmi@2.0.0 @arcana/auth

```

### Web3-React Apps

```
npm install --save @arcana/auth-web3-react @arcana/auth

```

```
yarn add @arcana/auth-web3-react @arcana/auth

```

### Unity Framework

Download the Arcana Auth Unity SDK package: [https://npm-registry.arcana.network/](https://npm-registry.arcana.network/-/web/detail/arcana-auth-sdk). Unzip the contents and copy them to the **Assets** folder of the Unity Project.

Unity Settings

Developers must update the Unity Project settings in addition to installing the Arcana Auth Unity SDK. This is required to enable SDK usage in Unity Apps. See [Unity Setup](../../quick-start/unity-quick-start/#1-unity-setup-auth-install).

## Mobile SDKs

### Flutter Apps

pubspec.yaml

```
dependencies:
  flutter:       # Required for every Flutter project
    sdk: flutter # Required for every Flutter project
  flutter_localizations: # Required to enable localization
    sdk: flutter         # Required to enable localization
  arcana_auth_flutter: ^0.0.6 

```

### React-Native Apps

```
npm i @arcana/auth-react-native
(cd ios && pod install)

```

# Wallet UI Errors

The Arcana wallet users may encounter the following run-time errors when using the wallet to sign blockchain transactions or while using other wallet UI features such as adding or switching networks, setting up enhanced security via [MFA](../../concepts/mfa/), etc.

## Error Messages

| Error | Description | | --- | --- | | W-101: RPC URL is already specified in profile. | Cannot add this RPC URL more than once. | | W-102: Chain Id already exists in profile. | Cannot add same chain ID more than once. | | W-103: This network is currently active. Select a different to make it active. | You may be trying to switch to a network which is already selected as the active network. Try again. | | W-104: Enter the pin to continue. | For enhanced security via MFA, you need to enter the pin to authorize access. | | Wallet address copied. | The wallet address is copied successfully to the clipboard. | | W-105: Please enter a valid wallet address. | Check the specified wallet address for the blockchain transaction. | | Answer all the questions to recover the key. | You must answer at least 3 security questions correctly in order to authorize access. | | Each questions must be unique! | You cannot specify the same security question more than once during MFA setup or recovery. | | W-106: Please provide the gas fee. | You have not specified the required gas fees for this transaction. | | W-107: Insufficient balance to pay for the gas fee. | Top up your account to pay for the gas fee, otherwise the transaction will fail due to insufficient balance. | | W-108: Cannot estimate gas fee. Please try again later. | For some unknown reason, we are not able to estimate the gas fees for this transaction. The network may not be responding or loaded so try again after some time. | | W-109: Gas limit cannot be set to a value less than the required gas fee for this transaction. | You have set up a gas limit which is insufficient to cover the gas fees for this transaction, change the gas limit. | | W-110: Enter all the details to continue. | You need to provide all the required details before this transaction can occur. | | Token Added successfully. | - | | Token already added. | This token is already available in the wallet, you cannot add it more than once. | | Token belongs to Ethereum Mainnet. | This token is not available on the current selected network but on the Mainnet, try switching network. | | Token sent successfully. | - | | W-111: Insufficient balance for specified transfer amount. | The account balance is insufficient for this transaction. Try topping up the balance before performing this transaction. | | W-112: Amount cannot be greater than the maximum available balance. | The amount of tokens specified should be less than or equal to the balance available in the current account. | | NFT Added. | - | | NFT already added. | This NFT is already added to the wallet, cannot add an NFT more than once. | | W-112: Unsupported NFT. | The wallet supports only these NFT types: ERC-721, ERC-1155. | | W-113: You don't have ownership for this NFT. | Cannot add NFT to the current wallet as this wallet address does not own the specified NFT. | | NFT Deleted. | - | | W-114: Insufficient NFTs. At most, you can send NFTs. | The quantity of NFTs specified in the transaction is more than available NFTs, fix and resubmit the transaction. | | W-116: Error creating NFT. Please try again. | - | | W-115: Invalid contract address. | - | | MFA setup completed. | - | | W-116: Incorrect answers. | MFA recovery answers are not correct, recovery failed. | | W-117: Incorrect pin. | MFA recovery failed due to incorrect pin. | | W-118: Please fill in all the questionnaires. | - | | W-119: Questions cannot be repeated. | - | | W-120: Questions cannot be empty. | - | | W-121: User cancelled the setup. | MFA setup was cancelled by the user, no enhanced security is set up for this account. | | W-122: Incorrect combination of chain Id and RPC URL. | Check RPC URL does not match with the specified chain Id. | | W-123: Invalid RPC URL! | Check the RPC URL and provide the correct one for the blockchain. | | W-124: Failed to copy. | Could not copy the selected item in the wallet UI. | | W-125: Failed to copy wallet address. | The wallet address could not be copied to the local clipboard. | | W-126: Failed to get balance. | Could not retrieve the balance for the current wallet address. It could be an intermittent error due to network issues. | | W-148: No valid wallet is associated for the given address. | The specified address does not belong to a valid wallet. | | W-127: Invalid token Id. | Check the token Id specified while manually adding a token asset through the wallet UI. | | W-128: Error occurred while setting up MFA. Please try again! | Retry MFA Setup. | | W-129: Please enter a valid quantity. | Check the number of tokens specified in the transaction. It should be less than or equal to the balance available. | | W-130: Please make the request again. | For some unknown reason the request failed, try again. | | W-131: Something went wrong, please try again. | Unknown error, try again. | | W-132: Please fill all values! | All input values must be specified, they are not optional in this case. | | W-133: Failed to initialize one or more on-ramps. | Transak encountered an error while initializing the on-ramp provider, try again. | | W-134: Could not get token. | Login failure as the token is not available. | | W-136: Failed to add to activities list. | Due to some unknown reason, the activity tab was not updated for this current transaction. | | W-137: Could not verify credentials. | Passwordless login failed as the OTP/email link credentials could not be verified successfully. | | W-138: Could not contact parent page causing login failure. Retry login. | Redirect to the specified URL failed causing a failed login. Check auth settings. | | W-139: Could not log in, an unexpected error occurred. | Login failed unexpectedly, try again and report error if it persists. | | W-140: Local or session storage doesn't work, falling back to in-memory storage. | There is some unknown issue in the local or session storage of the browser, falling back to in-memory storage. Your changes may not be saved across browser sessions. | | W-141: Required params missing. | Token validation error, expected input parameters are missing. | | W-142: Token already added. | The token already exists in the wallet, cannot be added more than once. | | W-143: Token belongs to Ethereum Mainnet. | You can use the Mainnet Token only when using the Mainnet App Client ID. Check the integration code. | | W-144: Invalid contract address. | The specified contract address for the transaction is invalid, check again. | | W-145: You do not own this token. | Token can be added to the wallet or transacted only if it is owned by the wallet address. | | W-146: Invalid token. | Invalid JWT Token specified for accessing keys. | | W-147: Failed to fetch details. | Token validation failed as details could not be fetched and verified. |

# Integrate MultiversX App

Integrate 'MultiversX' apps with [Arcana Auth SDK](../../../concepts/authsdk/) and onboard users via [social login](../../../concepts/social-login/). Enable users to sign blockchain transactions with the in-app [Arcana wallet](../../../concepts/anwallet/).

## Prerequisites

- [Register](../../../setup/config-dApp-with-db-for-mvx/) the 'MultiversX' app and configure the Arcana Auth SDK usage [settings for social login](../../../setup/) providers, manage app [manage app chains](../../../setup/config-wallet-chains/) and [wallet user experience](../../../setup/config-wallet/).

Non-EVM Chains

When registering an app through Arcana Developer Dashboard, the choice of chain type (EVM, Solana, MultiversX, Near) is final. App developers can't change it later. They can switch the default chain within the same type. For example, a Solana app on Testnet can switch to Solana Mainnet or Solana Dev but not to MultiversX or an EVM chain.

MultiversX Shard Selection

MultiversX uses [adaptive state sharding](https://docs.multiversx.com/technology/adaptive-state-sharding/) for horizontal scaling. Shards allow it to process far more transactions through parallelization, improving transaction throughput and efficiency.

Choose your shard once when registering a MultiversX app on the Arcana Developer Dashboard. It cannot be changed later.

By default, Arcana uses 'Shard 0' to deploy all app contracts and allocate wallet addresses for users. The benefit is that when addresses from the same shard interact with contracts on the same shard, latencies are much lower than in cross-shard interactions.

## 1. Install

Depending upon the [app type](../../../web3-stack/apps/), you may need to [install one or more Arcana Auth SDK flavors](../../sdk-installation/) and the integration steps may vary.

## 2. Integrate App

Select your 'MultiversX' app type and follow the integration instructions.

[HTML/CSS/JS App](../vanilla-html-css-js/) [React/Next.js App](../react-nextjs/) [Wagmi App](../wagmi/) [WalletConnect App](../walletconnect/) [RainbowKit App](../rainbow/) [Web3-React App](../web3-react/) [Unity App](../unity/)

[Flutter Apps](../../mobile/flutter-get-started/) [React-Native Apps](../../mobile/react-native-get-started/)

[Custom Auth](../../custom-auth/)

## What's Next?

Add code to [onboard users](../../onboard/mvx/). Use `AuthProvider`, the standard EIP-1193 Web3 provider to call support JSON/RPC functions and Web3 wallet operations. [Learn more...](../../web3-ops/mvx/)

## See also

**'MultiversX'** integration example: See `sample-auth-multiversx` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

- [MultiversX FAQ](../../../faq/faq-mvx/)

[Try Demo App](https://demo.arcana.network)

# Integrate Near App

Integrate 'Near' apps with [Arcana Auth SDK](../../../concepts/authsdk/) and onboard users via [social login](../../../concepts/social-login/). Enable users to sign blockchain transactions with the in-app [Arcana wallet](../../../concepts/anwallet/).

## Prerequisites

- [Register](../../../setup/config-dApp-with-db-for-near/) the 'Near' app and configure Arcana Auth SDK SDK usage [settings for social login](../../../setup/) providers, manage app [manage app chains](../../../setup/config-wallet-chains/) and [wallet user experience](../../../setup/config-wallet/).

Non-EVM Chains

When registering an app through Arcana Developer Dashboard, the choice of chain type (EVM, Solana, MultiversX, Near) is final. App developers can't change it later. They can switch the default chain within the same type. For example, a Solana app on Testnet can switch to Solana Mainnet or Solana Dev but not to MultiversX or an EVM chain.

## 1. Install

Depending upon the [app type](../../../web3-stack/apps/), you may need to [install one or more Arcana Auth SDK SDK flavors](../../sdk-installation/) and the integration steps may vary.

## 2. Integrate App

Select your 'Near' app type and follow the integration instructions.

[HTML/CSS/JS App](../vanilla-html-css-js/) [React/Next.js App](../react-nextjs/) [Wagmi App](../wagmi/) [WalletConnect App](../walletconnect/) [RainbowKit App](../rainbow/) [Web3-React App](../web3-react/) [Unity App](../unity/)

[Flutter Apps](../../mobile/flutter-get-started/) [React-Native Apps](../../mobile/react-native-get-started/)

[Custom Auth](../../custom-auth/)

## What's Next?

Add code to [onboard users](../../onboard/near/). Use `AuthProvider`, the standard EIP-1193 Web3 provider to call support JSON/RPC functions and Web3 wallet operations. [Learn more...](../../web3-ops/near/)

## See also

**'Near'** integration example: See `sample-auth-near` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

- [Near FAQ](../../../faq/faq-near/)

[Try Demo App](https://demo.arcana.network)

# Integrate Rainbow App

[RainbowKit](https://www.rainbowkit.com/) allows Web3 apps to connect to multiple Web3 wallets. It relies on [Wagmi](https://wagmi.sh/) and [Viem](https://viem.sh/).

Integrate 'RainbowKit' apps with Arcana Auth SDK and onboard users via [social login](../../../concepts/social-login/). Enable users to sign blockchain transactions with the in-app [Arcana wallet](../../../concepts/anwallet/).

## Prerequisites

- [Register](../../../setup/config-auth/register-app/) the 'RainbowKit' app and configure SDK usage [settings for social login](../../../setup/) providers, manage app [manage app chains](../../../setup/config-wallet-chains/) and [wallet user experience](../../../setup/config-wallet/).

Non-EVM Chains

When registering an app through Arcana Developer Dashboard, the choice of chain type (EVM, Solana, MultiversX, Near) is final. App developers can't change it later. They can switch the default chain within the same type. For example, a Solana app on Testnet can switch to Solana Mainnet or Solana Dev but not to MultiversX or an EVM chain.

## Steps

### 1. Install

**Wagmi 2.0**

```
npm install --save @arcana/auth-wagmi@3.0.0 @arcana/auth@1.0.12

```

**Wagmi 1.0**

```
npm install --save @arcana/auth-wagmi@2.0.0 @arcana/auth

```

**Wagmi 2.0**

```
yarn add @arcana/auth-wagmi@3.0.0 @arcana/auth@1.0.12

```

**Wagmi 1.0**

```
yarn add @arcana/auth-wagmi@2.0.0 @arcana/auth

```

### 2. Create `AuthProvider` & `ArcanaConnector`

```
import { AuthProvider } from "@arcana/auth";
import { ArcanaConnector } from "@arcana/auth-wagmi"

const auth = new AuthProvider('your-client-id');

const connector = new ArcanaConnector({ auth });

```

`AuthProvider` Optional Parameters

Besides Client ID input parameter, you can optionally customize these settings in the `AuthProvider` constructor:

______________________________________________________________________

**`position`:** wallet position within the app context - `left`|`right`

**`theme`:** wallet theme - `light`|`dark`

**`connectOptions`:** [compact mode](../../../concepts/plug-and-play-auth/#compact-modal) for the built-in plug-and-play login UI - `true`|`false`

```
connectOptions: {
      compact: true // default - false
},

```

______________________________________________________________________

See [`AuthProvider` constructor parameters](https://authsdk-ref-guide.netlify.app/interfaces/constructorparams) for details.

Compact Mode

While creating the `AuthProvider`, you can choose the [compact mode (optional)](../../../concepts/plug-and-play-auth/#compact-modal) for the plug-and-play login UI.

### 3. Create `ArcanaRainbowConnector`

Initialize the `connectorsForWallets` in the RainbowKit with the `ArcanaRainbowConnector`.

```
//This example uses Arcana Rainbow connector and MetaMask

import { connectorsForWallets } from "@rainbow-me/rainbowkit";
import { metaMaskWallet } from "@rainbow-me/rainbowkit/wallets";
import { getAuthProvider } from "./getArcanaAuth";
import { ArcanaConnector } from "@arcana/auth-wagmi";

import { sequenceLogo } from "./logo";

export const ArcanaRainbowConnector = ({ chains }) => {
  return {
    id: "arcana-auth",
    name: "Login with Email/Social",
    iconUrl: sequenceLogo,
    iconBackground: "#101010",
    createConnector: () => {
      const connector = new ArcanaConnector({
        chains,
        options: {
          auth: getAuthProvider()
        }
      });
      return {
        connector
      };
    }
  };
};

const connectors = (chains) =>
  connectorsForWallets([
    {
      groupName: "Recommended",
      wallets: [ArcanaRainbowConnector({ chains }), metaMaskWallet({ chains })]
    }
  ]);

export { connectors };

```

Use the `ArcanaRainbowConnector` and set up `WagmiConfig`.

```
// Note:  
// This sample code is for 
// wagmi versions 1.x.x and auth-wagmi 2.0.0

import { configureChains, createConfig, WagmiConfig } from "wagmi";
import { polygon, mainnet, optimism, arbitrum } from "wagmi/chains";
import { publicProvider } from "wagmi/providers/public";
import { RainbowKitProvider } from "@rainbow-me/rainbowkit";
import { connectors } from "./wallet";
import { useAccount, useConnect } from 'wagmi'
import { Connect } from "./Connect";

const { chains, publicClient } = configureChains(
  [mainnet, polygon, optimism, arbitrum],
  [publicProvider()]
);

const wagmiEntity = createConfig({
  connectors: connectors(chains),
  autoConnect: true,
  publicClient,
});
...

```

```
// Note:  
// This sample code is for 
// wagmi versions <1.x.x and auth-wagmi <2.0.0

import "../styles/globals.css";
import "@rainbow-me/rainbowkit/styles.css";

import { configureChains, createClient, WagmiConfig } from "wagmi";
import { polygon, mainnet } from "wagmi/chains";
import { publicProvider } from "wagmi/providers/public";
import { RainbowKitProvider } from "@rainbow-me/rainbowkit";
import { connectors } from "../utils/wallet";

const { chains, provider } = configureChains(
  [mainnet, polygon],
  [publicProvider()]
);

const wagmiEntity = createClient({
  connectors: connectors(chains),
  autoConnect: true,
  provider,
});
...

```

Use the `WagmiConfig` to initialize the `RainbowKitProvider` components in the app.

```
// Pass wagmi client configured with ArcanaRainbowKitConnector to the RainbowKit Context Provider
export default function App({ Component, pageProps }) {
  return (
    <WagmiConfig config={wagmiEntity}>
      <RainbowKitProvider chains={chains}>
        <Component {...pageProps} />
      </RainbowKitProvider>
    </WagmiConfig>
  );
}

```

```
// Pass wagmi client configured with ArcanaRainbowKitConnector to the RainbowKit Context Provider
export default function App({ Component, pageProps }) {
  return (
    <WagmiConfig client={wagmiEntity}>
      <RainbowKitProvider chains={chains}>
        <Component {...pageProps} />
      </RainbowKitProvider>
    </WagmiConfig>
  );
}

```

The 'RainbowKit' Web3 app is now **integrated** with the Arcana Auth SDK.

## What's Next?

Onboard users via the [built-in plug-and-play login UI](../../onboard/rainbow/rainbow-pnp-ui/) or a [custom login UI](../../onboard/rainbow/rainbow-custom-ui/).

Use `AuthProvider`, the EIP-1193 provider offered by the SDK, to call supported JSON/RPC functions and [Web3 wallet operations](../../web3-ops/evm/) in the authenticated user's context.

## See also

**'RainbowKit'** integration example: See \`\`sample-auth-rainbowkit-viem`, `sample-auth-rainbowkit\` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

- [FAQ](../../../faq/faq-gen/)
- [Troubleshooting Guide](../../../troubleshooting/)
- [Arcana Auth SDK Errors](../../auth-error-msg/)
- [Arcana Auth SDK Usage Guide](../../auth-usage-guide/)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

Arcana Auth Wagmi SDK Quick Links

- [Auth Wagmi SDK Reference](https://deploy-preview-28--wagmi-authsdk-ref-guide.netlify.app/)
- [Release notes](../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth-wagmi/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth-wagmi)

[Try Demo App](https://demo.arcana.network)

# Integrate React/Next.js App

Integrate 'React/NextJS' apps with[Arcana Auth SDK](../../../concepts/authsdk/) and onboard users via [social login](../../../concepts/social-login/). Enable users to sign blockchain transactions with the in-app [Arcana wallet](../../../concepts/anwallet/).

## Prerequisites

- [Register](../../../setup/config-auth/register-app/) the 'React/NextJS' app and configure SDK usage [settings for social login](../../../setup/) providers, manage app [manage app chains](../../../setup/config-wallet-chains/) and [wallet user experience](../../../setup/config-wallet/).

Non-EVM Chains

When registering an app through Arcana Developer Dashboard, the choice of chain type (EVM, Solana, MultiversX, Near) is final. App developers can't change it later. They can switch the default chain within the same type. For example, a Solana app on Testnet can switch to Solana Mainnet or Solana Dev but not to MultiversX or an EVM chain.

## Steps

### 1. Install

```
npm install --save @arcana/auth

```

```
yarn add @arcana/auth

```

```
npm install --save @arcana/auth @arcana/auth-react

```

```
yarn add @arcana/auth  @arcana/auth-react

```

### 2. Initialize `AuthProvider`, `ProviderAuth`

```
import { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import { AuthProvider } from "@arcana/auth";
import { ProvideAuth } from "@arcana/auth-react";
import App from "./App";

const rootElement = document.getElementById("root");
const root = createRoot(rootElement);

const provider = new AuthProvider(
  "xar_live_d7c88d9b033d100e4200d21a5c4897b896e60063"
);

root.render(
  <StrictMode>
    <ProvideAuth provider={provider}>
      <App />
    </ProvideAuth>
  </StrictMode>
);

```

```
import React from "react";
import { Auth } from "@arcana/auth-react";

export default function App() {
  return (
    <div className="App">
      <h1>Sample Auth React App</h1>
      <Auth />
    </div>
  );

```

### Step 4: `useAuth` Hook

```
import { useAuth } from "@arcana/auth-react";

function App() {
  const { loading, isLoggedIn, connect, user } = useAuth()

  const onConnectClick = async () => {
    try {
      await connect(); // Built-in, plug & play login UI
    } catch (err) {
      console.log({ err });
      // Handle error
    }
  };

  if (loading) {
    return <p>Loading...</p>;
  }
  if (!isLoggedIn) {
    return (
      <button onClick={onConnectClick}>
        Login UI (Built-in)
      </button>
    );
  }
}

export default App

```

## What's Next?

Onboard users via the [built-in plug-and-play login UI](../../onboard/react-nextjs/use-plug-play-auth/) or a [custom login UI](../../onboard/react-nextjs/custom-ui/).

Use `AuthProvider`, the EIP-1193 provider offered by the SDK, to call supported JSON/RPC functions and [Web3 wallet operations](../../web3-ops/evm/) in the authenticated user's context.

## See also

**'React/NextJS'** integration example: See `sample-auth-react` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

- [FAQ](../../../faq/faq-gen/)
- [Troubleshooting Guide](../../../troubleshooting/)
- [Arcana Auth SDK Errors](../../auth-error-msg/)
- [Arcana Auth SDK Usage Guide](../../auth-usage-guide/)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

[Try Demo App](https://demo.arcana.network)

# Integrate Solana App

Integrate 'Solana' apps with [Arcana Auth SDK](../../../concepts/authsdk/) and onboard users via [social login](../../../concepts/social-login/). Enable users to sign blockchain transactions with the in-app [Arcana wallet](../../../concepts/anwallet/).

## Prerequisites

- [Register](../../../setup/config-dApp-with-db-for-Solana/) the 'Solana' app and configure Arcana Auth SDK SDK usage [settings for social login](../../../setup/) providers, manage app [manage app chains](../../../setup/config-wallet-chains/) and [wallet user experience](../../../setup/config-wallet/).

Non-EVM Chains

When registering an app through Arcana Developer Dashboard, the choice of chain type (EVM, Solana, MultiversX, Near) is final. App developers can't change it later. They can switch the default chain within the same type. For example, a Solana app on Testnet can switch to Solana Mainnet or Solana Dev but not to MultiversX or an EVM chain.

## Steps

Select your 'Solana' app type and follow the integration instructions. Solana apps will require to initialize and use **Solana Provider** in addition to the `AuthProvider`.

## 1. Install

Depending upon the [app type](../../../web3-stack/apps/), you may need to [install one or more Arcana Auth SDK SDK flavors](../../sdk-installation/) and the integration steps may vary.

### 2. Integrate App

Select your 'Solana' app type and follow the integration instructions.

[HTML/CSS/JS App](../vanilla-html-css-js/) [React/Next.js App](../react-nextjs/) [Wagmi App](../wagmi/) [WalletConnect App](../walletconnect/) [RainbowKit App](../rainbow/) [Web3-React App](../web3-react/) [Unity App](../unity/)

[Flutter Apps](../../mobile/flutter-get-started/) [React-Native Apps](../../mobile/react-native-get-started/)

[Custom Auth](../../custom-auth/)

## 3. Initialize Solana Provider

Solana apps can use the `auth.provider` to make standard JSON RPC calls in the context of an authenticated user.

```
const provider = auth.provider;

```

Use the Solana provider for issuing Solana Web3 wallet operations in the context of an authenticated user.

```
const solanaP = auth.solana;

```

## What's Next?

Add code to [onboard users](../../onboard/solana/). Use `AuthProvider`, the standard EIP-1193 Web3 provider to call support JSON/RPC functions and Web3 wallet operations. [Learn more...](../../web3-ops/solana/)

## See also

**'Solana'** integration example: See `sample-auth-solana` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

- [Solana FAQ](../../../faq/faq-solana/)

[Try Demo App](https://demo.arcana.network)

# Integrate Unity App

Integrate 'Unity' apps with [Arcana Auth SDK](../../../concepts/authsdk/) and onboard users via [social login](../../../concepts/social-login/). Enable users to sign blockchain transactions with the in-app [Arcana wallet](../../../concepts/anwallet/).

## Prerequisites

- [Register](../../../setup/config-dApp-with-db-for-Unity/) the 'Unity' app and configure SDK usage [settings for social login](../../../setup/) providers, manage app [manage app chains](../../../setup/config-wallet-chains/) and [wallet user experience](../../../setup/config-wallet/).

Non-EVM Chains

When registering an app through Arcana Developer Dashboard, the choice of chain type (EVM, Solana, MultiversX, Near) is final. App developers can't change it later. They can switch the default chain within the same type. For example, a Solana app on Testnet can switch to Solana Mainnet or Solana Dev but not to MultiversX or an EVM chain.

## Steps

### 1. Setup

#### Setup Unity

- Install [NuGetForUnity](https://github.com/GlitchEnzo/NuGetForUnity).

- In the NuGet Toolbar at the top, click **NuGet > Manage NuGet packages**.

  Manage NuGet Packages

- Install the following packages by STA: `Nethereum.Web3`, `WebsocketSharp.Core`

- Use the Unity Editor Project Settings window to edit package settings for your project. Click **Edit > Project Settings > Package Manager**.

  - [Edit Project Settings](https://docs.unity3d.com/Manual/class-PackageManager.html) with URL **https://npm-registry.arcana.network/** and set the scope to `com.cysharp.unitask, dev.voltstro`

    Edit Project Settings

  - Add another new scoped registry with URL **https://unitynuget-registry.azurewebsites.net** and set the scope to `org.nuget`.

    Add Scoped Registry

- In the NuGet window, use the NuGet Toolbar at the top, and click **Window > Package Manager > Add Package by Name**.

  Add Package by Name

- Add the following packages: `com.cysharp.unitask`, \`\`dev.voltstro.unitywebbrowser.engine.cef\`

  - **Windows**: `dev.voltstro.unitywebbrowser.engine.cef.win.x64`
  - **Linux**: `dev.voltstro.unitywebbrowser.engine.cef.linux.x64`
  - **MacOS**: `dev.voltstro.unitywebbrowser.engine.cef.macos.x64`

See [Unity Web Browser package list](https://projects.voltstro.dev/UnityWebBrowser/latest/articles/user/packages/#package-list) for details.

- Download the Arcana Auth Unity SDK package: [https://npm-registry.arcana.network/](https://npm-registry.arcana.network/-/web/detail/arcana-auth-sdk). Unzip the contents and copy them to the **Assets** folder of the Unity Project.

- Search for **ArcanaSDK** prefab in the 'Project Window' of the Unity Editor. Click **Assets > ArcanaSDK > Prefabs > ArcanaSDK**. Drag this prefab into the project 'Hierarchy' and configure the prefab as shown here:

  Configure Arcana Prefab

#### Install Auth SDK

```
npm install --save @arcana/auth

```

```
yarn add @arcana/auth

```

### 2. Initialize Auth SDK

```
using ArcanaSDK;

await arcanaSDK.InitializeSDK(env, "unique_clientID_for_registed_app");

```

## What's Next?

After integrating an app with the Arcana Auth Unity SDK, developers can add code to [onboard users](../../onboard/unity/) and [enable Web3 wallet operations](../../web3-ops/unity-wallet-ops/) for authenticated users to sign transactions.

## See also

**'Unity'** integration example: See `sample-auth-unity` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

[Try Demo App](https://demo.arcana.network)

# Integrate HTML/CSS/JS App

Integrate 'HTML/CSS/JS' apps with[Arcana Auth SDK](../../../concepts/authsdk/) and onboard users via [social login](../../../concepts/social-login/). Enable users to sign blockchain transactions with the in-app [Arcana wallet](../../../concepts/anwallet/).

## Prerequisites

- [Register](../../../setup/config-auth/register-app/) the 'HTML/CSS/JS' app and configure SDK usage [settings for social login](../../../setup/) providers, manage app [manage app chains](../../../setup/config-wallet-chains/) and [wallet user experience](../../../setup/config-wallet/).

Non-EVM Chains

When registering an app through Arcana Developer Dashboard, the choice of chain type (EVM, Solana, MultiversX, Near) is final. App developers can't change it later. They can switch the default chain within the same type. For example, a Solana app on Testnet can switch to Solana Mainnet or Solana Dev but not to MultiversX or an EVM chain.

## Steps

### 1. Install

```
npm install --save @arcana/auth

```

```
yarn add @arcana/auth

```

### 2. Initialize `AuthProvider`

```
import { AuthProvider } from '@arcana/auth'

```

```
const auth = new AuthProvider(
  "xar_test_445007f942xxxxxxxxxxxxxxxxxx484cAfd2", // App client ID
  { 
    alwaysVisible: false,     // default: true, wallet always visible
    connectOptions: {
      compact: true           // default: false, regular plug-and-play login UI
    },
    position: 'left',         // default: right
    setWindowProvider: true,  // default: false, window.ethereum not set
    theme: 'light',           // default: dark
})

```

Initialize First!

After creating the `AuthProvider`, wait until the `init` call is complete before invoking any of the other SDK functions.

```
try {
  await auth.init()
} catch (e) {
  // Handle exception case
}

```

`AuthProvider` Optional Parameters

Besides Client ID input parameter, you can optionally customize these settings in the `AuthProvider` constructor:

______________________________________________________________________

**`position`:** wallet position within the app context - `left`|`right`

**`theme`:** wallet theme - `light`|`dark`

**`connectOptions`:** [compact mode](../../../concepts/plug-and-play-auth/#compact-modal) for the built-in plug-and-play login UI - `true`|`false`

```
connectOptions: {
      compact: true // default - false
},

```

______________________________________________________________________

See [`AuthProvider` constructor parameters](https://authsdk-ref-guide.netlify.app/interfaces/constructorparams) for details.

The 'HTML/CSS/JS' Web3 app is now **integrated** with the Arcana Auth SDK.

## What's Next?

Onboard users via the [built-in plug-and-play login UI](../../onboard/vanilla/use-plug-play-auth/) or a [custom login UI](../../onboard/vanilla/custom-ui/).

Use `AuthProvider`, the EIP-1193 provider offered by the SDK, to call supported JSON/RPC functions and [Web3 wallet operations](../../web3-ops/evm/) in the authenticated user's context.

## See also

**'HTML/CSS/JS'** integration example: See `sample-auth-html-css-js` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

- [FAQ](../../../faq/faq-gen/)
- [Troubleshooting Guide](../../../troubleshooting/)
- [Arcana Auth SDK Errors](../../auth-error-msg/)
- [Arcana Auth SDK Usage Guide](../../auth-usage-guide/)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

[Try Demo App](https://demo.arcana.network)

# Integrate Vue App

Integrate 'Vue' apps with[Arcana Auth SDK](../../../concepts/authsdk/) and onboard users via [social login](../../../concepts/social-login/). Enable users to sign blockchain transactions with the in-app [Arcana wallet](../../../concepts/anwallet/).

## Prerequisites

- [Register](../../../setup/config-auth/register-app/) the 'Vue' app and configure SDK usage [settings for social login](../../../setup/) providers, manage app [manage app chains](../../../setup/config-wallet-chains/) and [wallet user experience](../../../setup/config-wallet/).

Non-EVM Chains

When registering an app through Arcana Developer Dashboard, the choice of chain type (EVM, Solana, MultiversX, Near) is final. App developers can't change it later. They can switch the default chain within the same type. For example, a Solana app on Testnet can switch to Solana Mainnet or Solana Dev but not to MultiversX or an EVM chain.

## Steps

### 1. Install

```
npm install --save @arcana/auth

```

```
yarn add @arcana/auth

```

### 2. Initialize `AuthProvider`

```
import { AuthProvider } from "@arcana/auth";

let authInstance;

//Mainnet ClientId
const clientId = "xar_live_d7c88d9b033d100e4200d21a5c4897b896e60063";

if (authInstance == null) {
  authInstance = new AuthProvider(clientId);
  await authInstance.init();
}

// Use authInstance for user onboarding, JSON/RPC and wallet ops

```

`AuthProvider` Optional Parameters

Besides Client ID input parameter, you can optionally customize these settings in the `AuthProvider` constructor:

______________________________________________________________________

**`position`:** wallet position within the app context - `left`|`right`

**`theme`:** wallet theme - `light`|`dark`

**`connectOptions`:** [compact mode](../../../concepts/plug-and-play-auth/#compact-modal) for the built-in plug-and-play login UI - `true`|`false`

```
connectOptions: {
      compact: true // default - false
},

```

______________________________________________________________________

See [`AuthProvider` constructor parameters](https://authsdk-ref-guide.netlify.app/interfaces/constructorparams) for details.

The 'Vue' Web3 app is now **integrated** with the Arcana Auth SDK.

## What's Next?

Onboard users via the [built-in plug-and-play login UI](../../onboard/vue/use-plug-play-auth/) or a [custom login UI](../../onboard/vanilla/custom-ui/).

Use `AuthProvider`, the EIP-1193 provider offered by the SDK, to call supported JSON/RPC functions and [Web3 wallet operations](../../web3-ops/evm/) in the authenticated user's context.

## See also

**'Vue'** integration example: See `sample-auth-vue` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

- [FAQ](../../../faq/faq-gen/)
- [Troubleshooting Guide](../../../troubleshooting/)
- [Arcana Auth SDK Errors](../../auth-error-msg/)
- [Arcana Auth SDK Usage Guide](../../auth-usage-guide/)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

[Try Demo App](https://demo.arcana.network)

# Integrate Wagmi App

[Wagmi](https://wagmi.sh/) is a React Hooks library for Ethereum that simplifies connecting Web3 apps to multiple wallets and chains.

Integrate 'Wagmi' apps with Arcana Auth SDK and onboard users via [social login](../../../concepts/social-login/). Enable users to sign blockchain transactions with the in-app [Arcana wallet](../../../concepts/anwallet/).

## Prerequisites

- [Register](../../../setup/config-auth/register-app/) the 'Wagmi' app and configure SDK usage [settings for social login](../../../setup/) providers, manage app [manage app chains](../../../setup/config-wallet-chains/) and [wallet user experience](../../../setup/config-wallet/).

Non-EVM Chains

When registering an app through Arcana Developer Dashboard, the choice of chain type (EVM, Solana, MultiversX, Near) is final. App developers can't change it later. They can switch the default chain within the same type. For example, a Solana app on Testnet can switch to Solana Mainnet or Solana Dev but not to MultiversX or an EVM chain.

## Steps

### 1. Install

**Wagmi 2.0**

```
npm install --save @arcana/auth-wagmi@3.0.0 @arcana/auth@1.0.12

```

**Wagmi 1.0**

```
npm install --save @arcana/auth-wagmi@2.0.0 @arcana/auth

```

**Wagmi 2.0**

```
yarn add @arcana/auth-wagmi@3.0.0 @arcana/auth@1.0.12

```

**Wagmi 1.0**

```
yarn add @arcana/auth-wagmi@2.0.0 @arcana/auth

```

### 2. Create `AuthProvider` & `ArcanaConnector`

Specify the **Client ID** assigned to the registered app to create the `AuthProvider`. Then use the `AuthProvider` to create `ArcanaConnector`.

```
import { AuthProvider } from "@arcana/auth";
import { ArcanaConnector } from "@arcana/auth-wagmi"

const auth = new AuthProvider('your-client-id');

const connector = new ArcanaConnector({ auth });

```

`AuthProvider` Optional Parameters

Besides Client ID input parameter, you can optionally customize these settings in the `AuthProvider` constructor:

______________________________________________________________________

**`position`:** wallet position within the app context - `left`|`right`

**`theme`:** wallet theme - `light`|`dark`

**`connectOptions`:** [compact mode](../../../concepts/plug-and-play-auth/#compact-modal) for the built-in plug-and-play login UI - `true`|`false`

```
connectOptions: {
      compact: true // default - false
},

```

______________________________________________________________________

See [`AuthProvider` constructor parameters](https://authsdk-ref-guide.netlify.app/interfaces/constructorparams) for details.

Compact Mode

While creating the `AuthProvider`, you can choose the [compact mode (optional)](../../../concepts/plug-and-play-auth/#compact-modal) for the plug-and-play login UI.

### 3. Setup `WagmiConfig`

Create Wagmi config and specify the `ArcanaConnector`.

```
import { http, createConfig } from 'wagmi'
import { mainnet, sepolia } from 'wagmi/chains'
import { coinbaseWallet, injected, walletConnect } from 'wagmi/connectors'
import { AuthProvider } from '@arcana/auth';
import { ArcanaConnector } from "@arcana/auth-wagmi"

let auth: AuthProvider | null;

if (!auth) {
  auth = new AuthProvider(
    "xar_dev_c2fb7be163754e57d384e24257ea2c8d2a5dd31a"
  );
}

export const connector = () => {
  return new ArcanaConnector({auth,})
};

export const config = createConfig({
  chains: [mainnet, sepolia],
  connectors: [
    injected(),
    coinbaseWallet({ appName: 'Create Wagmi' }),
    walletConnect({ projectId: import.meta.env.VITE_WC_PROJECT_ID }),
    connector(),
  ],
  transports: {
    [mainnet.id]: http(),
    [sepolia.id]: http(),
  },
})

declare module 'wagmi' {
  interface Register {
    config: typeof config
  }
}

```

```
// Note:  
// This sample code is for 
// wagmi versions 1.x.y and auth-wagmi 2.a.b
import { configureChains, createConfig, WagmiConfig } from "wagmi";
import { publicProvider } from "wagmi/providers/public";
import { ArcanaConnector } from "@arcana/auth-wagmi";
import { polygon, polygonAmoy } from "wagmi/chains";
import { newAuthProvider } from "./utils/newArcanaAuth";
import { useAccount, useConnect, useDisconnect, useBalance } from 'wagmi'
import "../styles/globals.css";

const { chains, provider, webSocketProvider } = configureChains(
  [mainnet, polygon, polygonAmoy],
  [publicProvider()],
  { targetQuorum: 1 }
);

export const connector = (chains: Chain[]) => {
  return new ArcanaConnector({
    chains,
    options: {
      auth: newAuthProvider(),
      login: {
        provider: "google",
      },
    },
  });
};

const { chains, publicClient } = configureChains(
  [polygon, polygonAmoy],
  [publicProvider()]
);

export const wagmiEntity = createConfig({
  autoConnect: true,
  connectors: [connector(chains)],
  publicClient,
});
...

```

The 'Wagmi' Web3 app is now **integrated** with the Arcana Auth SDK.

## What's Next?

Onboard users via the [built-in plug-and-play login UI](../../onboard/wagmi/wagmi-pnp-ui/) or a [custom login UI](../../onboard/wagmi/wagmi-custom-ui/).

Use `AuthProvider`, the EIP-1193 provider offered by the SDK, to call supported JSON/RPC functions and [Web3 wallet operations](../../web3-ops/evm/) in the authenticated user's context.

## See also

**'Wagmi'** integration example: See `sample-auth-wagmi-2`, `sample-auth-wagmi-viem`, `sample-auth-wagmi` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

- [FAQ](../../../faq/faq-gen/)
- [Troubleshooting Guide](../../../troubleshooting/)
- [Arcana Auth SDK Errors](../../auth-error-msg/)
- [Arcana Auth SDK Usage Guide](../../auth-usage-guide/)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

Arcana Auth Wagmi SDK Quick Links

- [Auth Wagmi SDK Reference](https://deploy-preview-28--wagmi-authsdk-ref-guide.netlify.app/)
- [Release notes](../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth-wagmi/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth-wagmi)

[Try Demo App](https://demo.arcana.network)

# Integrate WalletConnect App

[WalletConnect](https://walletconnect.com/) allows Web3 app users to seamlessly switch between multiple connected wallets within a dApp.

Integrate 'WalletConnect' apps with Arcana Auth SDK and onboard users via [social login](../../../concepts/social-login/). Enable users to sign blockchain transactions with the in-app [Arcana wallet](../../../concepts/anwallet/).

## Prerequisites

- [Register](../../../setup/config-auth/register-app/) the 'WalletConnect' app and configure SDK usage [settings for social login](../../../setup/) providers, manage app [manage app chains](../../../setup/config-wallet-chains/) and [wallet user experience](../../../setup/config-wallet/).

Non-EVM Chains

When registering an app through Arcana Developer Dashboard, the choice of chain type (EVM, Solana, MultiversX, Near) is final. App developers can't change it later. They can switch the default chain within the same type. For example, a Solana app on Testnet can switch to Solana Mainnet or Solana Dev but not to MultiversX or an EVM chain.

## Steps

### 1. Install

**Wagmi 2.0**

```
npm install --save @arcana/auth-wagmi@3.0.0 @arcana/auth@1.0.12

```

**Wagmi 1.0**

```
npm install --save @arcana/auth-wagmi@2.0.0 @arcana/auth

```

**Wagmi 2.0**

```
yarn add @arcana/auth-wagmi@3.0.0 @arcana/auth@1.0.12

```

**Wagmi 1.0**

```
yarn add @arcana/auth-wagmi@2.0.0 @arcana/auth

```

### 2. Create `AuthProvider` & `ArcanaConnector`

```
// Set up Arcana Auth 

import { AuthProvider } from "@arcana/auth";

let auth: AuthProvider | null;

const getAuthProvider = () => {
  if (!auth) {
    auth = new AuthProvider(
      "xar_test_b2dde12aad64eb35d72b2c80926338e178b1fa3f"
    );
  }
  return auth;
};

export { getAuthProvider };

```

Initialize First!

After creating the `AuthProvider`, wait until the `init` call is complete before invoking any of the other SDK functions.

```
try {
  await auth.init()
} catch (e) {
  // Handle exception case
}

```

```
//This example uses Arcana Wallet connector and Coinbase Wallet

import { http, createConfig } from 'wagmi'
import { mainnet, sepolia } from 'wagmi/chains'
import { coinbaseWallet, injected, walletConnect } from 'wagmi/connectors'
import { ArcanaConnector } from "@arcana/auth-wagmi";
import { getAuthProvider } from './arcanaConnector';

export const config = createConfig({
  chains: [mainnet, sepolia],
  connectors: [
    injected(),
    coinbaseWallet({ appName: 'Create Wagmi' }),
    walletConnect({
      projectId: '3fcc6bba6f1de962d911bb5b5c3dba68', //WalletConnect ProjectID
    }),
    ArcanaConnector(
      {
        auth: getAuthProvider(),
      }
    )
  ],
  transports: {
    [mainnet.id]: http(),
    [sepolia.id]: http(),
  },
})

declare module 'wagmi' {
  interface Register {
    config: typeof config
  }
}

```

`AuthProvider` Optional Parameters

Besides Client ID input parameter, you can optionally customize these settings in the `AuthProvider` constructor:

______________________________________________________________________

**`position`:** wallet position within the app context - `left`|`right`

**`theme`:** wallet theme - `light`|`dark`

**`connectOptions`:** [compact mode](../../../concepts/plug-and-play-auth/#compact-modal) for the built-in plug-and-play login UI - `true`|`false`

```
connectOptions: {
      compact: true // default - false
},

```

______________________________________________________________________

See [`AuthProvider` constructor parameters](https://authsdk-ref-guide.netlify.app/interfaces/constructorparams) for details.

### 3. Set up `WagmiProvider`

Create Wagmi config and specify the `ArcanaConnector`.

```
//Use "`auth-wagmi` version > v2.0.0"
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
import { Buffer } from 'buffer'
import React from 'react'
import ReactDOM from 'react-dom/client'
import { WagmiProvider } from 'wagmi'
import App from './App.tsx'
import { config } from './wagmi.ts'

import './index.css'

globalThis.Buffer = Buffer

const queryClient = new QueryClient()

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <WagmiProvider config={config}>
      <QueryClientProvider client={queryClient}>
        <App />
      </QueryClientProvider>
    </WagmiProvider>
  </React.StrictMode>,
)

```

The 'WalletConnect' Web3 app is now **integrated** with the Arcana Auth SDK.

## What's Next?

Onboard users via the [built-in plug-and-play login UI](../../onboard/walletconnect/walletconnect-pnp-ui/) or a [custom login UI](../../onboard/walletconnect/walletconnect-custom-ui/).

Use `AuthProvider`, the EIP-1193 provider offered by the SDK, to call supported JSON/RPC functions and [Web3 wallet operations](../../web3-ops/evm/) in the authenticated user's context.

## See also

**'WalletConnect'** integration example: See `sample-auth-walletconnect` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

- [FAQ](../../../faq/faq-gen/)
- [Troubleshooting Guide](../../../troubleshooting/)
- [Arcana Auth SDK Errors](../../auth-error-msg/)
- [Arcana Auth SDK Usage Guide](../../auth-usage-guide/)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

Arcana Auth Wagmi SDK Quick Links

- [Auth Wagmi SDK Reference](https://deploy-preview-28--wagmi-authsdk-ref-guide.netlify.app/)
- [Release notes](../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth-wagmi/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth-wagmi)

[Try Demo App](https://demo.arcana.network)

# Integrate Web3-React App

[Web3-React](https://www.npmjs.com/package/web3-react) framework allows Connectors for various Web3 wallets.

Integrate 'Web3-React' apps with Arcana Auth SDK and onboard users via [social login](../../../concepts/social-login/). Enable users to sign blockchain transactions with the in-app [Arcana wallet](../../../concepts/anwallet/).

## Prerequisites

- [Register](../../../setup/config-auth/register-app/) the Wa'Web3-React'gmi app and configure SDK usage [settings for social login](../../../setup/) providers, manage app [manage app chains](../../../setup/config-wallet-chains/) and [wallet user experience](../../../setup/config-wallet/).

Non-EVM Chains

When registering an app through Arcana Developer Dashboard, the choice of chain type (EVM, Solana, MultiversX, Near) is final. App developers can't change it later. They can switch the default chain within the same type. For example, a Solana app on Testnet can switch to Solana Mainnet or Solana Dev but not to MultiversX or an EVM chain.

## Steps

### 1. Install

**Wagmi 2.0**

```
npm install --save @arcana/auth-wagmi@3.0.0 @arcana/auth@1.0.12

```

**Wagmi 1.0**

```
npm install --save @arcana/auth-wagmi@2.0.0 @arcana/auth

```

**Wagmi 2.0**

```
yarn add @arcana/auth-wagmi@3.0.0 @arcana/auth@1.0.12

```

**Wagmi 1.0**

```
yarn add @arcana/auth-wagmi@2.0.0 @arcana/auth

```

### 2. Create `AuthProvider` and `ArcanaConnector`

```
import { initializeConnector } from "@web3-react/core";
import { ArcanaConnector } from "@arcana/auth-web3-react";
import { AuthProvider } from "@arcana/auth";
import { URLS } from "../chains";

const auth = new AuthProvider(
  "xar_test_b2ddexxxxxxxxxxxxxxxxxxxx8b1fa3f"  //App client ID via Dashboard
);
export const [arcanaConnect, hooks] = initializeConnector<ArcanaConnector>(
  (actions) =>
    new ArcanaConnector(auth, {
      actions,
    })
);
...

```

### 3. `ArcanaConnectCard` Component

In the Web3-React app, use the `ArcanaConnector` and React hooks to connect `ArcanaConnector` with the Web3-React ecosystem via `ArcanaConnectCard`.

```
import { useEffect, useState } from "react";

import { MAINNET_CHAINS } from "../../chains";
import { hooks, arcanaConnect } from "../../connectors/arcanaWallet";
import { Card } from "../Card";

const CHAIN_IDS = Object.keys(MAINNET_CHAINS).map(Number);

const {
  useChainId,
  useAccounts,
  useIsActivating,
  useIsActive,
  useProvider,
  useENSNames,
} = hooks;

export default function ArcanaConnectCard() {
  const chainId = useChainId();
  const accounts = useAccounts();
  const isActivating = useIsActivating();

  const isActive = useIsActive();

  const provider = useProvider();
  const ENSNames = useENSNames(provider);

  const [error, setError] = useState(undefined);

  // attempt to connect eagerly on mount
  useEffect(() => {
    arcanaConnect.connectEagerly().catch((error) => {
      console.debug("Failed to connect eagerly to arcanaConnect", error);
    });
  }, []);

  return (
    <Card
      connector={arcanaConnect}
      activeChainId={chainId}
      chainIds={CHAIN_IDS}
      isActivating={isActivating}
      isActive={isActive}
      error={error}
      setError={setError}
      accounts={accounts}
      provider={provider}
      ENSNames={ENSNames}
    />
  );
}

```

Now, you are all set to onboard users in the Web3-React app using the plug-and-play login UI and enable Arcana wallet for the authenticated users.

pages/index.tsx

```
import ArcanaConnectCard from "../components/connectorCards/ArcanaConnectCard";
import CoinbaseWalletCard from "../components/connectorCards/CoinbaseWalletCard";
import GnosisSafeCard from "../components/connectorCards/GnosisSafeCard";
import MetaMaskCard from "../components/connectorCards/MetaMaskCard";
import NetworkCard from "../components/connectorCards/NetworkCard";
import WalletConnectCard from "../components/connectorCards/WalletConnectCard";
import WalletConnectV2Card from "../components/connectorCards/WalletConnectV2Card";
import ProviderExample from "../components/ProviderExample";

export default function Home() {
  return (
      <>
      <ProviderExample />
      <div>
        <MetaMaskCard />
        <WalletConnectV2Card />
        <WalletConnectCard />
        <CoinbaseWalletCard />
        <NetworkCard />
        <GnosisSafeCard />
        <ArcanaConnectCard />
      </div>
      );
      </>
}

```

The 'Web3-React' Web3 app is now **integrated** with the Arcana Auth SDK.

## What's Next?

Onboard users via the [built-in plug-and-play login UI](../../onboard/web3-react/web3-react-pnp-ui/) or a [custom login UI](../../onboard/web3-react/web3-react-custom-ui/).

Use `AuthProvider`, the EIP-1193 provider offered by the SDK, to call supported JSON/RPC functions and [Web3 wallet operations](../../web3-ops/evm/) in the authenticated user's context.

## See also

**'Web3-React'** integration example: See `sample-auth-web3-react` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

- [FAQ](../../../faq/faq-gen/)
- [Troubleshooting Guide](../../../troubleshooting/)
- [Arcana Auth SDK Errors](../../auth-error-msg/)
- [Arcana Auth SDK Usage Guide](../../auth-usage-guide/)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

Arcana Auth Wagmi SDK Quick Links

- [Auth Wagmi SDK Reference](https://deploy-preview-28--wagmi-authsdk-ref-guide.netlify.app/)
- [Release notes](../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth-wagmi/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth-wagmi)

[Try Demo App](https://demo.arcana.network)

# Architecture: Auth

Arcana Auth SDK allows Web3 app developers to onboard app users at scale using social and passwordless login. Authenticated users can instantly access the embedded, non-custodial Arcana wallet from within the app's context. Developers can whitelist app operations and enable gasless transactions through the Arcana wallet or third-party wallets.

Here is a high-level overview of the technical architecture and components that power the Arcana Auth SDK.

## Auth Components

- [Arcana Developer Dashboard](../../../concepts/dashboard/)
- [Arcana Gateway](../../../concepts/gateway-node/)
- [Arcana Auth SDK](../../../concepts/authsdk/)
- [Asynchronous Distributed Key Generation (ADKG)](../../../concepts/adkg/)
- Arcana Auth protocol (Back-end Subsystem)

Auth Components

### Arcana Developer Dashboard

Arcana Developer Dashboard is the user interface offered to Web3 app developers for registering an app and configuring the authentication providers and gasless transaction usage settings as per the app requirements.

### Arcana Gateway

The Gateway is one of the key back-end components that works with the Arcana Developer Dashboard as well as the SDK integrated with the app. It is responsible for storing and managing SDK usage configuration details for various apps and manages developer accounts, app usage and billing, etc.

All transactions initiated by the Arcana wallet are processed via the Gateway. It also handles gasless transactions for the Arcana wallet.

### Arcana Auth SDK

The Arcana Auth SDK integrates with the app and enables user onboarding through social login providers, IAM providers, and passwordless login. It also enables Web3 operations through the embedded Arcana wallet.

### Asynchronous Distributed Key Generation (ADKG)

A core back-end component that generates and manages key shares securely. It works with the SDK integrated with the app to securely dispense key shares. Some of the nodes running ADKG logic are owned by trusted third-party validators. In the future, we plan to make this component fully decentralized.

### Arcana Auth protocol (Back-end Subsystem)

This refers to a bunch of entities in the back-end that implement the core system logic and algorithms on blockchain using [Arcana smart contracts](../../../concepts/ansmartc/an-smart-contracts/).

See [Arcana Technical White paper](https://www.notion.so/Arcana-Technical-Docs-a1d7fd0d2970452586c693e4fee14d08) for details.

# Arcana Auth Use Cases

The Arcana Auth SDK allows developers to supercharge their Web3 apps with plug-and-play user authentication. Also, authenticated app users can instantly access the in-app, self-custodial Arcana wallet to securely sign blockchain transactions without having to install any browser extension or manage keys.

Web3 developers can integrate apps with the Arcana Auth SDK to:

- Authenticate and onboard users with social login
- Automatically enable in-app wallet for authenticated users to sign blockchain transactions
- Monitor app usage

## User Authentication

- **Plug-and-Play Auth**: Onboard users with a single line of code. Call `connect` method to bring up plug-and-play login UI that displays the configured Web2 social login providers, IAM providers and passwordless login options.
- **Build-your-own-Auth-UI**: Create your own login UX and call `loginWithSocial` method to enable authentication via popular Web2 social login providers, `loginWithBearer` for IAM providers. Use `loginWithLink` (deprecated), `loginWithOTPStart`, and `loginWithOTPComplete` methods for onboarding users via the passwordless option.
- **Customize Onboarding**: Choose which providers/login options are visible to the user at the time of logging into the Web3 application.

## Sign Blockchain Transactions

- **Accessible & Secure Wallet**: Enable *authenticated app users* to sign blockchain transactions without having to learn the Web3 nuances or expose them to tedious key management hoops. At the same time, provide a secure wallet that works only in the context of an app for an authenticated user.

- **Customize Wallet Usage Experience**: Control the Arcana wallet visibility by choosing whether it should be always visible in the context of a Web3 application or whether it shows up only when a blockchain transaction is triggered.

- **Wallet Branding**: Allows Web3 application developers to customize the Arcana wallet theme.

- **No Browser Extension Deployment**: Arcana Auth SDK allows quick wallet onboarding for users without any prior need to generate Web3 keys or install any wallet or browser extension to onboard Web3 apps.

- **Web3 Wallet Operations**: Enable typical wallet functions in the application for authenticated users:

  - Sign blockchain transactions
  - Send Transaction
  - Send/Receive native, custom tokens
  - Send/Receive NFTs
  - Browse NFTs, view NFT details
  - Add [supported networks](../../../web3-stack/chains/)
  - Switch networks
  - Monitor transaction activity
  - JSON-RPC method support
  - Buy crypto via fiat/on-ramp providers

## Monitor App Usage

- **Register Apps**: Developers can register and configure the Arcana Auth SDK usage and wallet user experience by using the Arcana Developer Dashboard as per their app requirements.
- **Monitor App Usage**: Developers can manage and monitor application usage in terms of **Monthly Active Users (MAU)**. They can also configure how apps are deployed on the Arcana Testnet and Mainnet. Billing is done only for Arcana Mainnet usage. Usage across all apps deployed on Mainnet can be tracked by the developers.

## Secure with MFA

Gaming, DeFi and other Web3 apps that deal with user's crypto assets, NFTs can further secure user data by utilizing the [MFA feature](../../../concepts/mfa/). A user can set up various recovery methods for their wallet to enhance security. Whenever they try to log in from a new device they will have to provide one of the two in order to login. The Arcana Auth SDK works across devices and browsers.

# Why Auth SDK?

At Arcana, our mission is to build an ecosystem of components that enables developers to build Web3 applications quickly, securely, and with complete data privacy and ownership for application users.

This is totally unlike Web2, where user data is owned by the applications and corporations. Web2 users have no control over who sees or accesses their data.

## Privacy-Preserving Applications

If you are building Web3 apps that require complete data privacy, and security, the Arcana SDKs does the heavy lifting for you to onboard users using popular authentication providers and passwordless options. It allows authenticated users to sign blockchain transactions, manage tokens, and more without having to bother about the Web3 secret and key management complexities.

At Arcana, we take security, privacy, and ownership seriously. We are actively working towards tracking and plugging in any vulnerabilities in our solution.

Take a quick look at the overview of the [architecture and key components](../auth-architecture/) of the {{ no such element: dict object['product_name'] }} and see [Arcana Network Technical White Paper v1.0](https://www.notion.so/arcananetwork/Arcana-Technical-Docs-a1d7fd0d2970452586c693e4fee14d08) for implementation details.

## Build Web3 Apps Faster

As a Web3 app developer, you can focus on core application logic while delegating essential tasks related to end-user onboarding, signing blockchain transactions, and managing the security and privacy of user access to the {{ no such element: dict object['product_name'] }} product.

### 1. Onboard App Users Effortlessly

Developers can plug in the popular Web2 sign-up/login mechanisms in the Web3 apps and lower the barrier to entry for Web3 users.

To onboard users in a Web3 app, the Arcana Auth SDK allows developers to select and configure user authentication providers for the app. Developers can choose the default, built-in plug-and-play user authentication UI via `connect` function of the Arcana Auth SDK. Or, they can customize and build a custom user authentication UI, add a few lines of code to call `loginWithSocial`, `loginWithLink`(deprecated), `loginWithOTPStart` and `loginWithOTPComplete` functions to onboard users.

Read more about the [plug-and-play feature](../../../concepts/plug-and-play-auth/), and [how to onboard users](../../onboard/vanilla/use-plug-play-auth/) via the built-in, plug-and-play login UI or [custom login UI](../../onboard/vanilla/custom-ui/build-pwdless-auth/).

Before you can integrate an app with the Arcana Auth SDK, developers must use the Arcana Developer Dashboard and configure onboarding options and user experience for signing blockchain transactions. Learn about [authentication providers](../../../concepts/authtype/), and [how to configure authentication providers](../../../setup/config-auth/) using the Arcana Developer Dashboard.

### 2. Sign blockchain transactions securely

Allow authenticated Web3 application users to securely sign blockchain operations without bothering about managing secrets and keys. No centralized authority manages user keys in the {{ no such element: dict object['product_name'] }} DKG subsystem. Use the embedded, non-custodial Arcana wallet provided by the Arcana Auth SDK to let the authenticated users review and sign blockchain transactions.

Read more about the [Arcana wallet features](../../../concepts/anwallet/) and [how to transact using the Arcana wallet](../../web3-ops/evm/). Check out the [Arcana wallet User Guide](../../../user-guides/wallet-ui/) to learn more about various Web3 wallet operations that can be accessed by the application users.

## Flexibility & Choice

Tailor the user experience for your Web3 applications as per your use case and target audience. Learn more about the \[\[use-cases|{{ no such element: dict object['product_name'] }} Use Cases\]\].

## See Also

- [Social Login Demo App](https://demo.arcana.network)
- [Arcana Auth SDK Usage Guide](../../auth-usage-guide/)
- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

# Get Started: Flutter Apps

'Flutter' Web3 apps can onboard users via social login by integrating with the Arcana Auth Flutter SDK!

## Prerequisites

- Flutter [v3.15.0](https://flutter-ko.dev/development/tools/sdk/releases) or higher

## 1. Register & Configure

- App must be [registered](../../../setup/config-auth/register-app/) via the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Optionally [configure auth settings](../../../setup/config-auth/) such as [social login](../../../concepts/social-login/), [wallet user experience](../../../concepts/anwallet/), etc.

## 2. Install SDK

The Arcana Auth Flutter SDK is available at 'Pub.dev' as a [Flutter plugin](https://docs.flutter.dev/packages-and-plugins/developing-packages) package called [`arcana_auth_flutter`](https://pub.dev/packages/arcana_auth_flutter).

Add the following line to the dependencies section in your app's `pubspec.yaml` file:

pubspec.yaml

```
dependencies:
  flutter:       # Required for every Flutter project
    sdk: flutter # Required for every Flutter project
  flutter_localizations: # Required to enable localization
    sdk: flutter         # Required to enable localization
  arcana_auth_flutter: ^0.0.6 

```

Use latest Arcana Auth Flutter SDK

Use latest Arcana Auth Flutter SDK release **v0.0.6** available at [pub.dev](https://pub.dev/packages/arcana_auth_flutter).

## 3. Integrate

Once installed, integrate the app with the Arcana Auth Flutter SDK. Create an `AuthProvider` instance and specify the unique **client ID** assigned to the registered app.

```
import 'package:arcana_sdk/arcana_sdk.dart';

final auth = AuthProvider(clientId:"xar_xxxx_...");
auth.init(context: context);

```

Next, add code to onboard users and allow authenticated users to sign blockchain transactions using Arcana wallet.

### Onboard Users

Add code to onboard users through one of the configured social login providers or via OTP login option.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

**Social Login**

```
auth.loginWithSocial("google").then((_) => {
// On login Success
}).catchError(...);

```

**OTP Login**

```
auth.loginWithOTP("${email_id}").then((_) => {
// On login Success
}).catchError(...);

```

**Logout**

Call the logout method in response to a user's choice to log out. The built-in Arcana wallet UI has a **Logout** option in the user profile tab.

```
auth.logout().then((_) => {
// On logout
});

```

**Get User Address**

```
auth.getAccount().then((account) => ...);

```

**Get User Details**

```
auth.getUserInfo().then((UserInfo info) => ...);

```

**Show/Hide Wallet UI**

Developers can choose to show or hide the wallet as per the app requirements.

```
auth.showWallet();

```

```
auth.hideWallet();

```

**Check Wallet Visibility**

To determine in the Flutter app if the Arcana wallet is visible in the app's context, get the visibility status:

```
var isVisible = auth.isVisible();

```

**Clear Cache**

Flutter apps can use `clearCache` to clear the Webview cache:

```
auth.clearCache();

```

### Sign Transactions

The `AuthProvider` supports the JSON-RPC requests for the following Web3 operations:

```
auth.request(method: "...", params: [...]).then(() => ...);

```

```
auth.sendTransaction({ to: "", value: "" }).then((hash) => ...);

```

## 4. Deploy

**That's all!**

The 'Flutter' app is ready to onboard users and allow them to sign blockchain transactions.

## See also

- **'Flutter'** integration example: See `sample-auth-flutter` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

Arcana Auth Flutter SDK Quick Links

- [Release notes](../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth-flutter/releases)
- [Download SDK](https://pub.dev/packages/arcana_auth_flutter)

# Get Started: React-Native Apps

'React-Native' Web3 apps can onboard users via social login by integrating with the Arcana Auth React-Native SDK!

## Prerequisites

- React-Native [v0.71.8](https://reactnative.dev/versions) or higher

## 1. Register & Configure

- App must be [registered](../../../setup/config-auth/register-app/) via the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Optionally [configure auth settings](../../../setup/config-auth/) such as [social login](../../../concepts/social-login/), [wallet user experience](../../../concepts/anwallet/), etc.

## 2. Install SDK

For 'React-Native' Web3 apps, install the [`auth-react-native`](https://www.npmjs.com/package/@arcana/auth-react-native) package.

```
npm i @arcana/auth-react-native
(cd ios && pod install)

```

**Note:** You are **not required** to manually link this module, as it supports React Native auto-linking.

Use latest SDKs

Use the latest Arcana Auth React-Native SDK release **v0.0.4** available at [npm](https://www.npmjs.com/package/@arcana/auth-react-native).

## 3. Integrate

Use the unique client ID assigned to the app during registration to integrate with the SDK.

```
import React, { useState } from "react";
import { Button, View } from "react-native";
import Auth from "@arcana/auth-react-native";

export default function App() {
  const authRef = React.useRef(null);

  return (
    <View >
      <Auth clientId="xar_test_xxx" theme="light" ref={authRef} />
    </View>
  );
}

```

```
<Auth clientId="xar_test_xxx" theme="dark" />

```

### Onboard Users

Call `Auth` functions and onboard users through the configured authentication providers.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

**Google Login**\*

```
// For logging in
const loginWithGoogle = () => {
  if(authRef !== null){
    authRef.current.loginWithSocial('google').then(() => {
      // logged in
    }).catch(err => {
      // already logged in
      // or error during login
    }) 
  }
}

```

**Logout**

Add code to provide user log out option via the `logout` method or let authenticated users log out using the wallet UI logout option in the 'User Profile' tab.

```
// Logout User from session
const logout = () => {
  if(authRef !== null){
    authRef.current.logout().then(() => {
      // on logout
    });
  }
};

```

**Show/Hide Wallet**

Once the user logs into the app, they can instantly access the Arcana wallet. Developers can choose to show and hide the wallet as required by the app.

```
// For showing wallet
const showWallet = () => {
  if(authRef !== null){
    authRef.current.showWallet();
  }
}

// For hiding wallet
const hideWallet = () => {
  if(authRef !== null){
    authRef.current.hideWallet();
  }
}

```

```
// For getting logged in user info
const getUserInfo = async () => {
  if(authRef !== null){
    return authRef.current.getUserInfo();
  }
};

```

```
// For getting current account
const getAccount = async () => {
  if(authRef !== null){
    return await authRef.current.getAccount();
  }
};

```

```
return (
    <View >
      <Button
        title={"Get User Info"}
        onPress={() =>
          getUserInfo()
        }
      />
      <Button
        title={"Send Transaction"}
        onPress={() =>
          sendTransaction({ to: '', value: '', data: '' })
        }
      />
        <Button
        title={"Get Account"}
        onPress={() =>
          getAccount()
        }
      />

        <Button
        title={"Send Request"}
        onPress={() =>{
          sendRequest({ method:"", params:[] })
        }}
      />
      <Button
        title={"log out"}
        onPress={() => logout()}
      />
      <Auth
          clientId="xar_test_...."
          theme="dark"
          ref={authRef}
      />
    </View>
  );

```

### Sign Transactions

Use `authRef` EIP-1193 provider to call JSON-RPC functions and Web3 wallet operations.

```
// For sending transaction
const sendTransaction = async data => {
  if(authRef !== null){
    return await authRef.current.sendTransaction(data);
  }
};

// For getting current account balance
const getBalance = async () => {
  if(authRef !== null){
    return await authRef.current.getBalance();
  }
};

// EIP 1193 request method
const request = async (method, params) => {
  if(authRef !== null){
    return await authRef.current.request({ method, params });
  }
};

```

## 4. Deploy

**That's all!**

The 'React-Native' app is ready to onboard users and allow them to sign blockchain transactions.

## See also

- **'React-Native'** integration example: See `sample-auth-react-native` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

Arcana Auth React-Native SDK Quick Links

- [Release notes](../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth-react-native/releases)
- [Download auth-react-native](https://www.npmjs.com/package/@arcana/auth-react-native)

# MultiversX App: Onboard Users

Learn how to onboard users through the configured [social login](../../../concepts/social-login/) providers in a 'MultiversX' app.

## Prerequisites

- [Register](../../../setup/config-dApp-with-db-for-mvx/) the 'MultiversX' app and configure SDK usage [settings for social login](../../../setup/) providers, [manage MultiversX chains](../../../setup/config-wallet-chains/) and [wallet user experience](../../../setup/config-wallet/).
- Install the [required SDK packages](../../sdk-installation/) for 'MultiversX'.
- [Integrate](../../integrate/mvx/) 'MultiversX' app and obtain an `AuthProvider` for blockchain transactions.

Non-EVM Chains

When registering an app through Arcana Developer Dashboard, the choice of chain type (EVM, Solana, MultiversX, Near) is final. App developers can't change it later. They can switch the default chain within the same type. For example, a Solana app on Testnet can switch to Solana Mainnet or Solana Dev but not to MultiversX or an EVM chain.

MultiversX Shard Selection

MultiversX uses [adaptive state sharding](https://docs.multiversx.com/technology/adaptive-state-sharding/) for horizontal scaling. Shards allow it to process far more transactions through parallelization, improving transaction throughput and efficiency.

Choose your shard once when registering a MultiversX app on the Arcana Developer Dashboard. It cannot be changed later.

By default, Arcana uses 'Shard 0' to deploy all app contracts and allocate wallet addresses for users. The benefit is that when addresses from the same shard interact with contracts on the same shard, latencies are much lower than in cross-shard interactions.

## Onboard Users

User Onboarding Considerations

1. **Log in Options:** What options are offered by the app to the onboard users via social login? *Configure the required [social login providers](../../../setup/config-auth/) via the dashboard.*
1. **Built-in or Custom Login UI:** Does the Web3 app have a custom login UI or do they need to use the built-in, [plug-and-play login UI](../../../concepts/plug-and-play-auth/) modal offered by the Arcana Auth SDK? *Choose the appropriate onboarding functions of the `AuthProvider`.*
1. **Session Management:** Does the authenticated user stay logged in if they accidentally close the browser tab? If yes, what is the acceptable Web3 app security window for the session? After how long should the session expire and a user re-login is necessitated for security? *Configure the [session management settings](../../../setup/config-dApp-with-db/#login-session-management) via the dashboard.*
1. **Reconnect:** Does the Web3 app allow users to stay connected or require re-authentication after a certain time has elapsed? *Use `isConnected`, `canReconnect` and `reconnect` functions of the `AuthProvider`.*

[Wagmi Apps](../wagmi/wagmi-pnp-ui/) [RainbowKit Apps](../rainbow/rainbow-pnp-ui/) [WalletConnect Apps](../walletconnect/walletconnect-pnp-ui/) [Web3-React Apps](../web3-react/web3-react-pnp-ui/) [React/Next.js Apps](../react-nextjs/use-plug-play-auth/) [Vanilla HTML/CSS/JS App](../vanilla/use-plug-play-auth/) [Vue App](../vue/use-plug-play-auth/) [Flutter Apps](../../mobile/flutter-get-started/) [React-Native Apps](../../mobile/react-native-get-started/)

[Wagmi Apps](../wagmi/wagmi-custom-ui/) [RainbowKit Apps](../rainbow/rainbow-custom-ui/) [WalletConnect Apps](../walletconnect/walletconnect-custom-ui/) [Web3-React Apps](../web3-react/web3-react-custom-ui/) [React/Next.js Apps](../react-nextjs/custom-ui/) [Vanilla HTML/CSS/JS App](../vanilla/custom-ui/) [Vue App](../vue/custom-ui/) [Flutter Apps](../../mobile/flutter-get-started/) [React-Native Apps](../../mobile/react-native-get-started/)

## Advanced

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

Global vs. App Specific Keys

Apps using app-specific keys must use a custom login UI that allows users to input the OTP. In this case, the `isCompleteRequired` boolean returns `true` after initiating login with OTP.

Apps using global keys are not required to use a custom login UI. A built-in login UI is automatically displayed for the user for OTP. Users must enter the OTP received via email in this UI.

MFA Enabled / Disabled

During passwordless login via OTP, apps configured for MFA and those using overlays must hide it to enable OTP input. Use the `isMFARequired` callback in the `loginWithOTPComplete` method to hide the overlay.

Reconnect Users

Use `canReconnect` and `reconnect` methods of `AuthProvider` within a 30-min window of the user-logout action. Allow users to automatically reconnect to the app without re-authentication.

See [`canReconnect`](https://authsdk-ref-guide.netlify.app/classes/authprovider#canReconnect) and [`reconnect`](https://authsdk-ref-guide.netlify.app/classes/authprovider#reconnect) for details.

Apps Using Custom Auth

Web3 apps that use custom user authentication solutions and require authenticated users to sign blockchain transactions can also integrate with the Arcana Auth SDK. These apps can skip the social onboarding feature and use `loginWithCustomProvider` function of the `AuthProvider` to assign keys securely. [Learn more...](../../custom-auth/)

## What's Next?

Use the EIP-1193 provider offered by the SDK to call JSON/RPC functions and other [supported Web3 wallet operations on MultiversX](../../web3-ops/mvx/) in the authenticated user's context.

## See Also

**'MultiversX'** integration example: See `sample-auth-mvx` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

- [MultiversX FAQ](../../../faq/faq-mvx/)

[Try Demo App](https://demo.arcana.network)

# Near App: Onboard Users

Learn how to onboard users through the configured [social login](../../../concepts/social-login/) providers in a 'Near' app.

## Prerequisites

- [Register](../../../setup/config-dApp-with-db-for-near/) the 'Near' app and configure SDK usage [settings for social login](../../../setup/) providers, [manage Near chains](../../../setup/config-wallet-chains/) and [wallet user experience](../../../setup/config-wallet/).
- Install the [required SDK packages](../../sdk-installation/) for 'Near'.
- [Integrate](../../integrate/near/) 'Near' app and create `AuthProvider`, `ArcanaConnector` as per the app type.

Non-EVM Chains

When registering an app through Arcana Developer Dashboard, the choice of chain type (EVM, Solana, MultiversX, Near) is final. App developers can't change it later. They can switch the default chain within the same type. For example, a Solana app on Testnet can switch to Solana Mainnet or Solana Dev but not to MultiversX or an EVM chain.

## Onboard Users

User Onboarding Considerations

1. **Log in Options:** What options are offered by the app to the onboard users via social login? *Configure the required [social login providers](../../../setup/config-auth/) via the dashboard.*
1. **Built-in or Custom Login UI:** Does the Web3 app have a custom login UI or do they need to use the built-in, [plug-and-play login UI](../../../concepts/plug-and-play-auth/) modal offered by the Arcana Auth SDK? *Choose the appropriate onboarding functions of the `AuthProvider`.*
1. **Session Management:** Does the authenticated user stay logged in if they accidentally close the browser tab? If yes, what is the acceptable Web3 app security window for the session? After how long should the session expire and a user re-login is necessitated for security? *Configure the [session management settings](../../../setup/config-dApp-with-db/#login-session-management) via the dashboard.*
1. **Reconnect:** Does the Web3 app allow users to stay connected or require re-authentication after a certain time has elapsed? *Use `isConnected`, `canReconnect` and `reconnect` functions of the `AuthProvider`.*

[Wagmi Apps](../wagmi/wagmi-pnp-ui/) [RainbowKit Apps](../rainbow/rainbow-pnp-ui/) [WalletConnect Apps](../walletconnect/walletconnect-pnp-ui/) [Web3-React Apps](../web3-react/web3-react-pnp-ui/) [React/Next.js Apps](../react-nextjs/use-plug-play-auth/) [Vanilla HTML/CSS/JS App](../vanilla/use-plug-play-auth/) [Vue App](../vue/use-plug-play-auth/) [Flutter Apps](../../mobile/flutter-get-started/) [React-Native Apps](../../mobile/react-native-get-started/)

[Wagmi Apps](../wagmi/wagmi-custom-ui/) [RainbowKit Apps](../rainbow/rainbow-custom-ui/) [WalletConnect Apps](../walletconnect/walletconnect-custom-ui/) [Web3-React Apps](../web3-react/web3-react-custom-ui/) [React/Next.js Apps](../react-nextjs/custom-ui/) [Vanilla HTML/CSS/JS App](../vanilla/custom-ui/) [Vue App](../vue/custom-ui/) [Flutter Apps](../../mobile/flutter-get-started/) [React-Native Apps](../../mobile/react-native-get-started/)

## Advanced

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

Global vs. App Specific Keys

Apps using app-specific keys must use a custom login UI that allows users to input the OTP. In this case, the `isCompleteRequired` boolean returns `true` after initiating login with OTP.

Apps using global keys are not required to use a custom login UI. A built-in login UI is automatically displayed for the user for OTP. Users must enter the OTP received via email in this UI.

MFA Enabled / Disabled

During passwordless login via OTP, apps configured for MFA and those using overlays must hide it to enable OTP input. Use the `isMFARequired` callback in the `loginWithOTPComplete` method to hide the overlay.

Reconnect Users

Use `canReconnect` and `reconnect` methods of `AuthProvider` within a 30-min window of the user-logout action. Allow users to automatically reconnect to the app without re-authentication.

See [`canReconnect`](https://authsdk-ref-guide.netlify.app/classes/authprovider#canReconnect) and [`reconnect`](https://authsdk-ref-guide.netlify.app/classes/authprovider#reconnect) for details.

Apps Using Custom Auth

Web3 apps that use custom user authentication solutions and require authenticated users to sign blockchain transactions can also integrate with the Arcana Auth SDK. These apps can skip the social onboarding feature and use `loginWithCustomProvider` function of the `AuthProvider` to assign keys securely. [Learn more...](../../custom-auth/)

## What's Next?

Use the EIP-1193 provider offered by the SDK to call JSON/RPC functions and other [supported Web3 wallet operations on Near](../../web3-ops/near/) in the authenticated user's context.

## See also

**'Near'** integration example: See `sample-auth-near` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

- [Near FAQ](../../../faq/faq-near/)

[Try Demo App](https://demo.arcana.network)

# Solana App: Onboard Users

Learn how to onboard users through the configured [social login](../../../concepts/social-login/) providers in a 'Solana' app.

## Prerequisites

- [Register](../../../setup/config-dApp-with-db-for-Solana/) the 'Solana' app and configure SDK usage [settings for social login](../../../setup/) providers, [manage Solana chains](../../../setup/config-wallet-chains/) and [wallet user experience](../../../setup/config-wallet/).
- Install the [required SDK packages](../../sdk-installation/) for 'Solana'.
- [Integrate](../../integrate/solana/) 'Solana' app and create `AuthProvider`, `ArcanaConnector` as per the app type.

Non-EVM Chains

When registering an app through Arcana Developer Dashboard, the choice of chain type (EVM, Solana, MultiversX, Near) is final. App developers can't change it later. They can switch the default chain within the same type. For example, a Solana app on Testnet can switch to Solana Mainnet or Solana Dev but not to MultiversX or an EVM chain.

## Onboard Users

User Onboarding Considerations

1. **Log in Options:** What options are offered by the app to the onboard users via social login? *Configure the required [social login providers](../../../setup/config-auth/) via the dashboard.*
1. **Built-in or Custom Login UI:** Does the Web3 app have a custom login UI or do they need to use the built-in, [plug-and-play login UI](../../../concepts/plug-and-play-auth/) modal offered by the Arcana Auth SDK? *Choose the appropriate onboarding functions of the `AuthProvider`.*
1. **Session Management:** Does the authenticated user stay logged in if they accidentally close the browser tab? If yes, what is the acceptable Web3 app security window for the session? After how long should the session expire and a user re-login is necessitated for security? *Configure the [session management settings](../../../setup/config-dApp-with-db/#login-session-management) via the dashboard.*
1. **Reconnect:** Does the Web3 app allow users to stay connected or require re-authentication after a certain time has elapsed? *Use `isConnected`, `canReconnect` and `reconnect` functions of the `AuthProvider`.*

[Wagmi Apps](../wagmi/wagmi-pnp-ui/) [RainbowKit Apps](../rainbow/rainbow-pnp-ui/) [WalletConnect Apps](../walletconnect/walletconnect-pnp-ui/) [Web3-React Apps](../web3-react/web3-react-pnp-ui/) [React/Next.js Apps](../react-nextjs/use-plug-play-auth/) [Vanilla HTML/CSS/JS App](../vanilla/use-plug-play-auth/) [Vue App](../vue/use-plug-play-auth/) [Flutter Apps](../../mobile/flutter-get-started/) [React-Native Apps](../../mobile/react-native-get-started/)

[Wagmi Apps](../wagmi/wagmi-custom-ui/) [RainbowKit Apps](../rainbow/rainbow-custom-ui/) [WalletConnect Apps](../walletconnect/walletconnect-custom-ui/) [Web3-React Apps](../web3-react/web3-react-custom-ui/) [React/Next.js Apps](../react-nextjs/custom-ui/) [Vanilla HTML/CSS/JS App](../vanilla/custom-ui/) [Vue App](../vue/custom-ui/) [Flutter Apps](../../mobile/flutter-get-started/) [React-Native Apps](../../mobile/react-native-get-started/)

## Advanced

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

Global vs. App Specific Keys

Apps using app-specific keys must use a custom login UI that allows users to input the OTP. In this case, the `isCompleteRequired` boolean returns `true` after initiating login with OTP.

Apps using global keys are not required to use a custom login UI. A built-in login UI is automatically displayed for the user for OTP. Users must enter the OTP received via email in this UI.

MFA Enabled / Disabled

During passwordless login via OTP, apps configured for MFA and those using overlays must hide it to enable OTP input. Use the `isMFARequired` callback in the `loginWithOTPComplete` method to hide the overlay.

Reconnect Users

Use `canReconnect` and `reconnect` methods of `AuthProvider` within a 30-min window of the user-logout action. Allow users to automatically reconnect to the app without re-authentication.

See [`canReconnect`](https://authsdk-ref-guide.netlify.app/classes/authprovider#canReconnect) and [`reconnect`](https://authsdk-ref-guide.netlify.app/classes/authprovider#reconnect) for details.

Apps Using Custom Auth

Web3 apps that use custom user authentication solutions and require authenticated users to sign blockchain transactions can also integrate with the Arcana Auth SDK. These apps can skip the social onboarding feature and use `loginWithCustomProvider` function of the `AuthProvider` to assign keys securely. [Learn more...](../../custom-auth/)

## What's Next?

Use the EIP-1193 provider offered by the SDK to call JSON/RPC functions and other [supported Web3 wallet operations for Solana](../../web3-ops/solana/) in the authenticated user's context.

## See also

**'Solana'** integration example: See `sample-auth-solana` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

- [Solana FAQ](../../../faq/faq-solana/)

[Try Demo App](https://demo.arcana.network)

# Unity App: Onboard Users

Learn how to onboard users via [social login](../../../concepts/social-login/) in a Web3 Unity gaming app integrated with the [Arcana Auth Unity SDK](../../../concepts/authsdk/) and allow authenticated users to access the Arcana wallet within the app context.

## Prerequisites

- The Unity Web3 gaming App must be [integrated with the Arcana Auth Unity SDK](../../integrate/unity/).

## Onboarding Users

*Follow these steps to onboard users in a Unity Web3 gaming app with the Arcana Auth Unity SDK and allow authenticated users to access the Arcana wallet.*

Call `LoginWithSocial` or `LoginWithOTP` to onboard the user. Choose one of the [supported user onboarding options](../../../web3-stack/auth/) such as Google, Steam, etc.

```
// After initializing the SDK

if (loginMethod == LoginMethod.Passwordless)
  arcanaSDK.LoginWithOTP(email);
else
  arcanaSDK.LoginWithSocial(loginMethod);

```

That is all.

The Unity Web3 gaming app can now onboard users via the configured social login providers.

## What's Next?

After adding code to onboard users in a Unity Web3 gaming app, developers can add code to [enable Web3 wallet operations](../../web3-ops/unity-wallet-ops/) for authenticated users to sign transactions.

## See also

- [Authentication Types](../../../concepts/authtype/)
- [Unity Quick Start Guide](../../../quick-start/unity-quick-start/)

# Login Users via Passkeys

In this guide, you will learn how a Web3 app integrated with the Arcana Auth SDK can let users set up [passkeys](../../../../concepts/authtype/auth-passkeys/) as an [alternative login](../../../../concepts/authtype/auth-passkeys/#alternate-login) option.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- The app must be [registered using the Arcana Developer Dashboard](../../../../setup/config-auth/register-app/). A unique Client ID is assigned after app registration. It is required for integrating the app with the Arcana Auth SDK.
- [Configure passkeys settings](../../../../setup/config-auth-passkeys/) in the Arcana Developer Dashboard.
- Follow the instructions as per the app type and [integrate the app](../../../integrate/vanilla-html-css-js/) with the Arcana Auth SDK.

## Steps

*Follow these steps to enable passkeys as an alternative login for users in a Web3 app integrated with the Arcana Auth SDK.*

### 1. Authenticate User

Add code to onboard users via [social login](../../vanilla/custom-ui/build-social/) or [passwordless](../../vanilla/custom-ui/build-pwdless-auth/) options. Use `loginWithSocial` or `loginWithOTP` to onboard users for their first login without passkeys.

### 2. Link Passkeys

In the authenticated user's context, check if the browser supports logging in via passkey through the `IsPasskeyLoginSupported` function. If the app browser supports passkeys, call `linkPasskey` function in the authenticated user's context to bind the passkey with the app.

```
import { AuthProvider } from "@arcana/auth"
const auth = new AuthProvider("...")

window.onload = () => {
  await auth.init()
}

if auth.isPasskeyLoginSupported(){
    console.log("Passkey login is supported by the device/browser.")
    // The device or browser running the app supports Passkey Login.

    // Add code to allow non-passkey authenticated user to set up passkey

    ...
}

```

The `linkPasskey` function invokes the device/browser specific passkey functionality. User will be prompted to create a passkey if none exist on the device. Or a list of available passkeys will be displayed for the user to choose from. Then the selected passkey can be linked or bound to the app for future login attempts.

```
import { AuthProvider } from "@arcana/auth"
const auth = new AuthProvider("...")

window.onload = () => {
  await auth.init()
}
// First login / signup
// Display custom login UI with non-passkey login options

...

// Allow user to click log in via one of the options

if !auth.isLoggedIn(){
  // Onboard user via non-passkey option
  await auth.loginWithSocial({{ no such element: dict object['social_provider'] }})

  // Check if the device/browser support passkey login
  if auth.isPasskeyLoginSupported(){

    // Enable authenticated user to link a passkey with the app

    // Post login function
    await auth.linkPasskey();
  }
}

```

After passkeys are set for the app, the `getMyPasskeys` can be called in the authenticated user's context to list all the user passkeys linked with the app on the device/browser.

```
import { AuthProvider } from "@arcana/auth";
const auth = new AuthProvider("...");

window.onload = () => {
  await auth.init();
}

if !auth.isLoggedIn(){
  // Onboard user via non-passkey option
  await auth.loginWithSocial({{ no such element: dict object['social_provider'] }});

  const userInfo = auth.getUser();
  console.log("userInfo.name", userInfo.name);

  // Check if the device/browser support passkey login
  if auth.isPasskeyLoginSupported(){

    // Enable authenticated user to link a passkey with the app

    // Post login function
    await auth.linkPasskey();

    // Post login function
    const passkeys = await auth.getMyPasskeys();
    console.log({ passkeys });
  }

  ...

}

```

### Enable Passkey Login

Once passkeys are set up by the user, enable a 'login with passkey' option in the custom login UI of the app. When a user chooses this option to log in, call `loginWithPasskey`. This will bring up the device specific UI to display a list of passkeys and let the user select one to onboard the app.

```
import { AuthProvider } from "@arcana/auth"
const auth = new AuthProvider("...")

window.onload = () => {
  await auth.init()
}

...

// Display custom login UI with non-passkey login options

...

// Allow user to click log in via one of the options

if !auth.isLoggedIn(){
  // Onboard user via non-passkey option
  await auth.loginWithSocial({{ no such element: dict object['social_provider'] }});

  const userInfo = auth.getUser();
  console.log("userInfo.name", userInfo.name);

  // Check if the device/browser support passkey login
  if auth.isPasskeyLoginSupported(){

    // Enable authenticated user to link a passkey with the app

    // Post login function
    await auth.linkPasskey();

    // Post login function
    const passkeys = await auth.getMyPasskeys();
    console.log({ passkeys });
  }
}

// Allow user to choose and log out after passkey linking is done

// Display custom login UI with all onboarding options including passkeys

// User clicks 'login with passkey' option in the UI

if !auth.isLoggedIn(){
  // Pre login function
  await auth.loginWithPasskey();
  ...
}

...

```

Developers can also let user view the passkeys linked with the app or website and unlink them, if required.

### List Passkeys

In the authenticated user's context, call `getMyPasskeys` to list all the user passkeys associated with the app.

```
import { AuthProvider } from "@arcana/auth";
const auth = new AuthProvider("...");

window.onload = () => {
  await auth.init();
}

if !auth.isLoggedIn(){
  // Onboard user via non-passkey option
  await auth.loginWithSocial({{ no such element: dict object['social_provider'] }});

  const userInfo = auth.getUser();
  console.log("userInfo.name", userInfo.name);

  // Check if the device/browser support passkey login
  if auth.isPasskeyLoginSupported(){

    // Enable authenticated user to link a passkey with the app

    // Post login function
    await auth.linkPasskey();

    // Post login function
    const passkeys = await auth.getMyPasskeys();
    console.log({ passkeys });
  }

  ...

}

```

### Unlink Passkeys

Apps can allow users to unlink the passkeys associated with an app.

To do this, call `getMyPasskeys`in the authenticated user's context. This will list all the passkeys associated with the app. Let the user select a passkey. Specify the id of the selected passkey and call `unlinkPasskey(id)`. This will ensure that on subsequent login attempts, user cannot onboard the app with the unlinked passkey.

```
import { AuthProvider } from "@arcana/auth"
const auth = new AuthProvider("...")

window.onload = () => {
  await auth.init()
}

...

// First login / signup
// Display custom login UI with non-passkey login options

...

// Allow user to click log in via one of the options

if !auth.isLoggedIn(){
  // Onboard user via non-passkey option
  await auth.loginWithSocial({{ no such element: dict object['social_provider'] }});

  const userInfo = auth.getUser();
  console.log("userInfo.name", userInfo.name);

  // Check if the device/browser support passkey login
  if auth.isPasskeyLoginSupported(){

    // Enable authenticated user to link a passkey with the app

    // Post login function
    await auth.linkPasskey();

    // Post login function
    const passkeys = await auth.getMyPasskeys();
    console.log({ passkeys });
  }
}

// Allow user to choose and log out after passkey linking is done

// Display custom login UI with all onboarding options including passkeys

// User clicks 'login with passkey' option in the UI

// Pre login function
await auth.loginWithPasskey();

...

if !auth.isLoggedIn(){

  // Allow user to select passkey and unlink

  // Post login function
  const passkeys = await auth.getMyPasskeys();
  console.log({ passkeys });

  // User selects passkey n via device/browser passkey UI

  if (passkeys[n]){
    // Post login function
    await auth.unlinkPasskey(passkey[n]);
  }

}

```

**That is all.**

Your dApp is all set for onboarding users via the passkeys option.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../concepts/authtype/)
- [Configure Social Providers](../../../../setup/)
- [Arcana Auth SDK Errors](../../../auth-error-msg/)
- [Arcana Auth SDK Usage Guide](../../../auth-usage-guide/)
- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)

# Login Users via Passkeys

In this guide, you will learn how a Web3 app integrated with the Arcana Auth SDK let users [sign-up and login](../../../../concepts/authtype/auth-passkeys/#sign-up-login) into the app via [passkeys](../../../../concepts/authtype/auth-passkeys/) as the only app onboarding.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- The app must be [registered using the Arcana Developer Dashboard](../../../../setup/config-auth/register-app/). A unique Client ID is assigned after app registration. It is required for integrating the app with the Arcana Auth SDK.
- [Configure passkeys settings](../../../../setup/config-auth-passkeys/) in the Arcana Developer Dashboard.
- Follow the instructions as per the app type and [integrate the app](../../../integrate/vanilla-html-css-js/) with the Arcana Auth SDK.

## Steps

*Follow these steps to enable sign-up & login via passkeys in a Web3 app that is integrated with the Arcana Auth SDK.*

### 1. Register Passkey

Add code to sign-up and create new user account via `registerWithPasskey()`. This will let the user create a new passkey and link it with the app in one shot. The newly created user will be assigned a blockchain wallet address as well. Once user has created the passkeys, enable the `Login with Passkey` option in the app UI.

### 2. Enable Passkey Login

Once passkeys are set up by the user, enable a 'login with passkey' option in the custom login UI of the app. When a user chooses this option to log in, call `loginWithPasskey`. This will bring up the device specific UI to display a list of passkeys linked with the app and let the user select one to onboard the app.

```
import { AuthProvider } from "@arcana/auth"
const auth = new AuthProvider("...")

window.onload = () => {
  await auth.init()
}

...

// Display custom login UI with non-passkey login options

...

// Allow user to click log in via one of the options

if !auth.isLoggedIn(){
  // Onboard user via non-passkey option
  await auth.loginWithSocial({{ no such element: dict object['social_provider'] }});

  const userInfo = auth.getUser();
  console.log("userInfo.name", userInfo.name);

  // Check if the device/browser support passkey login
  if auth.isPasskeyLoginSupported(){

    // Enable authenticated user to link a passkey with the app

    // Post login function
    await auth.linkPasskey();

    // Post login function
    const passkeys = await auth.getMyPasskeys();
    console.log({ passkeys });
  }
}

// Allow user to choose and log out after passkey linking is done

// Display custom login UI with all onboarding options including passkeys

// User clicks 'login with passkey' option in the UI

if !auth.isLoggedIn(){
  // Pre login function
  await auth.loginWithPasskey();
  ...
}

...

```

Developers can also let user view the passkeys linked with the app or website and unlink them, if required.

### List Passkeys

In the authenticated user's context, call `getMyPasskeys` to list all the user passkeys associated with the app.

```
import { AuthProvider } from "@arcana/auth";
const auth = new AuthProvider("...");

window.onload = () => {
  await auth.init();
}

if !auth.isLoggedIn(){
  // Onboard user via non-passkey option
  await auth.loginWithSocial({{ no such element: dict object['social_provider'] }});

  const userInfo = auth.getUser();
  console.log("userInfo.name", userInfo.name);

  // Check if the device/browser support passkey login
  if auth.isPasskeyLoginSupported(){

    // Enable authenticated user to link a passkey with the app

    // Post login function
    await auth.linkPasskey();

    // Post login function
    const passkeys = await auth.getMyPasskeys();
    console.log({ passkeys });
  }

  ...

}

```

### Unlink Passkeys

Apps can allow users to unlink the passkeys associated with an app.

To do this, call `getMyPasskeys`in the authenticated user's context. This will list all the passkeys associated with the app. Let the user select a passkey. Specify the id of the selected passkey and call `unlinkPasskey(id)`. This will ensure that on subsequent login attempts, user cannot onboard the app with the unlinked passkey.

```
import { AuthProvider } from "@arcana/auth"
const auth = new AuthProvider("...")

window.onload = () => {
  await auth.init()
}

...

// First login / signup
// Display custom login UI with non-passkey login options

...

// Allow user to click log in via one of the options

if !auth.isLoggedIn(){
  // Onboard user via non-passkey option
  await auth.loginWithSocial({{ no such element: dict object['social_provider'] }});

  const userInfo = auth.getUser();
  console.log("userInfo.name", userInfo.name);

  // Check if the device/browser support passkey login
  if auth.isPasskeyLoginSupported(){

    // Enable authenticated user to link a passkey with the app

    // Post login function
    await auth.linkPasskey();

    // Post login function
    const passkeys = await auth.getMyPasskeys();
    console.log({ passkeys });
  }
}

// Allow user to choose and log out after passkey linking is done

// Display custom login UI with all onboarding options including passkeys

// User clicks 'login with passkey' option in the UI

// Pre login function
await auth.loginWithPasskey();

...

if !auth.isLoggedIn(){

  // Allow user to select passkey and unlink

  // Post login function
  const passkeys = await auth.getMyPasskeys();
  console.log({ passkeys });

  // User selects passkey n via device/browser passkey UI

  if (passkeys[n]){
    // Post login function
    await auth.unlinkPasskey(passkey[n]);
  }

}

```

**That is all.**

Your dApp is all set for letting users sign-in and login via passkeys.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../concepts/authtype/)
- [Configure Social Providers](../../../../setup/)
- [Arcana Auth SDK Errors](../../../auth-error-msg/)
- [Arcana Auth SDK Usage Guide](../../../auth-usage-guide/)
- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)

# Custom Login UI

Onboard users in a 'RainbowKit' app integrated with the Arcana Auth SDK through a custom login UI.

Plug-and-Play Login UI

You can onboard users in a 'RainbowKit' app faster through the built-in, [plug-and-play login UI](../../../../concepts/plug-and-play-auth/) instead of choosing to build a custom login UI. [Learn more...](../rainbow-pnp-ui/)

## Prerequisites

- [Register](../../../../setup/config-auth/register-app/) the Wagmi app and configure SDK usage [settings for social login](../../../../setup/) providers, [manage app chains](../../../../setup/config-wallet-chains/) and [wallet user experience](../../../../setup/config-wallet/).
- Install the [required SDK packages](../../../sdk-installation/) for 'RainbowKit'.
- [Integrate](../../../integrate/wagmi/) 'RainbowKit' app and create `AuthProvider`, `ArcanaConnector`.

## Steps

### 1. Configure `ArcanaConnector`

`ArcanaConnector` is created earlier as part of SDK integration. When using a custom login UI to onboard users, configure `ArcanaConnector` differently.

Add code in the custom UI for onboarding via social login and passwordless options by using the `setLogin` function.

*Enable Authentication Provider*

```
import { AuthProvider } from "@arcana/auth";
import { ArcanaConnector } from "@arcana/auth-wagmi";
import { polygon, polygonAmoy } from "wagmi/chains";
import { configureChains, createClient, Chain } from "wagmi";
import { publicProvider } from "wagmi/providers/public";

/* Using Custom UI for user login via Google */
const auth = new AuthProvider(`${arcana_client_id}`) // Singleton
export const connector = (chains: Chain[]) => {
  return new ArcanaConnector({
    chains,
    options: {
      auth: auth,        
      login:  {
          provider: 'google', //See 'Custom Login UI' section in the documentation for other supported providers.
        } // Optional, specify here during ArcanaConnector instantiation or in the setLogin function
    },
  });
};

// Custom UI Alternative 
// Use setLogin function after creating the connector.

/*
const auth = new AuthProvider(`${arcana_client_id}`) // Singleton
export const connector = (chains: Chain[]) => {
  return new ArcanaConnector({
    chains,
    options: {
      auth: auth             
    },
  });
};

connector.setLogin({
  provider: 'google'
})
*/

...

```

*Enable Passwordless Login*

```
import { AuthProvider } from "@arcana/auth";
import { ArcanaConnector } from "@arcana/auth-wagmi";
import { polygon, polygonAmoy } from "wagmi/chains";
import { configureChains, createClient, Chain } from "wagmi";
import { publicProvider } from "wagmi/providers/public";

/* Using Custom UI for Passwordless user login */
const auth = new AuthProvider(`${arcana_client_id}`) // Singleton
export const connector = (chains: Chain[]) => {
  return new ArcanaConnector({
    chains,
    options: {
      auth: auth,        
      login:  {
          provider: 'passwordless', 
          email: 'abc@example.com' //optional
        } // Optional, specify login details here or during ArcanaConnector instantiation or in the setLogin function
    },
  });
};

// Custom UI Alternative 
// Use setLogin function after creating the connector.

/*
const auth = new AuthProvider(`${arcana_client_id}`) // Singleton
export const connector = (chains: Chain[]) => {
  return new ArcanaConnector({
    chains,
    options: {
      auth: auth             
    },
  });
};

connector.setLogin({
  provider: 'passwordless',
  email: 'abc@example.com' //optional
})
*/

...

```

Single Provider Optimization

When using a single social login provider, specify it when creating ArcanaConnector to optimize onboarding. There's no need to use setLogin later in the custom login UI code.

For multiple social login providers, create ArcanaConnector without specifying a provider. Use the setLogin function later based on the user's choice.

### 2. Set up `WagmiConfig`

Use the `ArcanaConnector` and set up [Wagmi config](https://wagmi.sh/react/getting-started).

```
// Note:  
// This sample code is for 
// wagmi versions 1.x.x and auth-wagmi 2.0.0

import { configureChains, createConfig, WagmiConfig } from "wagmi";
import { polygon, mainnet, optimism, arbitrum } from "wagmi/chains";
import { publicProvider } from "wagmi/providers/public";
import { RainbowKitProvider } from "@rainbow-me/rainbowkit";
import { connectors } from "./wallet";
import { useAccount, useConnect } from 'wagmi'
import { Connect } from "./Connect";

const { chains, publicClient } = configureChains(
  [mainnet, polygon, optimism, arbitrum],
  [publicProvider()]
);

const wagmiEntity = createConfig({
  connectors: connectors(chains),
  autoConnect: true,
  publicClient,
});
...

```

```
// Note:  
// This sample code is for 
// wagmi versions <1.x.x and auth-wagmi <2.0.0

import "../styles/globals.css";
import "@rainbow-me/rainbowkit/styles.css";

import { configureChains, createClient, WagmiConfig } from "wagmi";
import { polygon, mainnet } from "wagmi/chains";
import { publicProvider } from "wagmi/providers/public";
import { RainbowKitProvider } from "@rainbow-me/rainbowkit";
import { connectors } from "../utils/wallet";

const { chains, provider } = configureChains(
  [mainnet, polygon],
  [publicProvider()]
);

const wagmiEntity = createClient({
  connectors: connectors(chains),
  autoConnect: true,
  provider,
});
...

```

### 3. Initialize RainbowKit App Components

```
// Pass wagmi client configured with ArcanaRainbowKitConnector to the RainbowKit Context Provider
export default function App({ Component, pageProps }) {
  return (
    <WagmiConfig config={wagmiEntity}>
      <RainbowKitProvider chains={chains}>
        <Component {...pageProps} />
      </RainbowKitProvider>
    </WagmiConfig>
  );
}

```

```
// Pass wagmi client configured with ArcanaRainbowKitConnector to the RainbowKit Context Provider
export default function App({ Component, pageProps }) {
  return (
    <WagmiConfig client={wagmiEntity}>
      <RainbowKitProvider chains={chains}>
        <Component {...pageProps} />
      </RainbowKitProvider>
    </WagmiConfig>
  );
}

```

## What's Next?

Use `AuthProvider`, the EIP-1193 provider offered by the SDK, to call supported JSON/RPC functions and [Web3 wallet operations](../../../web3-ops/evm/) in the authenticated user's context.

## See also

- [Arcana Auth SDK Errors](../../../auth-error-msg/)
- [Arcana Auth SDK Usage Guide](../../../auth-usage-guide/)
- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Auth Wagmi SDK Reference](https://deploy-preview-28--wagmi-authsdk-ref-guide.netlify.app/)

# Plug-and-Play Login UI

Use the built-in, [plug-and-play login UI modal](../../../../concepts/plug-and-play-auth/) to quickly onboard users in a 'RainbowKit' app integrated with the Arcana Auth Wagmi SDK.

Custom Login UI

You can onboard users through a [custom login UI](../../../../concepts/custom-login-ui/) instead of the [built-in plug-and-play](../../../../concepts/plug-and-play-auth/) one. See [how to use custom login UI](../rainbow-custom-ui/) and onboard users in a 'RainbowKit' app.

## Prerequisites

- [Register](../../../../setup/config-auth/register-app/) the Wagmi app and configure SDK usage [settings for social login](../../../../setup/) providers, [manage app chains](../../../../setup/config-wallet-chains/) and [wallet user experience](../../../../setup/config-wallet/).
- Install the [required SDK packages](../../../sdk-installation/) for 'RainbowKit'.
- [Integrate](../../../integrate/wagmi/) 'RainbowKit' app and create `AuthProvider`, `ArcanaConnector`.

## Steps

### 1. Setup `WagmiConfig`

Use the `ArcanaConnector` created during app integration to set up [Wagmi config](https://wagmi.sh/react/getting-started).

```
//
// For apps using Wagmi versions v2.a.b and auth-wagmi v3.x.y
//

import { http, createConfig } from 'wagmi'
import { mainnet, sepolia } from 'wagmi/chains'
import { coinbaseWallet, injected, walletConnect } from 'wagmi/connectors'
import { AuthProvider } from '@arcana/auth'
import { ArcanaConnector } from "@arcana/auth-wagmi"

let auth: AuthProvider | null;

if (!auth) {
  auth = new AuthProvider(
    "Your-app-Client-ID"
  );
}

const connector = new ArcanaConnector({ auth });

export const config = createConfig({
  chains: [mainnet, sepolia],
  connectors: [
    injected(),
    coinbaseWallet({ appName: 'Create Wagmi' }),
    walletConnect({ projectId: import.meta.env.VITE_WC_PROJECT_ID }),
    connector(),
  ],
  transports: {
    [mainnet.id]: http(),
    [sepolia.id]: http(),
  },
})

declare module 'wagmi' {
  interface Register {
    config: typeof config
  }
}
...

```

```
//   
// For apps using Wagmi versions v1.x.y and auth-wagmi v2.a.b
//

import { configureChains, createConfig, WagmiConfig } from "wagmi";
import { publicProvider } from "wagmi/providers/public";
import { polygon, polygonAmoy } from "wagmi/chains";
import { useAccount, useConnect, useDisconnect, useBalance } from 'wagmi'
import "../styles/globals.css";
import { AuthProvider } from '@arcana/auth'
import { ArcanaConnector } from "@arcana/auth-wagmi"

let auth: AuthProvider | null;

if (!auth) {
  auth = new AuthProvider(
    "Your-app-Client-ID"
  );
}

const { chains, provider, webSocketProvider } = configureChains(
  [mainnet, polygon, polygonAmoy],
  [publicProvider()],
  { targetQuorum: 1 }
);

export const connector = (chains: Chain[]) => {
  return new ArcanaConnector({
    chains,
    options: {
      auth: auth,
    },
  });
};

const { chains, publicClient } = configureChains(
  [polygon, polygonAmoy],
  [publicProvider()]
);

export const wagmiEntity = createConfig({
  autoConnect: true,
  connectors: [connector(chains)],
  publicClient,
});
...

```

### 2. Initialize `RainbowKitProvider`

Specify Wagmi config to initialize `WagmiConfig` component in the app before using the `RainbowKitProvider` component.

```
// Pass wagmi client configured with ArcanaRainbowKitConnector to the RainbowKit Context Provider
export default function App({ Component, pageProps }) {
  return (
    <WagmiConfig config={wagmiEntity}>
      <RainbowKitProvider chains={chains}>
        <Component {...pageProps} />
      </RainbowKitProvider>
    </WagmiConfig>
  );
}

```

```
// Pass wagmi client configured with ArcanaRainbowKitConnector to the RainbowKit Context Provider
export default function App({ Component, pageProps }) {
  return (
    <WagmiConfig client={wagmiEntity}>
      <RainbowKitProvider chains={chains}>
        <Component {...pageProps} />
      </RainbowKitProvider>
    </WagmiConfig>
  );
}

```

## What's Next?

Use `AuthProvider`, the EIP-1193 provider offered by the SDK, to call supported JSON/RPC functions and [Web3 wallet operations](../../../web3-ops/evm/) in the authenticated user's context.

## See also

**'RainbowKit'** integration example: See \`\`sample-auth-rainbowkit-viem`, `sample-auth-rainbowkit\` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

- [FAQ](../../../../faq/faq-gen/)
- [Troubleshooting Guide](../../../../troubleshooting/)
- [Arcana Auth SDK Errors](../../../auth-error-msg/)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

Arcana Auth Wagmi SDK Quick Links

- [Auth Wagmi SDK Reference](https://deploy-preview-28--wagmi-authsdk-ref-guide.netlify.app/)
- [Release notes](../../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth-wagmi/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth-wagmi)

[Try Demo App](https://demo.arcana.network)

# Plug-and-Play Login UI

Use the built-in, [plug-and-play login UI modal](../../../../concepts/plug-and-play-auth/) to quickly onboard users in a 'React/Next.js' app integrated with the Arcana Auth Wagmi SDK.

Custom Login UI

You can onboard users through a [custom login UI](../../../../concepts/custom-login-ui/) instead of the [built-in plug-and-play](../../../../concepts/plug-and-play-auth/) one. See [how to use custom login UI](../custom-ui/) and onboard users in a 'React/Next.js' app.

## Prerequisites

- [Register](../../../../setup/config-auth/register-app/) the Wagmi app and configure SDK usage [settings for social login](../../../../setup/) providers, [manage app chains](../../../../setup/config-wallet-chains/) and [wallet user experience](../../../../setup/config-wallet/).
- Install the [required SDK packages](../../../sdk-installation/) for 'React/Next.js'.
- [Integrate](../../../integrate/react-nextjs/) 'React/Next.js' app, create and initialize the `AuthProvider`.

## Steps

```
import { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import { AuthProvider } from "@arcana/auth";
import { ProvideAuth } from "@arcana/auth-react";

import App from "./App";

const rootElement = document.getElementById("root");
const root = createRoot(rootElement);
const provider = new AuthProvider(
  "xar_live_d7c88d9b033d100e4200d21a5c4897b896e60063",
  {
    network: "mainnet",
    theme: "light",
    connectOptions: {
      compact: true,
    },
    chainConfig: {
      chainId: "80001"
    }
  }
); //See SDK Reference Guide for optional parameters

root.render(
  <StrictMode>
    <ProvideAuth provider={provider}>
      <App />
    </ProvideAuth>
  </StrictMode>
);

```

```
import { Auth } from "@arcana/auth-react";

// Use <Auth/> to use the built-in, plug & play login UI
function App() {
  const [theme, setTheme] = React.useState("light");
  return (
    <div>
      <Auth theme={theme} />
    </div>
)}

export default App;

```

```
import { useAuth } from "@arcana/auth-react";

function App() {
  const { loading, isLoggedIn, connect, user } = useAuth()

  const onConnectClick = async () => {
    try {
      await connect(); // Built-in, plug & play login UI
    } catch (err) {
      console.log({ err });
      // Handle error
    }
  };

  if (loading) {
    return <p>Loading...</p>;
  }
  if (!isLoggedIn) {
    return (
      <button onClick={onConnectClick}>
        Login UI (Built-in)
      </button>
    );
  }
}

export default App

```

The figure below shows the built-in login UI plug-and-play pop-up authentication screen for a test app.

Plug-and-play Login UI

Compact Mode

While creating the `AuthProvider`, use `connectoOptions` to optionally choose the [compact mode](../../../../concepts/plug-and-play-auth/#compact-modal) for the plug-and-play login UI.

```
connectOptions: {
      compact: true // default - false
},

```

Login UI Options

No plug-and-play support for Firebase authentication.

The [plug and play feature](../../../../concepts/plug-and-play-auth/) of the Arcana Auth SDK does not support social login via Firebase. Developers must build a custom login UI and add code to onboard users. For details, see [onboarding users via Firebase and custom login UI](../custom-ui/build-idm/firebase-login/)

No plug-and-play support for Telegram authentication.

The [plug and play feature](../../../../concepts/plug-and-play-auth/) of the Arcana Auth SDK does not support social login via Telegram. Developers must build a custom login UI and add code to onboard users. For details, see \[\[{{ no such element: dict object['telegram_custom_ui_tag'] }}|onboarding users via Telegram and custom login UI\]\].

## What's Next?

Use `AuthProvider`, the EIP-1193 provider offered by the SDK, to call supported JSON/RPC functions and [Web3 wallet operations](../../../web3-ops/evm/) in the authenticated user's context.

## See also

**'React/Next.js'** integration example: See `sample-auth-react`,`sample-auth-nextjs` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

- [FAQ](../../../../faq/faq-gen/)
- [Troubleshooting Guide](../../../../troubleshooting/)
- [Arcana Auth SDK Errors](../../../auth-error-msg/)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

Arcana Auth Wagmi SDK Quick Links

- [Auth Wagmi SDK Reference](https://deploy-preview-28--wagmi-authsdk-ref-guide.netlify.app/)
- [Release notes](../../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth-wagmi/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth-wagmi)

[Try Demo App](https://demo.arcana.network)

# Custom Login UI

[Enable Passwordless Auth](build-pwdless-auth/)

[Social Login Providers](build-social/)

[IAM Providers](build-idm/)

# Build Passwordless Auth

Learn how React/Next.js app can use custom login UI and allow users to onboard via passwordless login option.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- The app must be [registered using the Arcana Developer Dashboard](../../../../../setup/config-auth/register-app/) and a unique Client ID must be already assigned to it. This Client ID is essential for integrating the app with the Arcana Auth SDK
- Follow the instructions to [integrate the React app](../../../../integrate/react-nextjs/) with the Arcana Auth SDK and initialize the `AuthProvider` instance.

No Setup Required for Passwordless

Passwordless login does **not** require any configuration setup through the Arcana Developer Dashboard. When prompted, app users must supply an email ID to receive the OTP for logging into the app. On receiving the OTP in email, user must provide the same in the app to authenticate and access the in-app Arcana wallet to sign transactions.

## Steps

`useAuth() hook`

Use `loginWithLink` (deprecated) `loginWithOTPStart` and `loginWithOTPComplete` through the `useAuth` hook offered by the Arcana Auth React SDK and trigger passwordless login to onboard the users.

### Login with link

```
await auth.loginWithLink(`${email}`)

```

Deprecated

`loginWithLink` is deprecated.

Use `loginWithOTPStart`, `loginWithOTPComplete` for passwordless login with OTP. The OTP will be received via email supplied in `loginWithOTPStart` call.

### Login with OTP

```
try {
const loginState = await auth.loginWithOTPStart("john.doe@somemail.com");
await loginState.begin()
if(loginState.isCompleteRequired) {
  // App is using default app-specific keys
  // App must ask the user to input a 6-digit code received in mail
  var userInput = prompt("Please enter a 6-digit code:", "111111");

  // Validate if the input is a 6-digit code
  if (userInput !== null && 
      userInput.length === 6 && 
      !isNaN(userInput)) {
    const complete = await auth.loginWithOTPComplete(
      userInput, 
      onMFARequired() => {
      //Hide overlay, if used in the app
    });
    console.log("complete:",complete);
  } else {
    console.log("Invalid input. Please enter a valid 6-digit code.");
  } 
} else {
  // App is using global keys, built-in OTP input UI is displayed by the SDK
  // App is not required to add code for OTP input
}
} catch (e) {
console.log(e);
}

```

Global vs. App Specific Keys

Apps using app-specific keys must use a custom login UI that allows users to input the OTP. In this case, the `isCompleteRequired` boolean returns `true` after initiating login with OTP.

Apps using global keys are not required to use a custom login UI. A built-in login UI is automatically displayed for the user for OTP. Users must enter the OTP received via email in this UI.

MFA Enabled / Disabled

During passwordless login via OTP, apps configured for MFA and those using overlays must hide it to enable OTP input. Use the `isMFARequired` callback in the `loginWithOTPComplete` method to hide the overlay.

## What's Next?

Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../web3-ops/evm/)

## See also

**React/Next.js** integration example: See `sample-auth-react`,`sample-auth-nextjs` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

- [FAQ](../../../../../faq/faq-gen/)
- [Troubleshooting Guide](../../../../../troubleshooting/)
- [Arcana Auth SDK Errors](../../../../auth-error-msg/)
- [Arcana Auth SDK Usage Guide](../../../../auth-usage-guide/)
- [Arcana Auth React SDK Reference](https://auth-react-sdk-ref-guide.netlify.app/)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

Arcana Auth React SDK Quick Links

- [Arcana Auth React SDK Reference Guide](https://auth-react-sdk-ref-guide.netlify.app/)
- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Arcana Auth SDK Release notes](../../../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth-react/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth-react)

[Try Demo App](https://demo.arcana.network)

# IAM Provider: Custom Login UI

Developers can choose to **not** use the plug-and-play login UI and instead build a custom login UI to onboard users.

In this case, developers must build custom login UI themselves after configuring the IAM Providers in the Arcana Developer Dashboard. This custom login UI must call appropriate user onboarding functions offered by the Arcana Auth SDK for every configured IAM provider.

[Cognito](cognito-oauth/)

[Firebase](firebase-login/)

# User Login with Cognito

In this guide, you will learn how a React/Next.js app integrated with the Arcana Auth SDK and Arcana Auth React SDK can onboard users with a custom login UI through Cognito authentication.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- Carefully [follow the instructions to configure Cognito](../../../../../../setup/config-idm/cognito-oauth/) as the authentication provider.
- Use the instructions and [integrate the React app](../../../../../integrate/react-nextjs/) with the Arcana Auth SDK and the Arcana Auth React SDK before adding code to onboard users.

## Steps

*Using Cognito to onboard users in a React/Next.js app requires a single line of code.*

## Step 1: Use `loginWithSocial`

App.js

```
import { useAuth } from "@arcana/auth-react";

function App() {
  const { loading, isLoggedIn, loginWithSocial } = useAuth()

  // custom login UI
  const onConnectClick = async () => {
    try {
      await loginWithSocial('aws'); 
    } catch (err) {
      console.log({ err });
      // Handle error
    }
  };

  if (loading) {
    return <p>Loading...</p>;
  }
  if (!isLoggedIn) {
    return (
      <button onClick={onConnectClick}>
        Connect with Cognito
      </button>
    );
  }
}

export default App

```

**That is all.**

The React/Next.js app is all set for onboarding users via Cognito.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/).
- [Arcana Auth React SDK Reference Guide](https://auth-react-sdk-ref-guide.netlify.app/)
- [Handling authentication errors](../../../../../auth-error-msg/)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# User Login with Firebase

In this guide, you will learn how a React/Next.js app integrated with the Arcana Auth SDK and Firebase SDK can onboard users via custom login UI and Firebase as the authentication provider.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- Carefully [follow the instructions to configure Firebase](../../../../../../setup/config-idm/firebase-auth/) as the authentication provider.
- Install the Firebase SDK and integrate the app as explained in the Firebase documentation for [iOS apps](https://firebase.google.com/docs/ios/setup), [Android apps](https://firebase.google.com/docs/android/setup) and [web apps](https://firebase.google.com/docs/web/setup). Use [Firebase authentication](https://firebase.google.com/docs/auth) as per the Web3 app type, mobile or web app. Once a user is authenticated by Firebase, the developer must obtain the token and user identifier and provide it as input to the `loginWithBearer` function of the Arcana Auth SDK for onboarding users to Web3.
- Install the Arcana Auth SDK and [integrate the app](../../../../../integrate/vanilla-html-css-js/) with the Arcana Auth SDK by using the appropriate integration method as per the app type. After that follow the steps listed below and add code to onboard users to Web3 and enable them to sign blockchain transactions.

## Steps

*Using Firebase to onboard users in a Web3 app that is integrated with the Arcana Auth SDK requires a single line of code.*

### Call `loginWithBearer` function

Make sure that all the prerequisites listed above are met. The app should be successfully registered, configured, and integrated with both the Firebase SDK as well as the Arcana Auth SDK, before adding code to onboard users via Firebase.

App.vue

```
import { initializeApp } from 'firebase/app'
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from 'firebase/auth'
import { AuthProvider, BearerAuthentication } from '@arcana/auth'

const config = {
  apiKey: "AIzaSyBddysLWM9CcpNEVLbUz52YwyQL_uytQX0", // Obtain this after registering app at Firebase console
  authDomain: "arc4n4-docx.firebaseapp.com", // Project ID Domain setting in the Firebase console
  projectId: "some-projectid-example-arc4n4-docx",
  storageBucket: "some-storage-arc4n4-docx.appspot.com",
  messagingSenderId: "2xxxx318486297382",
  appId: "4:3184ddddddd7382:web:8b639axxxxxxxx39f85fe7",
  measurementId: "G-EGccccccLDR"
};

const firebaseApp = initializeApp(config)
const firebaseAuth = getAuth(firebaseApp)

//Create Arcana Auth Provider
// Get client ID 'xar_live_xxxxxx' from Arcana Developer Dashboard

const auth = new AuthProvider("xar_live_123940ytyoxxxxxxx343o404",{
  network: "mainnet", //change it to testnet or mainnet
}) 
export default {
  name: 'App',
  data: () => ({
    email: '',
    password: ''
  }),
  mounted () {
    AP.init().then((k) => console.log(k)).catch(e => console.error(e)) //Initialize the Auth Provider
  },
  methods: {
    async ultimate (upm) {
        if (await AP.isLoggedIn()) {
          window.alert('Already logged in')
          return
        }
        await auth.loginWithBearer(BearerAuthentication.firebase, {
        uid: upm.user.uid,
        token: upm.user.accessToken
        })
    },
    async login () { //Sign in existing Firebase users
        const data = await signInWithEmailAndPassword(firebaseAuth, this.email, this.password)
        console.log('Data:', data)
        return this.ultimate(data)
    },
    async register () {  //Sign up new users with Firebase Auth
        const data = await createUserWithEmailAndPassword(firebaseAuth, this.email, this.password)
        console.log('Data:', data)
        return this.ultimate(data)
    }  
  }
}

...

```

Refer to the [Sample Firebase Vue app integration example](https://github.com/arcana-network/auth-examples) to see how the `loginWithBearer` function is used.

After onboarding users, developers can add code to access the other Arcana Auth SDK functions in the app. See [Arcana Auth SDK Usage Guide](../../../../../auth-usage-guide/) for details.

**That is all.**

Your app is all set for authenticating users via Firebase. Authenticated users can instantly access the Arcana wallet to sign blockchain transactions.

No Aggregate Login with Firebase

The [aggregate login feature](../../../../../../concepts/aggregatelogin/) does not work for third-party IAM providers such as Firebase.

If a user has the same email ID registered with say a social login provider and with Firebase, logging into an app using Firebase will create a new unique user account even if the user uses the same email as the one used with a social login provider or via the passwordless option. What this means is that the wallet address for the same user will be different when Firebase is used to log in and subsequently a social login provider or passwordless login is used by the same user having the same email ID.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/)
- [Handing authentication errors](../../../../../auth-error-msg/)
- [Get Firebase User token](https://firebase.google.com/docs/reference/js/auth.user.md#usergetidtoken)
- [Using Firebase Auth](https://firebase.google.com/docs/auth)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# Social Login Providers: Custom Login UI

Developers can choose to **not** use the plug-and-play login UI and instead build a custom login UI to onboard users.

In this case, developers must build custom login UI themselves after configuring the social login providers in the Arcana Developer Dashboard. This custom login UI must call appropriate user onboarding functions offered by the Arcana Auth SDK for configured social login providers.

[Apple](apple-oauth/)

[Discord](discord-oauth/)

[GitHub](github-oauth/)

[Google](google-oauth/)

[Steam](steam-oauth/)

[Telegram](telegram-oauth/)

[Twitch](twitch-oauth/)

[Twitter](twitter-oauth/)

# User Login with Apple

In this guide, you will learn how a React/Next.js app integrated with the Arcana Auth SDK and Arcana Auth React SDK can onboard users with a custom login UI through Apple authentication.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- Carefully [follow the instructions to configure Apple](../../../../../../setup/config-social/apple-oauth/) as the authentication provider.
- Use the instructions and [integrate the React app](../../../../../integrate/react-nextjs/) with the Arcana Auth SDK and the Arcana Auth React SDK before adding code to onboard users.

## Steps

*Using Apple to onboard users in a React/Next.js app requires a single line of code.*

## Step 1: Use `loginWithSocial`

App.js

```
import { useAuth } from "@arcana/auth-react";

function App() {
  const { loading, isLoggedIn, loginWithSocial } = useAuth()

  // custom login UI
  const onConnectClick = async () => {
    try {
      await loginWithSocial('apple'); 
    } catch (err) {
      console.log({ err });
      // Handle error
    }
  };

  if (loading) {
    return <p>Loading...</p>;
  }
  if (!isLoggedIn) {
    return (
      <button onClick={onConnectClick}>
        Connect with Apple
      </button>
    );
  }
}

export default App

```

**That is all.**

The React/Next.js app is all set for onboarding users via Apple.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/).
- [Arcana Auth React SDK Reference Guide](https://auth-react-sdk-ref-guide.netlify.app/)
- [Handling authentication errors](../../../../../auth-error-msg/)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# User Login with Discord

In this guide, you will learn how a React/Next.js app integrated with the Arcana Auth SDK and Arcana Auth React SDK can onboard users with a custom login UI through Discord authentication.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- Carefully [follow the instructions to configure Discord](../../../../../../setup/config-social/discord-oauth/) as the authentication provider.
- Use the instructions and [integrate the React app](../../../../../integrate/react-nextjs/) with the Arcana Auth SDK and the Arcana Auth React SDK before adding code to onboard users.

## Steps

*Using Discord to onboard users in a React/Next.js app requires a single line of code.*

## Step 1: Use `loginWithSocial`

App.js

```
import { useAuth } from "@arcana/auth-react";

function App() {
  const { loading, isLoggedIn, loginWithSocial } = useAuth()

  // custom login UI
  const onConnectClick = async () => {
    try {
      await loginWithSocial('discord'); 
    } catch (err) {
      console.log({ err });
      // Handle error
    }
  };

  if (loading) {
    return <p>Loading...</p>;
  }
  if (!isLoggedIn) {
    return (
      <button onClick={onConnectClick}>
        Connect with Discord
      </button>
    );
  }
}

export default App

```

**That is all.**

The React/Next.js app is all set for onboarding users via Discord.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/).
- [Arcana Auth React SDK Reference Guide](https://auth-react-sdk-ref-guide.netlify.app/)
- [Handling authentication errors](../../../../../auth-error-msg/)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# User Login with GitHub

In this guide, you will learn how a React/Next.js app integrated with the Arcana Auth SDK and Arcana Auth React SDK can onboard users with a custom login UI through GitHub authentication.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- Carefully [follow the instructions to configure GitHub](../../../../../../setup/config-social/github-oauth/) as the authentication provider.
- Use the instructions and [integrate the React app](../../../../../integrate/react-nextjs/) with the Arcana Auth SDK and the Arcana Auth React SDK before adding code to onboard users.

## Steps

*Using GitHub to onboard users in a React/Next.js app requires a single line of code.*

## Step 1: Use `loginWithSocial`

App.js

```
import { useAuth } from "@arcana/auth-react";

function App() {
  const { loading, isLoggedIn, loginWithSocial } = useAuth()

  // custom login UI
  const onConnectClick = async () => {
    try {
      await loginWithSocial('github'); 
    } catch (err) {
      console.log({ err });
      // Handle error
    }
  };

  if (loading) {
    return <p>Loading...</p>;
  }
  if (!isLoggedIn) {
    return (
      <button onClick={onConnectClick}>
        Connect with GitHub
      </button>
    );
  }
}

export default App

```

**That is all.**

The React/Next.js app is all set for onboarding users via GitHub.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/).
- [Arcana Auth React SDK Reference Guide](https://auth-react-sdk-ref-guide.netlify.app/)
- [Handling authentication errors](../../../../../auth-error-msg/)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# User Login with Google

In this guide, you will learn how a React/Next.js app integrated with the Arcana Auth SDK and Arcana Auth React SDK can onboard users with a custom login UI through Google authentication.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- Carefully [follow the instructions to configure Google](../../../../../../setup/config-social/google-oauth/) as the authentication provider.
- Use the instructions and [integrate the React app](../../../../../integrate/react-nextjs/) with the Arcana Auth SDK and the Arcana Auth React SDK before adding code to onboard users.

## Steps

*Using Google to onboard users in a React/Next.js app requires a single line of code.*

## Step 1: Use `loginWithSocial`

App.js

```
import { useAuth } from "@arcana/auth-react";

function App() {
  const { loading, isLoggedIn, loginWithSocial } = useAuth()

  // custom login UI
  const onConnectClick = async () => {
    try {
      await loginWithSocial('google'); 
    } catch (err) {
      console.log({ err });
      // Handle error
    }
  };

  if (loading) {
    return <p>Loading...</p>;
  }
  if (!isLoggedIn) {
    return (
      <button onClick={onConnectClick}>
        Connect with Google
      </button>
    );
  }
}

export default App

```

**That is all.**

The React/Next.js app is all set for onboarding users via Google.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/).
- [Arcana Auth React SDK Reference Guide](https://auth-react-sdk-ref-guide.netlify.app/)
- [Handling authentication errors](../../../../../auth-error-msg/)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# User Login with Steam

In this guide, you will learn how a React/Next.js app integrated with the Arcana Auth SDK and Arcana Auth React SDK can onboard users with a custom login UI through Steam authentication.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- Carefully [follow the instructions to configure Steam](../../../../../../setup/config-social/steam-oauth/) as the authentication provider.
- Use the instructions and [integrate the React app](../../../../../integrate/react-nextjs/) with the Arcana Auth SDK and the Arcana Auth React SDK before adding code to onboard users.

## Steps

*Using Steam to onboard users in a React/Next.js app requires a single line of code.*

## Step 1: Use `loginWithSocial`

App.js

```
import { useAuth } from "@arcana/auth-react";

function App() {
  const { loading, isLoggedIn, loginWithSocial } = useAuth()

  // custom login UI
  const onConnectClick = async () => {
    try {
      await loginWithSocial('steam'); 
    } catch (err) {
      console.log({ err });
      // Handle error
    }
  };

  if (loading) {
    return <p>Loading...</p>;
  }
  if (!isLoggedIn) {
    return (
      <button onClick={onConnectClick}>
        Connect with Steam
      </button>
    );
  }
}

export default App

```

**That is all.**

The React/Next.js app is all set for onboarding users via Steam.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/).
- [Arcana Auth React SDK Reference Guide](https://auth-react-sdk-ref-guide.netlify.app/)
- [Handling authentication errors](../../../../../auth-error-msg/)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# User Login with Telegram

In this guide, you will learn how a React/Next.js app integrated with the Arcana Auth SDK and Arcana Auth React SDK can onboard users with a custom login UI through Telegram authentication.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- Carefully [follow the instructions to configure Telegram](../../../../../../setup/config-social/telegram-oauth/) as the authentication provider.
- Use the instructions and [integrate the React app](../../../../../integrate/react-nextjs/) with the Arcana Auth SDK and the Arcana Auth React SDK before adding code to onboard users.

## Steps

*Using Telegram to onboard users in a React/Next.js app requires a single line of code.*

## Step 1: Use `loginWithSocial`

App.js

```
import { useAuth } from "@arcana/auth-react";

function App() {
  const { loading, isLoggedIn, loginWithSocial } = useAuth()

  // custom login UI
  const onConnectClick = async () => {
    try {
      await loginWithSocial('telegram'); 
    } catch (err) {
      console.log({ err });
      // Handle error
    }
  };

  if (loading) {
    return <p>Loading...</p>;
  }
  if (!isLoggedIn) {
    return (
      <button onClick={onConnectClick}>
        Connect with Telegram
      </button>
    );
  }
}

export default App

```

**That is all.**

The React/Next.js app is all set for onboarding users via Telegram.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/).
- [Arcana Auth React SDK Reference Guide](https://auth-react-sdk-ref-guide.netlify.app/)
- [Handling authentication errors](../../../../../auth-error-msg/)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# User Login with Twitch

In this guide, you will learn how a React/Next.js app integrated with the Arcana Auth SDK and Arcana Auth React SDK can onboard users with a custom login UI through Twitch authentication.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- Carefully [follow the instructions to configure Twitch](../../../../../../setup/config-social/twitch-oauth/) as the authentication provider.
- Use the instructions and [integrate the React app](../../../../../integrate/react-nextjs/) with the Arcana Auth SDK and the Arcana Auth React SDK before adding code to onboard users.

## Steps

*Using Twitch to onboard users in a React/Next.js app requires a single line of code.*

## Step 1: Use `loginWithSocial`

App.js

```
import { useAuth } from "@arcana/auth-react";

function App() {
  const { loading, isLoggedIn, loginWithSocial } = useAuth()

  // custom login UI
  const onConnectClick = async () => {
    try {
      await loginWithSocial('twitch'); 
    } catch (err) {
      console.log({ err });
      // Handle error
    }
  };

  if (loading) {
    return <p>Loading...</p>;
  }
  if (!isLoggedIn) {
    return (
      <button onClick={onConnectClick}>
        Connect with Twitch
      </button>
    );
  }
}

export default App

```

**That is all.**

The React/Next.js app is all set for onboarding users via Twitch.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/).
- [Arcana Auth React SDK Reference Guide](https://auth-react-sdk-ref-guide.netlify.app/)
- [Handling authentication errors](../../../../../auth-error-msg/)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# User Login with Twitter

In this guide, you will learn how a React/Next.js app integrated with the Arcana Auth SDK and Arcana Auth React SDK can onboard users with a custom login UI through Twitter authentication.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- Carefully [follow the instructions to configure Twitter](../../../../../../setup/config-social/twitter-oauth/) as the authentication provider.
- Use the instructions and [integrate the React app](../../../../../integrate/react-nextjs/) with the Arcana Auth SDK and the Arcana Auth React SDK before adding code to onboard users.

## Steps

*Using Twitter to onboard users in a React/Next.js app requires a single line of code.*

## Step 1: Use `loginWithSocial`

App.js

```
import { useAuth } from "@arcana/auth-react";

function App() {
  const { loading, isLoggedIn, loginWithSocial } = useAuth()

  // custom login UI
  const onConnectClick = async () => {
    try {
      await loginWithSocial('twitter'); 
    } catch (err) {
      console.log({ err });
      // Handle error
    }
  };

  if (loading) {
    return <p>Loading...</p>;
  }
  if (!isLoggedIn) {
    return (
      <button onClick={onConnectClick}>
        Connect with Twitter
      </button>
    );
  }
}

export default App

```

**That is all.**

The React/Next.js app is all set for onboarding users via Twitter.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/).
- [Arcana Auth React SDK Reference Guide](https://auth-react-sdk-ref-guide.netlify.app/)
- [Handling authentication errors](../../../../../auth-error-msg/)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# Plug-and-Play Login UI

Use the built-in, [plug-and-play login UI modal](../../../../concepts/plug-and-play-auth/) to quickly onboard users in a 'Vanilla HTML/CSS/JS' app integrated with the Arcana Auth Wagmi SDK.

Custom Login UI

You can onboard users through a [custom login UI](../../../../concepts/custom-login-ui/) instead of the [built-in plug-and-play](../../../../concepts/plug-and-play-auth/) one. See [how to use custom login UI](../custom-ui/) and onboard users in a 'Vanilla HTML/CSS/JS' app.

## Prerequisites

- [Register](../../../../setup/config-auth/register-app/) the app that uses `wagmi` and configure the SDK usage [settings for social login](../../../../setup/) providers, [manage app chains](../../../../setup/config-wallet-chains/) and [wallet user experience](../../../../setup/config-wallet/).
- Install the [required SDK packages](../../../sdk-installation/) for 'Vanilla HTML/CSS/JS'.
- [Integrate](../../../integrate/wagmi/) 'Vanilla HTML/CSS/JS' app, create and initialize the `AuthProvider`.

## Steps

### 1. `connect`

Use the `connect()` function to bring up the plug-and-play pop-up modal in the app context and display the available options for user onboarding. Only those options are displayed that were earlier configured by the developer using the Arcana Developer Dashboard. The passwordless login option is enabled by default.

```
await auth.connect();

```

Plug-and-Play Login UI

Compact Mode

While creating the `AuthProvider`, use `connectoOptions` to optionally choose the [compact mode](../../../../concepts/plug-and-play-auth/#compact-modal) for the plug-and-play login UI.

```
connectOptions: {
      compact: true // default - false
},

```

Login UI Options

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use..

No plug-and-play support for Firebase authentication.

The [plug and play feature](../../../../concepts/plug-and-play-auth/) of the Arcana Auth SDK does not support social login via Firebase. Developers must build a custom login UI and add code to onboard users. For details, see [onboarding users via Firebase and custom login UI](../custom-ui/build-idm/firebase-login/)

No plug-and-play support for Telegram authentication.

The [plug and play feature](../../../../concepts/plug-and-play-auth/) of the Arcana Auth SDK does not support social login via Telegram. Developers must build a custom login UI and add code to onboard users. For details, see \[\[{{ no such element: dict object['telegram_custom_ui_tag'] }}|onboarding users via Telegram and custom login UI\]\].

## What's Next?

Use `AuthProvider`, the EIP-1193 provider offered by the SDK, to call supported JSON/RPC functions and [Web3 wallet operations](../../../web3-ops/evm/) in the authenticated user's context.

## See also

**'Vanilla HTML/CSS/JS'** integration example: See `sample-auth-html-css-js` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

- [FAQ](../../../../faq/faq-gen/)
- [Troubleshooting Guide](../../../../troubleshooting/)
- [Arcana Auth SDK Errors](../../../auth-error-msg/)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

[Try Demo App](https://demo.arcana.network)

# Custom Login UI

[Passwordless Auth](build-pwdless-auth/)

[Social Providers](build-social/)

[IAM Providers](build-idm/)

Refer to the [Auth Examples](https://github.com/arcana-network/auth-examples) for sample applications that use custom login UI to onboard users.

# Build Custom Passwordless Auth

In this guide, you will learn how to integrate 'Vanilla HTML/CSS/JS' app with the Arcana Auth SDK and then onboard users through custom login UI and passwordless login option.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- The app must be [registered using the Arcana Developer Dashboard](../../../../../setup/config-auth/register-app/). A unique Client ID is assigned after app registration. It is required for integrating the app with the Arcana Auth SDK
- Follow the instructions as per the app type and [integrate the app](../../../../integrate/vanilla-html-css-js/) with the Arcana Auth SDK.

Configuring App

Unlike other user onboarding options that require enabling authentication providers, passwordless login can be enabled without any configuration setup using the Arcana Developer Dashboard.

Developers can optionally choose to modify the default settings for branding and the Arcana wallet settings in the Arcana Developer Dashboard.

## Steps

*Follow these steps for enabling passwordless login in a Web3 app that is integrated with the Arcana Auth SDK.*

After integrating the app, add the code to onboard users in a passwordless manner using the SDK method listed below.

App users must supply an email ID to receive the OTP for logging into the app. An OTP is sent to the specified email ID. When the user provides the same OTP in the app context, authentication is complete and a wallet address is assigned to the user.

### Login with link

```
await auth.loginWithLink(`${email}`)

```

Deprecated

`loginWithLink` is deprecated.

Use `loginWithOTPStart`, `loginWithOTPComplete` for passwordless login with OTP. The OTP will be received via email supplied in `loginWithOTPStart` call.

### Login with OTP

```
try {
const loginState = await auth.loginWithOTPStart("john.doe@somemail.com");
await loginState.begin()
if(loginState.isCompleteRequired) {
  // App is using default app-specific keys
  // App must ask the user to input a 6-digit code received in mail
  var userInput = prompt("Please enter a 6-digit code:", "111111");

  // Validate if the input is a 6-digit code
  if (userInput !== null && 
      userInput.length === 6 && 
      !isNaN(userInput)) {
    const complete = await auth.loginWithOTPComplete(
      userInput, 
      onMFARequired() => {
      //Hide overlay, if used in the app
    });
    console.log("complete:",complete);
  } else {
    console.log("Invalid input. Please enter a valid 6-digit code.");
  } 
} else {
  // App is using global keys, built-in OTP input UI is displayed by the SDK
  // App is not required to add code for OTP input
}
} catch (e) {
console.log(e);
}

```

Global vs. App Specific Keys

Apps using app-specific keys must use a custom login UI that allows users to input the OTP. In this case, the `isCompleteRequired` boolean returns `true` after initiating login with OTP.

Apps using global keys are not required to use a custom login UI. A built-in login UI is automatically displayed for the user for OTP. Users must enter the OTP received via email in this UI.

MFA Enabled / Disabled

During passwordless login via OTP, apps configured for MFA and those using overlays must hide it to enable OTP input. Use the `isMFARequired` callback in the `loginWithOTPComplete` method to hide the overlay.

Check if the user has logged in successfully:

```
const connected = await auth.isLoggedIn()

```

Log out the dApp user when requested:

```
await auth.logout()

```

**That is all.**

Your dApp is all set for onboarding users via the passwordless login option.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../concepts/authtype/)
- [Configure Social Providers](../../../../../setup/)
- [Arcana Auth SDK Errors](../../../../auth-error-msg/)
- [Arcana Auth SDK Usage Guide](../../../../auth-usage-guide/)
- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)

# IAM Providers: Custom Login UI

Developers can choose to **not** use Arcana's plug-and-play login UI for third-party IAM providers and instead build a custom login UI to onboard users.

In this case, developers must build the custom login UI themselves after configuring the IAM providers in the Arcana Developer Dashboard . This custom login UI must call appropriate user onboarding functions offered by the Arcana Auth SDK for the third-party IAM providers.

[Cognito](cognito-oauth/)

[Firebase](firebase-login/)

# User Login with AWS Cognito

In this guide, you will learn how a Vanilla HTML/CSS/JS app integrated with the Arcana Auth SDK can onboard users via custom login UI and AWS Cognito as the authentication provider.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- Carefully [follow the instructions to configure AWS Cognito](../../../../../../setup/config-idm/cognito-oauth/) as the authentication provider.
- Use the appropriate integration method as per the app type and [integrate the app](../../../../../integrate/vanilla-html-css-js/) with the Arcana Auth SDK before accessing the user onboarding function of the Arcana Auth SDK.

## Steps

*Using AWS Cognito to onboard users in a Web3 app that is integrated with the Arcana Auth SDK requires a single line of code.*

### Call `loginWithSocial` function

Make sure that all the prerequisites listed above are met. The app should be successfully registered, configured, and integrated with the Arcana Auth SDK, before adding code to onboard users via AWS Cognito.

```
await auth.loginWithSocial('aws')

```

Check if a user is logged in:

```
const connected = await auth.isLoggedIn()

```

After onboarding users, developers can add code to access the other Arcana Auth SDK functions in the app. See [Arcana Auth SDK Usage Guide](../../../../../auth-usage-guide/) for details.

Add code in the application to log out an authenticated user:

```
await auth.logout()

```

**That is all.**

Your app is all set for authenticating users via AWS Cognito. Authenticated users can instantly access the Arcana wallet to sign blockchain transactions.

Apps using IAM Providers

Apps usually use Arcana Auth SDK for user onboarding and blockchain transaction signing. Authentication providers must be set up in the Arcana Developer Dashboard before integrating with the SDK.

Some apps might use third-party IAM providers like AWS Cognito for authentication but still use Arcana Auth SDK to access Arcana wallet. The setup is different since third-party IAM providers support authentication verifiers like Google directly.

Developers only need to set up the IAM provider in the Arcana Developer Dashboard. They don't need to configure authentication verifiers that work directly with the IAM providers. Use the IAM provider's console, like Cognito Developer Console, to set up authentication verifiers like Google, not the Arcana Developer Dashboard.

No Aggregate Login with Cognito

The [aggregate login feature](../../../../../../concepts/aggregatelogin/) does not work for the third-party IAM providers such as Cognito.

If a user has the same email ID registered with say a social login provider and with Cognito, logging into an app using Cognito will create a new unique user account even if the user uses the same email as the one used with a social login provider or via the passwordless option. What this means is that the wallet address for the same user will be different when Cognito is used to log in and subsequently a social login provider or passwordless login is used by the same user having the same email ID.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/)
- [Handing authentication errors](../../../../../auth-error-msg/)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# User Login with Firebase

In this guide, you will learn how a Vanilla HTML/CSS/JS app integrated with the Arcana Auth SDK and Firebase SDK can onboard users via custom login UI and Firebase as the authentication provider.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- Carefully [follow the instructions to configure Firebase](../../../../../../setup/config-idm/firebase-auth/) as the authentication provider.
- Install the Firebase SDK and integrate the app as explained in the Firebase documentation for [iOS apps](https://firebase.google.com/docs/ios/setup), [Android apps](https://firebase.google.com/docs/android/setup) and [web apps](https://firebase.google.com/docs/web/setup). Use [Firebase authentication](https://firebase.google.com/docs/auth) as per the Web3 app type, mobile or web app. Once a user is authenticated by Firebase, the developer must obtain the token and user identifier and provide it as input to the `loginWithBearer` function of the Arcana Auth SDK for onboarding users to Web3.
- Install the Arcana Auth SDK and [integrate the app](../../../../../integrate/vanilla-html-css-js/) with the Arcana Auth SDK by using the appropriate integration method as per the app type. After that follow the steps listed below and add code to onboard users to Web3 and enable them to sign blockchain transactions.

## Steps

*Using Firebase to onboard users in a Web3 app that is integrated with the Arcana Auth SDK requires a single line of code.*

### Call `loginWithBearer` function

Make sure that all the prerequisites listed above are met. The app should be successfully registered, configured, and integrated with both the Firebase SDK as well as the Arcana Auth SDK, before adding code to onboard users via Firebase.

App.vue

```
import { initializeApp } from 'firebase/app'
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from 'firebase/auth'
import { AuthProvider, BearerAuthentication } from '@arcana/auth'

const config = {
  apiKey: "AIzaSyBddysLWM9CcpNEVLbUz52YwyQL_uytQX0", // Obtain this after registering app at Firebase console
  authDomain: "arc4n4-docx.firebaseapp.com", // Project ID Domain setting in the Firebase console
  projectId: "some-projectid-example-arc4n4-docx",
  storageBucket: "some-storage-arc4n4-docx.appspot.com",
  messagingSenderId: "2xxxx318486297382",
  appId: "4:3184ddddddd7382:web:8b639axxxxxxxx39f85fe7",
  measurementId: "G-EGccccccLDR"
};

const firebaseApp = initializeApp(config)
const firebaseAuth = getAuth(firebaseApp)

//Create Arcana Auth Provider
// Get client ID 'xar_live_xxxxxx' from Arcana Developer Dashboard

const auth = new AuthProvider("xar_live_123940ytyoxxxxxxx343o404",{
  network: "mainnet", //change it to testnet or mainnet
}) 
export default {
  name: 'App',
  data: () => ({
    email: '',
    password: ''
  }),
  mounted () {
    AP.init().then((k) => console.log(k)).catch(e => console.error(e)) //Initialize the Auth Provider
  },
  methods: {
    async ultimate (upm) {
        if (await AP.isLoggedIn()) {
          window.alert('Already logged in')
          return
        }
        await auth.loginWithBearer(BearerAuthentication.firebase, {
        uid: upm.user.uid,
        token: upm.user.accessToken
        })
    },
    async login () { //Sign in existing Firebase users
        const data = await signInWithEmailAndPassword(firebaseAuth, this.email, this.password)
        console.log('Data:', data)
        return this.ultimate(data)
    },
    async register () {  //Sign up new users with Firebase Auth
        const data = await createUserWithEmailAndPassword(firebaseAuth, this.email, this.password)
        console.log('Data:', data)
        return this.ultimate(data)
    }  
  }
}

...

```

Refer to the [Sample Firebase Vue app integration example](https://github.com/arcana-network/auth-examples) to see how the `loginWithBearer` function is used.

After onboarding users, developers can add code to access the other Arcana Auth SDK functions in the app. See [Arcana Auth SDK Usage Guide](../../../../../auth-usage-guide/) for details.

**That is all.**

Your app is all set for authenticating users via Firebase. Authenticated users can instantly access the Arcana wallet to sign blockchain transactions.

No Aggregate Login with Firebase

The [aggregate login feature](../../../../../../concepts/aggregatelogin/) does not work for third-party IAM providers such as Firebase.

If a user has the same email ID registered with say a social login provider and with Firebase, logging into an app using Firebase will create a new unique user account even if the user uses the same email as the one used with a social login provider or via the passwordless option. What this means is that the wallet address for the same user will be different when Firebase is used to log in and subsequently a social login provider or passwordless login is used by the same user having the same email ID.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/)
- [Handing authentication errors](../../../../../auth-error-msg/)
- [Get Firebase User token](https://firebase.google.com/docs/reference/js/auth.user.md#usergetidtoken)
- [Using Firebase Auth](https://firebase.google.com/docs/auth)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# Social Login Providers: Custom Login UI

Developers can choose to **not** use the plug-and-play login UI and instead build a custom login UI to onboard users.

In this case, developers must build custom login UI themselves after configuring the social login providers in the Arcana Developer Dashboard. This custom login UI must call appropriate user onboarding functions offered by the Arcana Auth SDK for every configured social login provider.

[Apple](apple-oauth/)

[Discord](discord-oauth/)

[GitHub](github-oauth/)

[Google](google-oauth/)

[Steam](steam-oauth/)

[Telegram](telegram-oauth/)

[Twitch](twitch-oauth/)

[Twitter](twitter-oauth/)

# User Login with Apple

In this guide, you will learn how a 'Vanilla HTML/CSS/JS' app integrated with the Arcana Auth SDK can onboard users via custom login UI and Apple as the authentication provider.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- [Follow the instructions to configure Apple](../../../../../../setup/config-social/apple-oauth/) as the authentication provider.
- Use the appropriate integration method as per the app type and [integrate the app](../../../../../integrate/vanilla-html-css-js/) with the Arcana Auth SDK before accessing the user onboarding function of the Arcana Auth SDK.

## Steps

*Using Apple to onboard users in a Web3 app that is integrated with the Arcana Auth SDK requires a single line of code.*

## Step 1: Call `loginWithSocial` function

Make sure that all the prerequisites listed above are met. The app should be successfully registered, configured, and integrated with the Arcana Auth SDK, before adding code to onboard users via Apple.

```
await auth.loginWithSocial('apple')

```

Check if a user is logged in:

```
const connected = await auth.isLoggedIn()

```

Add code in the app to log out an authenticated user:

```
await auth.logout()

```

**That is all**

The Web3 app is all set for onboarding users via Apple.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/)
- [Handling authentication errors](../../../../../auth-error-msg/)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# User Login with Discord

In this guide, you will learn how a Vanilla HTML/CSS/JS app integrated with the Arcana Auth SDK can onboard users via custom login UI and Discord as the authentication provider.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- Carefully [follow the instructions to configure Discord](../../../../../../setup/config-social/discord-oauth/) as the authentication provider.
- Use the appropriate integration method as per the app type and [integrate the app](../../../../../integrate/vanilla-html-css-js/) with the Arcana Auth SDK before accessing the user onboarding function of the Arcana Auth SDK.

## Steps

*Using Discord to onboard users in a Web3 app that is integrated with the Arcana Auth SDK requires a single line of code.*

## Step 1: Call `loginWithSocial` function

Make sure that all the prerequisites listed above are met. The app should be successfully registered, configured, and integrated with the Arcana Auth SDK, before adding code to onboard users via Discord.

```
await auth.loginWithSocial('discord')

```

Check if a user is logged in:

```
const connected = await auth.isLoggedIn()

```

Add code in the app to log out an authenticated user:

```
await auth.logout()

```

**That is all.**

The Web3 app is all set for onboarding users via Discord.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/)
- [Handling authentication errors](../../../../../auth-error-msg/)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# User Login with GitHub

In this guide, you will learn how a Vanilla HTML/CSS/JS app integrated with the Arcana Auth SDK can onboard users via custom login UI and GitHub as the authentication provider.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- Carefully [follow the instructions to configure GitHub](../../../../../../setup/config-social/github-oauth/) as the authentication provider.
- Use the appropriate integration method as per the app type and [integrate the app](../../../../../integrate/vanilla-html-css-js/) with the Arcana Auth SDK before accessing the user onboarding function of the Arcana Auth SDK.

## Steps

*Using GitHub to onboard users in a Web3 app that is integrated with the Arcana Auth SDK requires a single line of code.*

## Step 1: Call `loginWithSocial` function

Make sure that all the prerequisites listed above are met. The app should be successfully registered, configured, and integrated with the Arcana Auth SDK, before adding code to onboard users via GitHub.

```
await auth.loginWithSocial('github')

```

Check if a user is logged in:

```
const connected = await auth.isLoggedIn()

```

Add code in the app to log out an authenticated user:

```
await auth.logout()

```

**That is all.**

The Web3 app is all set for onboarding users via GitHub.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/)
- [Handling authentication errors](../../../../../auth-error-msg/)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# User Login with Google

In this guide, you will learn how a 'Vanilla HTML/CSS/JS' app integrated with the Arcana Auth SDK can onboard users via custom login UI and Google as the authentication provider.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- Carefully [follow the instructions to configure Google](../../../../../../setup/config-social/google-oauth/) as the authentication provider.
- Use the appropriate integration method as per the app type and [integrate the app](../../../../../integrate/vanilla-html-css-js/) with the Arcana Auth SDK before accessing the user onboarding function of the Arcana Auth SDK.

## Steps

*Using Google to onboard users in a Web3 app that is integrated with the Arcana Auth SDK requires a single line of code.*

## Step 1: Call `loginWithSocial` function

Make sure that all the prerequisites listed above are met. The app should be successfully registered, configured, and integrated with the Arcana Auth SDK, before adding code to onboard users via Google.

```
await auth.loginWithSocial('google')

```

Check if a user is logged in:

```
const connected = await auth.isLoggedIn()

```

Add code in the app to log out an authenticated user:

```
await auth.logout()

```

**That is all.**

The Web3 app is all set for onboarding users via Google.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/)
- [Handling authentication errors](../../../../../auth-error-msg/)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# User Login with Steam OAuth

In this guide, you will learn how a 'Vanilla HTML/CSS/JS' app integrated with the Arcana Auth SDK can onboard users via custom login UI and Steam as the authentication provider.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- Carefully [follow the instructions to obtain Steam API key and set it up in the dashboard](../../../../../../setup/config-social/steam-oauth/) for user authentication.
- Use the appropriate integration method as per the app type and [integrate the app](../../../../../integrate/vanilla-html-css-js/) with the Arcana Auth SDK before accessing the user onboarding function of the Arcana Auth SDK.

## Steps

*Using Steam to onboard users in a Web3 app that is integrated with the Arcana Auth SDK requires a single line of code.*

## Step 1: Call `loginWithSocial` function

Make sure that all the prerequisites listed above are met. The app should be successfully registered, configured, and integrated with the Arcana Auth SDK, before adding code to onboard users via Steam OAuth.

```
await auth.loginWithSocial('steam')

```

Check if a user is logged in:

```
const connected = await auth.isLoggedIn()

```

After onboarding users, developers can add code to access the other Arcana Auth SDK functions in the app. See [Arcana Auth SDK Usage Guide](../../../../../auth-usage-guide/) for details.

Add code in the application to log out an authenticated user:

```
await auth.logout()

```

**That is all.**

Your app is all set for authenticating users via Steam OAuth. Authenticated users can instantly access the Arcana wallet to sign blockchain transactions.

No Aggregate Login with Steam OAuth

The [aggregate login feature](../../../../../../concepts/aggregatelogin/) does not work for the Steam OAuth login mechanism.

When a user has the same email registered with a social login provider and Steam OAuth, logging in with Steam makes a new unique account. Even if the user later logs in with the same email through a social login provider or passwordless, it creates a different wallet address for the same user.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/)
- [Handing authentication errors](../../../../../auth-error-msg/)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# User Login with Telegram

In this guide, you will learn how a 'Vanilla HTML/CSS/JS' app integrated with the Arcana Auth SDK can onboard users via custom login UI and Telegram as the social authentication provider.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- [Follow the instructions to configure Telegram](../../../../../../setup/config-social/telegram-oauth/) as the authentication provider.
- Use the appropriate integration method as per the app type and [integrate the app](../../../../../integrate/vanilla-html-css-js/) with the Arcana Auth SDK before accessing the user onboarding function of the Arcana Auth SDK.

## Steps

*Using Telegram to onboard users in a Web3 app that is integrated with the Arcana Auth SDK requires a single line of code.*

## Step 1: Call `loginWithBearer` function

Make sure that all the prerequisites listed above are met. The app should be successfully registered, configured, and integrated with the Arcana Auth SDK, before adding code to onboard users via Telegram.

```
window.onload = () => {
    const btn = document.getElementById("telegram-login");
    btn.onclick = () => {
        const url = new URL("/auth", "https://oauth.telegram.org");
        url.searchParams.append("bot_id", "7097916610");
        url.searchParams.append("scope", "profile");
        url.searchParams.append("origin", "https://zcnk5z-5000.csb.app");
        url.searchParams.append("return_to", "https://zcnk5z-5000.csb.app/redirect");
        setTimeout(() => (window.location.href = url.toString()), 50);
    };
};

```

```
const { AuthProvider } = window.arcana.auth;

window.onload = async () => {
    const auth = new AuthProvider( //Use ClientID to create AuthProvider
        "xar_dev_92ecc87db08e4c13b1fcd9b37ca9bf54fa874355"
    );
    await auth.init();  //Initialize the Auth Provider
    const u = new URL(window.location.href);
    if (u.hash) {
        const p = new URLSearchParams(u.hash.substring(1));
        const t = p.get("tgAuthResult");
        if (t) {
            cleanURL();
            //Initiate social login, must set app domain in Telegram bot for successful login
            await auth.loginWithBearer("telegram", { token: t }); 
        }
    }
};

function cleanURL() {
    const cleanUrl = window.location.origin + window.location.pathname;
    window.history.replaceState(null, "", cleanUrl);
}

```

Check if a user is logged in:

```
const connected = await auth.isLoggedIn()

```

Add code in the app to log out an authenticated user:

```
await auth.logout()

```

**That is all.**

The Web3 app is all set for onboarding users via Telegram.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/)
- [Handling authentication errors](../../../../../auth-error-msg/)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# User Login with Twitch

In this guide, you will learn how a 'Vanilla HTML/CSS/JS' app integrated with the Arcana Auth SDK can onboard users via custom login UI and Twitch as the authentication provider.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- Carefully [follow the instructions to configure Twitch](../../../../../../setup/config-social/twitch-oauth/) as the authentication provider.
- Use the appropriate integration method as per the app type and [integrate the app](../../../../../integrate/vanilla-html-css-js/) with the Arcana Auth SDK before accessing the user onboarding function of the Arcana Auth SDK.

## Steps

*Using Twitch to onboard users in a Web3 app that is integrated with the Arcana Auth SDK requires a single line of code.*

## Step 1: Call `loginWithSocial` function

Make sure that all the prerequisites listed above are met. The app should be successfully registered, configured, and integrated with the Arcana Auth SDK, before adding code to onboard users via Twitch.

```
await auth.loginWithSocial('twitch')

```

Check if a user is logged in:

```
const connected = await auth.isLoggedIn()

```

Add code in the app to log out an authenticated user:

```
await auth.logout()

```

**That is all.**

The Web3 app is all set for onboarding users via Twitch.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/)
- [Handling authentication errors](../../../../../auth-error-msg/)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# User Login with Twitter

In this guide, you will learn how a 'Vanilla HTML/CSS/JS' app integrated with the Arcana Auth SDK can onboard users via custom login UI and Twitter as the authentication provider.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- Carefully [follow the instructions to configure Twitter](../../../../../../setup/config-social/twitter-oauth/) as the authentication provider.
- Use the appropriate integration method as per the app type and [integrate the app](../../../../../integrate/vanilla-html-css-js/) with the Arcana Auth SDK before accessing the user onboarding function of the Arcana Auth SDK.

## Steps

*Using Twitter to onboard users in a Web3 app that is integrated with the Arcana Auth SDK requires a single line of code.*

## Step 1: Call `loginWithSocial` function

Make sure that all the prerequisites listed above are met. The app should be successfully registered, configured, and integrated with the Arcana Auth SDK, before adding code to onboard users via Twitter.

```
await auth.loginWithSocial('twitter')

```

Check if a user is logged in:

```
const connected = await auth.isLoggedIn()

```

Add code in the application to log out an authenticated user:

```
await auth.logout()

```

**That is all.**

The Web3 app is all set for onboarding users via Twitter.

No Aggregate Login with Twitter OAuth

The [aggregate login feature](../../../../../../concepts/aggregatelogin/) does not work for the Steam OAuth login mechanism.

When a user has the same email registered with a social login provider and Steam OAuth, logging in with Steam makes a new unique account. Even if the user later logs in with the same email through a social login provider or passwordless, it creates a different wallet address for the same user.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/)
- [Handling authentication errors](../../../../../auth-error-msg/)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# Plug-and-Play Login UI

Use the built-in, [plug-and-play login UI modal](../../../../concepts/plug-and-play-auth/) to quickly onboard users in a 'Vue' app integrated with the Arcana Auth Wagmi SDK.

Custom Login UI

You can onboard users through a [custom login UI](../../../../concepts/custom-login-ui/) instead of the [built-in plug-and-play](../../../../concepts/plug-and-play-auth/) one. See [how to use custom login UI](../custom-ui/) and onboard users in a 'Vue' app.

## Prerequisites

- [Register](../../../../setup/config-auth/register-app/) the app that uses `wagmi` and configure the SDK usage [settings for social login](../../../../setup/) providers, [manage app chains](../../../../setup/config-wallet-chains/) and [wallet user experience](../../../../setup/config-wallet/).
- Install the [required SDK packages](../../../sdk-installation/) for 'Vue'.
- [Integrate](../../../integrate/wagmi/) 'Vue' app, create and initialize the `AuthProvider`.

## Steps

### 1. `connect`

Use the `connect()` function to bring up the plug-and-play pop-up modal in the app context and display the available options for user onboarding. Only those options are displayed that were earlier configured by the developer using the Arcana Developer Dashboard. The passwordless login option is enabled by default.

```
await auth.connect();

```

Plug-and-Play Login UI

Compact Mode

While creating the `AuthProvider`, use `connectoOptions` to optionally choose the [compact mode](../../../../concepts/plug-and-play-auth/#compact-modal) for the plug-and-play login UI.

```
connectOptions: {
      compact: true // default - false
},

```

Login UI Options

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use..

No plug-and-play support for Firebase authentication.

The [plug and play feature](../../../../concepts/plug-and-play-auth/) of the Arcana Auth SDK does not support social login via Firebase. Developers must build a custom login UI and add code to onboard users. For details, see [onboarding users via Firebase and custom login UI](../../vanilla/custom-ui/build-idm/firebase-login/)

No plug-and-play support for Telegram authentication.

The [plug and play feature](../../../../concepts/plug-and-play-auth/) of the Arcana Auth SDK does not support social login via Telegram. Developers must build a custom login UI and add code to onboard users. For details, see \[\[{{ no such element: dict object['telegram_custom_ui_tag'] }}|onboarding users via Telegram and custom login UI\]\].

## What's Next?

Use `AuthProvider`, the EIP-1193 provider offered by the SDK, to call supported JSON/RPC functions and [Web3 wallet operations](../../../web3-ops/evm/) in the authenticated user's context.

## See also

**'Vue'** integration example: See `sample-auth-vue` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

- [FAQ](../../../../faq/faq-gen/)
- [Troubleshooting Guide](../../../../troubleshooting/)
- [Arcana Auth SDK Errors](../../../auth-error-msg/)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

[Try Demo App](https://demo.arcana.network)

# Custom Login UI

[Passwordless Auth](build-pwdless-auth/)

[Social Login Provider](build-social/)

[IAM Provider](build-idm/)

# Build Custom Passwordless Auth

In this guide, you will learn how to integrate Vue app with the Arcana Auth SDK and then onboard users through custom login UI and passwordless login option.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- The app must be [registered using the Arcana Developer Dashboard](../../../../../setup/config-auth/register-app/). A unique Client ID is assigned after app registration. It is required for integrating the app with the Arcana Auth SDK
- Follow the instructions as per the app type and [integrate the app](../../../../integrate/vanilla-html-css-js/) with the Arcana Auth SDK.

Configuring App

Unlike other user onboarding options that require enabling authentication providers, passwordless login can be enabled without any configuration setup using the Arcana Developer Dashboard.

Developers can optionally choose to modify the default settings for branding and the Arcana wallet settings in the Arcana Developer Dashboard.

## Steps

*Follow these steps for enabling passwordless login in a Web3 app that is integrated with the Arcana Auth SDK.*

After integrating the app, add the code to onboard users in a passwordless manner using the SDK method listed below.

App users must supply an email ID to receive the OTP for logging into the app. An OTP is sent to the specified email ID. When the user provides the same OTP in the app context, authentication is complete and a wallet address is assigned to the user.

### Login with link

```
await auth.loginWithLink(`${email}`)

```

Deprecated

`loginWithLink` is deprecated.

Use `loginWithOTPStart`, `loginWithOTPComplete` for passwordless login with OTP. The OTP will be received via email supplied in `loginWithOTPStart` call.

### Login with OTP

```
try {
const loginState = await auth.loginWithOTPStart("john.doe@somemail.com");
await loginState.begin()
if(loginState.isCompleteRequired) {
  // App is using default app-specific keys
  // App must ask the user to input a 6-digit code received in mail
  var userInput = prompt("Please enter a 6-digit code:", "111111");

  // Validate if the input is a 6-digit code
  if (userInput !== null && 
      userInput.length === 6 && 
      !isNaN(userInput)) {
    const complete = await auth.loginWithOTPComplete(
      userInput, 
      onMFARequired() => {
      //Hide overlay, if used in the app
    });
    console.log("complete:",complete);
  } else {
    console.log("Invalid input. Please enter a valid 6-digit code.");
  } 
} else {
  // App is using global keys, built-in OTP input UI is displayed by the SDK
  // App is not required to add code for OTP input
}
} catch (e) {
console.log(e);
}

```

Global vs. App Specific Keys

Apps using app-specific keys must use a custom login UI that allows users to input the OTP. In this case, the `isCompleteRequired` boolean returns `true` after initiating login with OTP.

Apps using global keys are not required to use a custom login UI. A built-in login UI is automatically displayed for the user for OTP. Users must enter the OTP received via email in this UI.

MFA Enabled / Disabled

During passwordless login via OTP, apps configured for MFA and those using overlays must hide it to enable OTP input. Use the `isMFARequired` callback in the `loginWithOTPComplete` method to hide the overlay.

Check if the user has logged in successfully:

```
const connected = await auth.isLoggedIn()

```

Log out the dApp user when requested:

```
await auth.logout()

```

**That is all.**

Your dApp is all set for onboarding users via the passwordless login option.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../concepts/authtype/)
- [Configure Social Providers](../../../../../setup/)
- [Arcana Auth SDK Errors](../../../../auth-error-msg/)
- [Arcana Auth SDK Usage Guide](../../../../auth-usage-guide/)
- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)

# IAM Providers: Custom Login UI

Developers can choose to **not** use Arcana's plug-and-play login UI for third-party IAM providers and instead build a custom login UI to onboard users.

In this case, developers must build the custom login UI themselves after configuring the IAM providers in the Arcana Developer Dashboard. This custom login UI must call appropriate user onboarding functions offered by the Arcana Auth SDK for the third-party IAM providers.

[Cognito](cognito-oauth/)

[Firebase](firebase-login/)

# User Login with AWS Cognito

In this guide, you will learn how a Vue app integrated with the Arcana Auth SDK can onboard users via custom login UI and AWS Cognito as the authentication provider.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- Carefully [follow the instructions to configure AWS Cognito](../../../../../../setup/config-idm/cognito-oauth/) as the authentication provider.
- Use the appropriate integration method as per the app type and [integrate the app](../../../../../integrate/vanilla-html-css-js/) with the Arcana Auth SDK before accessing the user onboarding function of the Arcana Auth SDK.

## Steps

*Using AWS Cognito to onboard users in a Web3 app that is integrated with the Arcana Auth SDK requires a single line of code.*

### Call `loginWithSocial` function

Make sure that all the prerequisites listed above are met. The app should be successfully registered, configured, and integrated with the Arcana Auth SDK, before adding code to onboard users via AWS Cognito.

```
await auth.loginWithSocial('aws')

```

Check if a user is logged in:

```
const connected = await auth.isLoggedIn()

```

After onboarding users, developers can add code to access the other Arcana Auth SDK functions in the app. See [Arcana Auth SDK Usage Guide](../../../../../auth-usage-guide/) for details.

Add code in the application to log out an authenticated user:

```
await auth.logout()

```

**That is all.**

Your app is all set for authenticating users via AWS Cognito. Authenticated users can instantly access the Arcana wallet to sign blockchain transactions.

Apps using IAM Providers

Apps usually use Arcana Auth SDK for user onboarding and blockchain transaction signing. Authentication providers must be set up in the Arcana Developer Dashboard before integrating with the SDK.

Some apps might use third-party IAM providers like AWS Cognito for authentication but still use Arcana Auth SDK to access Arcana wallet. The setup is different since third-party IAM providers support authentication verifiers like Google directly.

Developers only need to set up the IAM provider in the Arcana Developer Dashboard. They don't need to configure authentication verifiers that work directly with the IAM providers. Use the IAM provider's console, like Cognito Developer Console, to set up authentication verifiers like Google, not the Arcana Developer Dashboard.

No Aggregate Login with Cognito

The [aggregate login feature](../../../../../../concepts/aggregatelogin/) does not work for the third-party IAM providers such as Cognito.

If a user has the same email ID registered with say a social login provider and with Cognito, logging into an app using Cognito will create a new unique user account even if the user uses the same email as the one used with a social login provider or via the passwordless option. What this means is that the wallet address for the same user will be different when Cognito is used to log in and subsequently a social login provider or passwordless login is used by the same user having the same email ID.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/)
- [Handing authentication errors](../../../../../auth-error-msg/)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# User Login with Firebase

In this guide, you will learn how a Vue app integrated with the Arcana Auth SDK and Firebase SDK can onboard users via custom login UI and Firebase as the authentication provider.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- Carefully [follow the instructions to configure Firebase](../../../../../../setup/config-idm/firebase-auth/) as the authentication provider.
- Install the Firebase SDK and integrate the app as explained in the Firebase documentation for [iOS apps](https://firebase.google.com/docs/ios/setup), [Android apps](https://firebase.google.com/docs/android/setup) and [web apps](https://firebase.google.com/docs/web/setup). Use [Firebase authentication](https://firebase.google.com/docs/auth) as per the Web3 app type, mobile or web app. Once a user is authenticated by Firebase, the developer must obtain the token and user identifier and provide it as input to the `loginWithBearer` function of the Arcana Auth SDK for onboarding users to Web3.
- Install the Arcana Auth SDK and [integrate the app](../../../../../integrate/vanilla-html-css-js/) with the Arcana Auth SDK by using the appropriate integration method as per the app type. After that follow the steps listed below and add code to onboard users to Web3 and enable them to sign blockchain transactions.

## Steps

*Using Firebase to onboard users in a Web3 app that is integrated with the Arcana Auth SDK requires a single line of code.*

### Call `loginWithBearer` function

Make sure that all the prerequisites listed above are met. The app should be successfully registered, configured, and integrated with both the Firebase SDK as well as the Arcana Auth SDK, before adding code to onboard users via Firebase.

App.vue

```
import { initializeApp } from 'firebase/app'
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from 'firebase/auth'
import { AuthProvider, BearerAuthentication } from '@arcana/auth'

const config = {
  apiKey: "AIzaSyBddysLWM9CcpNEVLbUz52YwyQL_uytQX0", // Obtain this after registering app at Firebase console
  authDomain: "arc4n4-docx.firebaseapp.com", // Project ID Domain setting in the Firebase console
  projectId: "some-projectid-example-arc4n4-docx",
  storageBucket: "some-storage-arc4n4-docx.appspot.com",
  messagingSenderId: "2xxxx318486297382",
  appId: "4:3184ddddddd7382:web:8b639axxxxxxxx39f85fe7",
  measurementId: "G-EGccccccLDR"
};

const firebaseApp = initializeApp(config)
const firebaseAuth = getAuth(firebaseApp)

//Create Arcana Auth Provider
// Get client ID 'xar_live_xxxxxx' from Arcana Developer Dashboard

const auth = new AuthProvider("xar_live_123940ytyoxxxxxxx343o404",{
  network: "mainnet", //change it to testnet or mainnet
}) 
export default {
  name: 'App',
  data: () => ({
    email: '',
    password: ''
  }),
  mounted () {
    AP.init().then((k) => console.log(k)).catch(e => console.error(e)) //Initialize the Auth Provider
  },
  methods: {
    async ultimate (upm) {
        if (await AP.isLoggedIn()) {
          window.alert('Already logged in')
          return
        }
        await auth.loginWithBearer(BearerAuthentication.firebase, {
        uid: upm.user.uid,
        token: upm.user.accessToken
        })
    },
    async login () { //Sign in existing Firebase users
        const data = await signInWithEmailAndPassword(firebaseAuth, this.email, this.password)
        console.log('Data:', data)
        return this.ultimate(data)
    },
    async register () {  //Sign up new users with Firebase Auth
        const data = await createUserWithEmailAndPassword(firebaseAuth, this.email, this.password)
        console.log('Data:', data)
        return this.ultimate(data)
    }  
  }
}

...

```

Refer to the [Sample Firebase Vue app integration example](https://github.com/arcana-network/auth-examples) to see how the `loginWithBearer` function is used.

After onboarding users, developers can add code to access the other Arcana Auth SDK functions in the app. See [Arcana Auth SDK Usage Guide](../../../../../auth-usage-guide/) for details.

**That is all.**

Your app is all set for authenticating users via Firebase. Authenticated users can instantly access the Arcana wallet to sign blockchain transactions.

No Aggregate Login with Firebase

The [aggregate login feature](../../../../../../concepts/aggregatelogin/) does not work for third-party IAM providers such as Firebase.

If a user has the same email ID registered with say a social login provider and with Firebase, logging into an app using Firebase will create a new unique user account even if the user uses the same email as the one used with a social login provider or via the passwordless option. What this means is that the wallet address for the same user will be different when Firebase is used to log in and subsequently a social login provider or passwordless login is used by the same user having the same email ID.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/)
- [Handing authentication errors](../../../../../auth-error-msg/)
- [Get Firebase User token](https://firebase.google.com/docs/reference/js/auth.user.md#usergetidtoken)
- [Using Firebase Auth](https://firebase.google.com/docs/auth)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# Social Login Providers: Custom Login UI

Developers can choose to **not** use the plug-and-play login UI and instead build a custom login UI to onboard users.

In this case, developers must build custom login UI themselves after configuring the social login providers in the Arcana Developer Dashboard. This custom login UI must call appropriate user onboarding functions offered by the Arcana Auth SDK for every configured social login provider.

[Apple](apple-oauth/)

[Discord](discord-oauth/)

[GitHub](github-oauth/)

[Google](google-oauth/)

[Steam](steam-oauth/)

[Telegram](telegram-oauth/)

[Twitch](twitch-oauth/)

[Twitter](twitter-oauth/)

# User Login with Apple

In this guide, you will learn how a Vue app integrated with the Arcana Auth SDK can onboard users via custom login UI and Apple as the authentication provider.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- [Follow the instructions to configure Apple](../../../../../../setup/config-social/apple-oauth/) as the authentication provider.
- Use the appropriate integration method as per the app type and [integrate the app](../../../../../integrate/vanilla-html-css-js/) with the Arcana Auth SDK before accessing the user onboarding function of the Arcana Auth SDK.

## Steps

*Using Apple to onboard users in a Web3 app that is integrated with the Arcana Auth SDK requires a single line of code.*

## Step 1: Call `loginWithSocial` function

Make sure that all the prerequisites listed above are met. The app should be successfully registered, configured, and integrated with the Arcana Auth SDK, before adding code to onboard users via Apple.

```
await auth.loginWithSocial('apple')

```

Check if a user is logged in:

```
const connected = await auth.isLoggedIn()

```

Add code in the app to log out an authenticated user:

```
await auth.logout()

```

**That is all**

The Web3 app is all set for onboarding users via Apple.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/)
- [Handling authentication errors](../../../../../auth-error-msg/)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# User Login with Discord

In this guide, you will learn how a Vue app integrated with the Arcana Auth SDK can onboard users via custom login UI and Discord as the authentication provider.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- Carefully [follow the instructions to configure Discord](../../../../../../setup/config-social/discord-oauth/) as the authentication provider.
- Use the appropriate integration method as per the app type and [integrate the app](../../../../../integrate/vanilla-html-css-js/) with the Arcana Auth SDK before accessing the user onboarding function of the Arcana Auth SDK.

## Steps

*Using Discord to onboard users in a Web3 app that is integrated with the Arcana Auth SDK requires a single line of code.*

## Step 1: Call `loginWithSocial` function

Make sure that all the prerequisites listed above are met. The app should be successfully registered, configured, and integrated with the Arcana Auth SDK, before adding code to onboard users via Discord.

```
await auth.loginWithSocial('discord')

```

Check if a user is logged in:

```
const connected = await auth.isLoggedIn()

```

Add code in the app to log out an authenticated user:

```
await auth.logout()

```

**That is all.**

The Web3 app is all set for onboarding users via Discord.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/)
- [Handling authentication errors](../../../../../auth-error-msg/)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# User Login with GitHub

In this guide, you will learn how a Vue app integrated with the Arcana Auth SDK can onboard users via custom login UI and GitHub as the authentication provider.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- Carefully [follow the instructions to configure GitHub](../../../../../../setup/config-social/github-oauth/) as the authentication provider.
- Use the appropriate integration method as per the app type and [integrate the app](../../../../../integrate/vanilla-html-css-js/) with the Arcana Auth SDK before accessing the user onboarding function of the Arcana Auth SDK.

## Steps

*Using GitHub to onboard users in a Web3 app that is integrated with the Arcana Auth SDK requires a single line of code.*

## Step 1: Call `loginWithSocial` function

Make sure that all the prerequisites listed above are met. The app should be successfully registered, configured, and integrated with the Arcana Auth SDK, before adding code to onboard users via GitHub.

```
await auth.loginWithSocial('github')

```

Check if a user is logged in:

```
const connected = await auth.isLoggedIn()

```

Add code in the app to log out an authenticated user:

```
await auth.logout()

```

**That is all.**

The Web3 app is all set for onboarding users via GitHub.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/)
- [Handling authentication errors](../../../../../auth-error-msg/)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# User Login with Google

In this guide, you will learn how a Vue app integrated with the Arcana Auth SDK can onboard users via custom login UI and Google as the authentication provider.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- Carefully [follow the instructions to configure Google](../../../../../../setup/config-social/google-oauth/) as the authentication provider.
- Use the appropriate integration method as per the app type and [integrate the app](../../../../../integrate/vanilla-html-css-js/) with the Arcana Auth SDK before accessing the user onboarding function of the Arcana Auth SDK.

## Steps

*Using Google to onboard users in a Web3 app that is integrated with the Arcana Auth SDK requires a single line of code.*

## Step 1: Call `loginWithSocial` function

Make sure that all the prerequisites listed above are met. The app should be successfully registered, configured, and integrated with the Arcana Auth SDK, before adding code to onboard users via Google.

```
await auth.loginWithSocial('google')

```

Check if a user is logged in:

```
const connected = await auth.isLoggedIn()

```

Add code in the app to log out an authenticated user:

```
await auth.logout()

```

**That is all.**

The Web3 app is all set for onboarding users via Google.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/)
- [Handling authentication errors](../../../../../auth-error-msg/)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# User Login with Steam OAuth

In this guide, you will learn how a Vue app integrated with the Arcana Auth SDK can onboard users via custom login UI and Steam as the authentication provider.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- Carefully [follow the instructions to obtain Steam API key and set it up in the dashboard](../../../../../../setup/config-social/steam-oauth/) for user authentication.
- Use the appropriate integration method as per the app type and [integrate the app](../../../../../integrate/vanilla-html-css-js/) with the Arcana Auth SDK before accessing the user onboarding function of the Arcana Auth SDK.

## Steps

*Using Steam to onboard users in a Web3 app that is integrated with the Arcana Auth SDK requires a single line of code.*

## Step 1: Call `loginWithSocial` function

Make sure that all the prerequisites listed above are met. The app should be successfully registered, configured, and integrated with the Arcana Auth SDK, before adding code to onboard users via Steam OAuth.

```
await auth.loginWithSocial('steam')

```

Check if a user is logged in:

```
const connected = await auth.isLoggedIn()

```

After onboarding users, developers can add code to access the other Arcana Auth SDK functions in the app. See [Arcana Auth SDK Usage Guide](../../../../../auth-usage-guide/) for details.

Add code in the application to log out an authenticated user:

```
await auth.logout()

```

**That is all.**

Your app is all set for authenticating users via Steam OAuth. Authenticated users can instantly access the Arcana wallet to sign blockchain transactions.

No Aggregate Login with Steam OAuth

The [aggregate login feature](../../../../../../concepts/aggregatelogin/) does not work for the Steam OAuth login mechanism.

When a user has the same email registered with a social login provider and Steam OAuth, logging in with Steam makes a new unique account. Even if the user later logs in with the same email through a social login provider or passwordless, it creates a different wallet address for the same user.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/)
- [Handing authentication errors](../../../../../auth-error-msg/)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# User Login with Telegram

In this guide, you will learn how a Vue app integrated with the Arcana Auth SDK can onboard users via custom login UI and Telegram as the social authentication provider.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- [Follow the instructions to configure Telegram](../../../../../../setup/config-social/telegram-oauth/) as the authentication provider.
- Use the appropriate integration method as per the app type and [integrate the app](../../../../../integrate/vanilla-html-css-js/) with the Arcana Auth SDK before accessing the user onboarding function of the Arcana Auth SDK.

## Steps

*Using Telegram to onboard users in a Web3 app that is integrated with the Arcana Auth SDK requires a single line of code.*

## Step 1: Call `loginWithBearer` function

Make sure that all the prerequisites listed above are met. The app should be successfully registered, configured, and integrated with the Arcana Auth SDK, before adding code to onboard users via Telegram.

```
window.onload = () => {
    const btn = document.getElementById("telegram-login");
    btn.onclick = () => {
        const url = new URL("/auth", "https://oauth.telegram.org");
        url.searchParams.append("bot_id", "7097916610");
        url.searchParams.append("scope", "profile");
        url.searchParams.append("origin", "https://zcnk5z-5000.csb.app");
        url.searchParams.append("return_to", "https://zcnk5z-5000.csb.app/redirect");
        setTimeout(() => (window.location.href = url.toString()), 50);
    };
};

```

```
const { AuthProvider } = window.arcana.auth;

window.onload = async () => {
    const auth = new AuthProvider( //Use ClientID to create AuthProvider
        "xar_dev_92ecc87db08e4c13b1fcd9b37ca9bf54fa874355"
    );
    await auth.init();  //Initialize the Auth Provider
    const u = new URL(window.location.href);
    if (u.hash) {
        const p = new URLSearchParams(u.hash.substring(1));
        const t = p.get("tgAuthResult");
        if (t) {
            cleanURL();
            //Initiate social login, must set app domain in Telegram bot for successful login
            await auth.loginWithBearer("telegram", { token: t }); 
        }
    }
};

function cleanURL() {
    const cleanUrl = window.location.origin + window.location.pathname;
    window.history.replaceState(null, "", cleanUrl);
}

```

Check if a user is logged in:

```
const connected = await auth.isLoggedIn()

```

Add code in the app to log out an authenticated user:

```
await auth.logout()

```

**That is all.**

The Web3 app is all set for onboarding users via Telegram.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/)
- [Handling authentication errors](../../../../../auth-error-msg/)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# User Login with Twitch

In this guide, you will learn how a Vue app integrated with the Arcana Auth SDK can onboard users via custom login UI and Twitch as the authentication provider.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- Carefully [follow the instructions to configure Twitch](../../../../../../setup/config-social/twitch-oauth/) as the authentication provider.
- Use the appropriate integration method as per the app type and [integrate the app](../../../../../integrate/vanilla-html-css-js/) with the Arcana Auth SDK before accessing the user onboarding function of the Arcana Auth SDK.

## Steps

*Using Twitch to onboard users in a Web3 app that is integrated with the Arcana Auth SDK requires a single line of code.*

## Step 1: Call `loginWithSocial` function

Make sure that all the prerequisites listed above are met. The app should be successfully registered, configured, and integrated with the Arcana Auth SDK, before adding code to onboard users via Twitch.

```
await auth.loginWithSocial('twitch')

```

Check if a user is logged in:

```
const connected = await auth.isLoggedIn()

```

Add code in the app to log out an authenticated user:

```
await auth.logout()

```

**That is all.**

The Web3 app is all set for onboarding users via Twitch.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/)
- [Handling authentication errors](../../../../../auth-error-msg/)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# User Login with Twitter

In this guide, you will learn how a Vue app integrated with the Arcana Auth SDK can onboard users via custom login UI and Twitter as the authentication provider.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Use the [Arcana Developer Dashboard](../../../../../../concepts/dashboard/) to [register the app](../../../../../../setup/config-auth/register-app/) and obtain a unique Client ID required for integrating the app with the Arcana Auth SDK.
- Carefully [follow the instructions to configure Twitter](../../../../../../setup/config-social/twitter-oauth/) as the authentication provider.
- Use the appropriate integration method as per the app type and [integrate the app](../../../../../integrate/vanilla-html-css-js/) with the Arcana Auth SDK before accessing the user onboarding function of the Arcana Auth SDK.

## Steps

*Using Twitter to onboard users in a Web3 app that is integrated with the Arcana Auth SDK requires a single line of code.*

## Step 1: Call `loginWithSocial` function

Make sure that all the prerequisites listed above are met. The app should be successfully registered, configured, and integrated with the Arcana Auth SDK, before adding code to onboard users via Twitter.

```
await auth.loginWithSocial('twitter')

```

Check if a user is logged in:

```
const connected = await auth.isLoggedIn()

```

Add code in the application to log out an authenticated user:

```
await auth.logout()

```

**That is all.**

The Web3 app is all set for onboarding users via Twitter.

No Aggregate Login with Twitter OAuth

The [aggregate login feature](../../../../../../concepts/aggregatelogin/) does not work for the Steam OAuth login mechanism.

When a user has the same email registered with a social login provider and Steam OAuth, logging in with Steam makes a new unique account. Even if the user later logs in with the same email through a social login provider or passwordless, it creates a different wallet address for the same user.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../../../../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../../../../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## What's Next?

Authenticated users can instantly access the in-app Arcana wallet UI for signing blockchain transactions. Use the `AuthProvider` EIP-1193 standard Ethereum provider to call JSON/RPC functions and Web3 wallet operations in the app. [Learn more...](../../../../../web3-ops/evm/)

## See also

- [Authentication Types](../../../../../../concepts/authtype/)
- [Handling authentication errors](../../../../../auth-error-msg/)
- [Auth Examples](https://github.com/arcana-network/auth-examples)

# Custom Login UI

Onboard users in a 'Wagmi' app integrated with the Arcana Auth SDK through a custom login UI.

Plug-and-Play Login UI

You can onboard users in a 'Wagmi' app faster through the built-in, [plug-and-play login UI](../../../../concepts/plug-and-play-auth/) instead of choosing to build a custom login UI. [Learn more...](../wagmi-pnp-ui/)

## Prerequisites

- [Register](../../../../setup/config-auth/register-app/) the Wagmi app and configure SDK usage [settings for social login](../../../../setup/) providers, [manage app chains](../../../../setup/config-wallet-chains/) and [wallet user experience](../../../../setup/config-wallet/).
- Install the [required SDK packages](../../../sdk-installation/) for 'Wagmi'.
- [Integrate](../../../integrate/wagmi/) 'Wagmi' app and create `AuthProvider`, `ArcanaConnector`.

## Steps

### 1. Configure `ArcanaConnector`

`ArcanaConnector` is created earlier as part of SDK integration. When using a custom login UI to onboard users, configure `ArcanaConnector` differently.

Add code in the custom UI for onboarding via social login and passwordless options by using the `setLogin` function.

*Enable Authentication Provider*

```
import { AuthProvider } from "@arcana/auth";
import { ArcanaConnector } from "@arcana/auth-wagmi";
import { polygon, polygonAmoy } from "wagmi/chains";
import { configureChains, createClient, Chain } from "wagmi";
import { publicProvider } from "wagmi/providers/public";

/* Using Custom UI for user login via Google */
const auth = new AuthProvider(`${arcana_client_id}`) // Singleton
export const connector = (chains: Chain[]) => {
  return new ArcanaConnector({
    chains,
    options: {
      auth: auth,        
      login:  {
          provider: 'google', //See 'Custom Login UI' section in the documentation for other supported providers.
        } // Optional, specify here during ArcanaConnector instantiation or in the setLogin function
    },
  });
};

// Custom UI Alternative 
// Use setLogin function after creating the connector.

/*
const auth = new AuthProvider(`${arcana_client_id}`) // Singleton
export const connector = (chains: Chain[]) => {
  return new ArcanaConnector({
    chains,
    options: {
      auth: auth             
    },
  });
};

connector.setLogin({
  provider: 'google'
})
*/

...

```

*Enable Passwordless Login*

```
import { AuthProvider } from "@arcana/auth";
import { ArcanaConnector } from "@arcana/auth-wagmi";
import { polygon, polygonAmoy } from "wagmi/chains";
import { configureChains, createClient, Chain } from "wagmi";
import { publicProvider } from "wagmi/providers/public";

/* Using Custom UI for Passwordless user login */
const auth = new AuthProvider(`${arcana_client_id}`) // Singleton
export const connector = (chains: Chain[]) => {
  return new ArcanaConnector({
    chains,
    options: {
      auth: auth,        
      login:  {
          provider: 'passwordless', 
          email: 'abc@example.com' //optional
        } // Optional, specify login details here or during ArcanaConnector instantiation or in the setLogin function
    },
  });
};

// Custom UI Alternative 
// Use setLogin function after creating the connector.

/*
const auth = new AuthProvider(`${arcana_client_id}`) // Singleton
export const connector = (chains: Chain[]) => {
  return new ArcanaConnector({
    chains,
    options: {
      auth: auth             
    },
  });
};

connector.setLogin({
  provider: 'passwordless',
  email: 'abc@example.com' //optional
})
*/

...

```

Single Provider Optimization

When using a single social login provider, specify it when creating ArcanaConnector to optimize onboarding. There's no need to use setLogin later in the custom login UI code.

For multiple social login providers, create ArcanaConnector without specifying a provider. Use the setLogin function later based on the user's choice.

### 2. Set up `WagmiConfig`

Use the `ArcanaConnector` and set up [Wagmi config](https://wagmi.sh/react/getting-started).

```
import { http, createConfig } from 'wagmi'
import { mainnet, sepolia } from 'wagmi/chains'
import { coinbaseWallet, injected, walletConnect } from 'wagmi/connectors'
import { AuthProvider } from '@arcana/auth';
import { ArcanaConnector } from "@arcana/auth-wagmi"

let auth: AuthProvider | null;

if (!auth) {
  auth = new AuthProvider(
    "xar_dev_c2fb7be163754e57d384e24257ea2c8d2a5dd31a"
  );
}

export const connector = () => {
  return new ArcanaConnector({auth,})
};

export const config = createConfig({
  chains: [mainnet, sepolia],
  connectors: [
    injected(),
    coinbaseWallet({ appName: 'Create Wagmi' }),
    walletConnect({ projectId: import.meta.env.VITE_WC_PROJECT_ID }),
    connector(),
  ],
  transports: {
    [mainnet.id]: http(),
    [sepolia.id]: http(),
  },
})

declare module 'wagmi' {
  interface Register {
    config: typeof config
  }
}

```

```
// Note:  
// This sample code is for 
// wagmi versions 1.x.y and auth-wagmi 2.a.b
import { configureChains, createConfig, WagmiConfig } from "wagmi";
import { publicProvider } from "wagmi/providers/public";
import { ArcanaConnector } from "@arcana/auth-wagmi";
import { polygon, polygonAmoy } from "wagmi/chains";
import { newAuthProvider } from "./utils/newArcanaAuth";
import { useAccount, useConnect, useDisconnect, useBalance } from 'wagmi'
import "../styles/globals.css";

const { chains, provider, webSocketProvider } = configureChains(
  [mainnet, polygon, polygonAmoy],
  [publicProvider()],
  { targetQuorum: 1 }
);

export const connector = (chains: Chain[]) => {
  return new ArcanaConnector({
    chains,
    options: {
      auth: newAuthProvider(),
      login: {
        provider: "google",
      },
    },
  });
};

const { chains, publicClient } = configureChains(
  [polygon, polygonAmoy],
  [publicProvider()]
);

export const wagmiEntity = createConfig({
  autoConnect: true,
  connectors: [connector(chains)],
  publicClient,
});
...

```

### 3. Initialize Wagmi App Components

```
//
// For apps using Wagmi versions v2.a.b and auth-wagmi v3.x.y
//
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
import { Buffer } from 'buffer'
import React from 'react'
import ReactDOM from 'react-dom/client'
import { WagmiProvider } from 'wagmi'

import App from './App.tsx'
import { config } from './wagmi.ts'

import './index.css'

globalThis.Buffer = Buffer

const queryClient = new QueryClient()

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <WagmiProvider config={config}>
      <QueryClientProvider client={queryClient}>
        <App />
      </QueryClientProvider>
    </WagmiProvider>
  </React.StrictMode>,
)

```

```
//
// For apps using Wagmi versions v1.a.b and auth-wagmi v2.x.y
//
function App({ Component, pageProps }: AppProps) {
  return (
    <WagmiConfig config={wagmiEntity}>
      <Component {...pageProps} />
    </WagmiConfig>
  );
}

```

## What's Next?

Use `AuthProvider`, the EIP-1193 provider offered by the SDK, to call supported JSON/RPC functions and [Web3 wallet operations](../../../web3-ops/evm/) in the authenticated user's context.

## See also

**'Wagmi'** integration example: See `sample-auth-wagmi-2`, `sample-auth-wagmi-viem`, `sample-auth-wagmi` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

- [FAQ](../../../../faq/faq-gen/)
- [Troubleshooting Guide](../../../../troubleshooting/)
- [Arcana Auth SDK Errors](../../../auth-error-msg/)
- [Arcana Auth SDK Usage Guide](../../../auth-usage-guide/)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

Arcana Auth Wagmi SDK Quick Links

- [Auth Wagmi SDK Reference](https://deploy-preview-28--wagmi-authsdk-ref-guide.netlify.app/)
- [Release notes](../../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth-wagmi/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth-wagmi)

[Try Demo App](https://demo.arcana.network)

# Plug-and-Play Login UI

Use the built-in, [plug-and-play login UI modal](../../../../concepts/plug-and-play-auth/) to quickly onboard users in a 'Wagmi' app integrated with the Arcana Auth Wagmi SDK.

Custom Login UI

You can onboard users through a [custom login UI](../../../../concepts/custom-login-ui/) instead of the [built-in plug-and-play](../../../../concepts/plug-and-play-auth/) one. See [how to use custom login UI](../wagmi-custom-ui/) and onboard users in a 'Wagmi' app.

## Prerequisites

- [Register](../../../../setup/config-auth/register-app/) the Wagmi app and configure Arcana Auth SDK SDK usage [settings for social login](../../../../setup/) providers, [manage app chains](../../../../setup/config-wallet-chains/) and [wallet user experience](../../../../setup/config-wallet/).
- Install the [required SDK packages](../../../sdk-installation/) for 'Wagmi'.
- [Integrate](../../../integrate/wagmi/) 'Wagmi' app and create `AuthProvider`, `ArcanaConnector`.

## Steps

### 1. Setup `WagmiConfig`

Use the `ArcanaConnector` created during app integration to set up [Wagmi config](https://wagmi.sh/react/getting-started).

```
//
// For apps using Wagmi versions v2.a.b and auth-wagmi v3.x.y
//

import { http, createConfig } from 'wagmi'
import { mainnet, sepolia } from 'wagmi/chains'
import { coinbaseWallet, injected, walletConnect } from 'wagmi/connectors'
import { AuthProvider } from '@arcana/auth'
import { ArcanaConnector } from "@arcana/auth-wagmi"

let auth: AuthProvider | null;

if (!auth) {
  auth = new AuthProvider(
    "Your-app-Client-ID"
  );
}

const connector = new ArcanaConnector({ auth });

export const config = createConfig({
  chains: [mainnet, sepolia],
  connectors: [
    injected(),
    coinbaseWallet({ appName: 'Create Wagmi' }),
    walletConnect({ projectId: import.meta.env.VITE_WC_PROJECT_ID }),
    connector(),
  ],
  transports: {
    [mainnet.id]: http(),
    [sepolia.id]: http(),
  },
})

declare module 'wagmi' {
  interface Register {
    config: typeof config
  }
}
...

```

```
//   
// For apps using Wagmi versions v1.x.y and auth-wagmi v2.a.b
//

import { configureChains, createConfig, WagmiConfig } from "wagmi";
import { publicProvider } from "wagmi/providers/public";
import { polygon, polygonAmoy } from "wagmi/chains";
import { useAccount, useConnect, useDisconnect, useBalance } from 'wagmi'
import "../styles/globals.css";
import { AuthProvider } from '@arcana/auth'
import { ArcanaConnector } from "@arcana/auth-wagmi"

let auth: AuthProvider | null;

if (!auth) {
  auth = new AuthProvider(
    "Your-app-Client-ID"
  );
}

const { chains, provider, webSocketProvider } = configureChains(
  [mainnet, polygon, polygonAmoy],
  [publicProvider()],
  { targetQuorum: 1 }
);

export const connector = (chains: Chain[]) => {
  return new ArcanaConnector({
    chains,
    options: {
      auth: auth,
    },
  });
};

const { chains, publicClient } = configureChains(
  [polygon, polygonAmoy],
  [publicProvider()]
);

export const wagmiEntity = createConfig({
  autoConnect: true,
  connectors: [connector(chains)],
  publicClient,
});
...

```

### 2. Initialize `WagmiProvider`

Use the Wagmi config to initialize the `WagmiProvider`.

```
//
// For apps using Wagmi versions v2.a.b and auth-wagmi v3.x.y
//
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
import { Buffer } from 'buffer'
import React from 'react'
import ReactDOM from 'react-dom/client'
import { WagmiProvider } from 'wagmi'

import App from './App.tsx'
import { config } from './wagmi.ts'

import './index.css'

globalThis.Buffer = Buffer

const queryClient = new QueryClient()

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <WagmiProvider config={config}>
      <QueryClientProvider client={queryClient}>
        <App />
      </QueryClientProvider>
    </WagmiProvider>
  </React.StrictMode>,
)

```

```
//
// For apps using Wagmi versions v1.a.b and auth-wagmi v2.x.y
//
function App({ Component, pageProps }: AppProps) {
  return (
    <WagmiConfig config={wagmiEntity}>
      <Component {...pageProps} />
    </WagmiConfig>
  );
}

```

## What's Next?

Use `AuthProvider`, the EIP-1193 provider offered by the SDK, to call supported JSON/RPC functions and [Web3 wallet operations](../../../web3-ops/evm/) in the authenticated user's context.

## See also

**'Wagmi'** integration example: See `sample-auth-wagmi-2`, `sample-auth-wagmi-viem`, `sample-auth-wagmi` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

- [FAQ](../../../../faq/faq-gen/)
- [Troubleshooting Guide](../../../../troubleshooting/)
- [Arcana Auth SDK Errors](../../../auth-error-msg/)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

Arcana Auth Wagmi SDK Quick Links

- [Auth Wagmi SDK Reference](https://deploy-preview-28--wagmi-authsdk-ref-guide.netlify.app/)
- [Release notes](../../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth-wagmi/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth-wagmi)

[Try Demo App](https://demo.arcana.network)

# Custom Login UI

Onboard users in a 'WalletConnect' app integrated with the Arcana Auth SDK through a custom login UI.

Plug-and-Play Login UI

You can onboard users in a 'WalletConnect' app faster through the built-in, [plug-and-play login UI](../../../../concepts/plug-and-play-auth/) instead of choosing to build a custom login UI. [Learn more...](../walletconnect-pnp-ui/)

## Prerequisites

- [Register](../../../../setup/config-auth/register-app/) the Wagmi app and configure SDK usage [settings for social login](../../../../setup/) providers, [manage app chains](../../../../setup/config-wallet-chains/) and [wallet user experience](../../../../setup/config-wallet/).
- Install the [required SDK packages](../../../sdk-installation/) for 'WalletConnect'.
- [Integrate](../../../integrate/wagmi/) 'WalletConnect' app and create `AuthProvider`, `ArcanaConnector`.

## Steps

### 1. Configure `ArcanaConnector`

`ArcanaConnector` is created earlier as part of SDK integration. When using a custom login UI to onboard users, configure `ArcanaConnector` differently.

Add code in the custom UI for onboarding via social login and passwordless options by using the `setLogin` function.

*Enable Authentication Provider*

```
import { AuthProvider } from "@arcana/auth";
import { ArcanaConnector } from "@arcana/auth-wagmi";
import { polygon, polygonAmoy } from "wagmi/chains";
import { configureChains, createClient, Chain } from "wagmi";
import { publicProvider } from "wagmi/providers/public";

/* Using Custom UI for user login via Google */
const auth = new AuthProvider(`${arcana_client_id}`) // Singleton
export const connector = (chains: Chain[]) => {
  return new ArcanaConnector({
    chains,
    options: {
      auth: auth,        
      login:  {
          provider: 'google', //See 'Custom Login UI' section in the documentation for other supported providers.
        } // Optional, specify here during ArcanaConnector instantiation or in the setLogin function
    },
  });
};

// Custom UI Alternative 
// Use setLogin function after creating the connector.

/*
const auth = new AuthProvider(`${arcana_client_id}`) // Singleton
export const connector = (chains: Chain[]) => {
  return new ArcanaConnector({
    chains,
    options: {
      auth: auth             
    },
  });
};

connector.setLogin({
  provider: 'google'
})
*/

...

```

*Enable Passwordless Login*

```
import { AuthProvider } from "@arcana/auth";
import { ArcanaConnector } from "@arcana/auth-wagmi";
import { polygon, polygonAmoy } from "wagmi/chains";
import { configureChains, createClient, Chain } from "wagmi";
import { publicProvider } from "wagmi/providers/public";

/* Using Custom UI for Passwordless user login */
const auth = new AuthProvider(`${arcana_client_id}`) // Singleton
export const connector = (chains: Chain[]) => {
  return new ArcanaConnector({
    chains,
    options: {
      auth: auth,        
      login:  {
          provider: 'passwordless', 
          email: 'abc@example.com' //optional
        } // Optional, specify login details here or during ArcanaConnector instantiation or in the setLogin function
    },
  });
};

// Custom UI Alternative 
// Use setLogin function after creating the connector.

/*
const auth = new AuthProvider(`${arcana_client_id}`) // Singleton
export const connector = (chains: Chain[]) => {
  return new ArcanaConnector({
    chains,
    options: {
      auth: auth             
    },
  });
};

connector.setLogin({
  provider: 'passwordless',
  email: 'abc@example.com' //optional
})
*/

...

```

Single Provider Optimization

When using a single social login provider, specify it when creating ArcanaConnector to optimize onboarding. There's no need to use setLogin later in the custom login UI code.

For multiple social login providers, create ArcanaConnector without specifying a provider. Use the setLogin function later based on the user's choice.

### 2. Set up `WagmiConfig`

Use the `ArcanaConnector` and set up [Wagmi config](https://wagmi.sh/react/getting-started).

```
//Use "`auth-wagmi` version > v2.0.0"
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
import { Buffer } from 'buffer'
import React from 'react'
import ReactDOM from 'react-dom/client'
import { WagmiProvider } from 'wagmi'
import App from './App.tsx'
import { config } from './wagmi.ts'

import './index.css'

globalThis.Buffer = Buffer

const queryClient = new QueryClient()

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <WagmiProvider config={config}>
      <QueryClientProvider client={queryClient}>
        <App />
      </QueryClientProvider>
    </WagmiProvider>
  </React.StrictMode>,
)

```

### 3. Initialize WalletConnect App Component

```
//
// For apps using Wagmi versions v2.a.b and auth-wagmi v3.x.y
//
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
import { Buffer } from 'buffer'
import React from 'react'
import ReactDOM from 'react-dom/client'
import { WagmiProvider } from 'wagmi'

import App from './App.tsx'
import { config } from './wagmi.ts'

import './index.css'

globalThis.Buffer = Buffer

const queryClient = new QueryClient()

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <WagmiProvider config={config}>
      <QueryClientProvider client={queryClient}>
        <App />
      </QueryClientProvider>
    </WagmiProvider>
  </React.StrictMode>,
)

```

```
//
// For apps using Wagmi versions v1.a.b and auth-wagmi v2.x.y
//
function App({ Component, pageProps }: AppProps) {
  return (
    <WagmiConfig config={wagmiEntity}>
      <Component {...pageProps} />
    </WagmiConfig>
  );
}

```

## What's Next?

Use `AuthProvider`, the EIP-1193 provider offered by the SDK, to call supported JSON/RPC functions and [Web3 wallet operations](../../../web3-ops/evm/) in the authenticated user's context.

## See also

**'WalletConnect'** integration example: See `sample-auth-walletconnect` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

- [FAQ](../../../../faq/faq-gen/)
- [Troubleshooting Guide](../../../../troubleshooting/)
- [Arcana Auth SDK Errors](../../../auth-error-msg/)
- [Arcana Auth SDK Usage Guide](../../../auth-usage-guide/)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

Arcana Auth Wagmi SDK Quick Links

- [Auth Wagmi SDK Reference](https://deploy-preview-28--wagmi-authsdk-ref-guide.netlify.app/)
- [Release notes](../../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth-wagmi/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth-wagmi)

[Try Demo App](https://demo.arcana.network)

# Plug-and-Play Login UI

Use the built-in, [plug-and-play login UI modal](../../../../concepts/plug-and-play-auth/) to quickly onboard users in a 'WalletConnect' app integrated with the Arcana Auth Wagmi SDK.

Custom Login UI

You can onboard users through a [custom login UI](../../../../concepts/custom-login-ui/) instead of the [built-in plug-and-play](../../../../concepts/plug-and-play-auth/) one. See [how to use custom login UI](../walletconnect-custom-ui/) and onboard users in a 'WalletConnect' app.

## Prerequisites

- [Register](../../../../setup/config-auth/register-app/) the Wagmi app and configure SDK usage [settings for social login](../../../../setup/) providers, [manage app chains](../../../../setup/config-wallet-chains/) and [wallet user experience](../../../../setup/config-wallet/).
- Install the [required SDK packages](../../../sdk-installation/) for 'WalletConnect'.
- [Integrate](../../../integrate/wagmi/) 'WalletConnect' app and create `AuthProvider`, `ArcanaConnector`.

## Steps

### 1. Setup `WagmiConfig`

Use the `ArcanaConnector` created during app integration to set up [Wagmi config](https://wagmi.sh/react/getting-started).

```
//Use "`auth-wagmi` version > v2.0.0"
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
import { Buffer } from 'buffer'
import React from 'react'
import ReactDOM from 'react-dom/client'
import { WagmiProvider } from 'wagmi'
import App from './App.tsx'
import { config } from './wagmi.ts'

import './index.css'

globalThis.Buffer = Buffer

const queryClient = new QueryClient()

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <WagmiProvider config={config}>
      <QueryClientProvider client={queryClient}>
        <App />
      </QueryClientProvider>
    </WagmiProvider>
  </React.StrictMode>,
)

```

### 2. Set up `WagmiProvider`

Next, use the `WagmiProvider` with this specified Wagmi config and initialize `WagmiProvider` in the app.

```
//This example uses Arcana Wallet connector and Coinbase Wallet

import { http, createConfig } from 'wagmi'
import { mainnet, sepolia } from 'wagmi/chains'
import { coinbaseWallet, injected, walletConnect } from 'wagmi/connectors'
import { ArcanaConnector } from "@arcana/auth-wagmi";
import { getAuthProvider } from './arcanaConnector';

export const config = createConfig({
  chains: [mainnet, sepolia],
  connectors: [
    injected(),
    coinbaseWallet({ appName: 'Create Wagmi' }),
    walletConnect({
      projectId: '3fcc6bba6f1de962d911bb5b5c3dba68', //WalletConnect ProjectID
    }),
    ArcanaConnector(
      {
        auth: getAuthProvider(),
      }
    )
  ],
  transports: {
    [mainnet.id]: http(),
    [sepolia.id]: http(),
  },
})

declare module 'wagmi' {
  interface Register {
    config: typeof config
  }
}

```

## What's Next?

Use `AuthProvider`, the EIP-1193 provider offered by the SDK, to call supported JSON/RPC functions and [Web3 wallet operations](../../../web3-ops/evm/) in the authenticated user's context.

## See also

**'WalletConnect'** integration example: See `sample-auth-walletconnect` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

- [FAQ](../../../../faq/faq-gen/)
- [Troubleshooting Guide](../../../../troubleshooting/)
- [Arcana Auth SDK Errors](../../../auth-error-msg/)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

Arcana Auth Wagmi SDK Quick Links

- [Auth Wagmi SDK Reference](https://deploy-preview-28--wagmi-authsdk-ref-guide.netlify.app/)
- [Release notes](../../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth-wagmi/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth-wagmi)

[Try Demo App](https://demo.arcana.network)

# Custom Login UI

Onboard users in a 'Web3-React' app integrated with the Arcana Auth SDK through a custom login UI.

Plug-and-Play Login UI

You can onboard users in a 'Web3-React' app faster through the built-in, [plug-and-play login UI](../../../../concepts/plug-and-play-auth/) instead of choosing to build a custom login UI. [Learn more...](../web3-react-pnp-ui/)

## Prerequisites

- [Register](../../../../setup/config-auth/register-app/) the Wagmi app and configure SDK usage [settings for social login](../../../../setup/) providers, [manage app chains](../../../../setup/config-wallet-chains/) and [wallet user experience](../../../../setup/config-wallet/).
- Install the [required SDK packages](../../../sdk-installation/) for 'Web3-React'.
- [Integrate](../../../integrate/wagmi/) 'Web3-React' app and create `AuthProvider`, `ArcanaConnector`.

## Steps

### 1. Configure `ArcanaConnector`

`ArcanaConnector` is created earlier as part of SDK integration. When using a custom login UI to onboard users, configure `ArcanaConnector` differently.

Add code in the custom UI for onboarding via social login and passwordless options by using the `setLogin` function.

#### Social Login

example/connectors/arcanaWallet.ts

```
// custom ui onboarding - google
import { ArcanaConnector } from "@arcana/auth-web3-react"
import { AuthProvider } from "@arcana/auth"
import { initializeConnector } from "@web3-react/core"

const auth = new AuthProvider(`${arcana_client_id}`) // Singleton

export const [authConnect, hooks] = initializeConnector(
  (actions) =>
    new ArcanaConnector(auth, {
      actions,
      login: {
        provider: 'google',
      } // either add here or in setLogin function
    })
)

// Custom UI Alternative 
// Use setLogin function after creating the connector.

/*
export const [authConnect, hooks] = initializeConnector(
  (actions) =>
    new ArcanaConnector(auth, {
      actions,
    })
)

authConnect.setLogin({ provider: 'google' })

*/
...

```

#### Passwordless Login

example/connectors/arcanaWallet.ts

```
//custom ui onboarding - passwordless
import { ArcanaConnector } from "@arcana/auth-web3-react"
import { AuthProvider } from "@arcana/auth"
import { initializeConnector } from "@web3-react/core"

const auth = new AuthProvider(`${arcana_client_id}`) // Singleton

export const [authConnect, hooks] = initializeConnector(
  (actions) =>
    new ArcanaConnector(auth, {
      actions,
      login: {
        provider: 'passwordless',
        email: 'abc@example.com'
      } // either add here or in setLogin function
    })
)

// Custom UI Alternative 
// Use setLogin function after creating the connector.

/*
export const [authConnect, hooks] = initializeConnector(
  (actions) =>
    new ArcanaConnector(auth, {
      actions,
    })
)

authConnect.setLogin({ provider: 'passwordless', email: 'abc@example.com' })

*/
...

```

Single Provider Optimization

When using a single social login provider, specify it when creating ArcanaConnector to optimize onboarding. There's no need to use setLogin later in the custom login UI code.

For multiple social login providers, create ArcanaConnector without specifying a provider. Use the setLogin function later based on the user's choice.

### 2. Use `ArcanaConnector`

In the Web3-React app, use the `ArcanaConnector` created earlier and set up the required hooks:

```
import { useEffect, useState } from "react";

import { MAINNET_CHAINS } from "../../chains";
import { hooks, arcanaConnect } from "../../connectors/arcanaWallet";
import { Card } from "../Card";

const CHAIN_IDS = Object.keys(MAINNET_CHAINS).map(Number);

const {
  useChainId,
  useAccounts,
  useIsActivating,
  useIsActive,
  useProvider,
  useENSNames,
} = hooks;

export default function ArcanaConnectCard() {
  const chainId = useChainId();
  const accounts = useAccounts();
  const isActivating = useIsActivating();

  const isActive = useIsActive();

  const provider = useProvider();
  const ENSNames = useENSNames(provider);

  const [error, setError] = useState(undefined);

  // attempt to connect eagerly on mount
  useEffect(() => {
    arcanaConnect.connectEagerly().catch((error) => {
      console.debug("Failed to connect eagerly to arcanaConnect", error);
    });
  }, []);

  return (
    <Card
      connector={arcanaConnect}
      activeChainId={chainId}
      chainIds={CHAIN_IDS}
      isActivating={isActivating}
      isActive={isActive}
      error={error}
      setError={setError}
      accounts={accounts}
      provider={provider}
      ENSNames={ENSNames}
    />
  );
}

```

Now, you are all set to onboard users in the Web3-React app using the custom login UI and enable Arcana wallet for the authenticated users.

pages/index.tsx

```
import ArcanaConnectCard from "../components/connectorCards/ArcanaConnectCard";
import CoinbaseWalletCard from "../components/connectorCards/CoinbaseWalletCard";
import GnosisSafeCard from "../components/connectorCards/GnosisSafeCard";
import MetaMaskCard from "../components/connectorCards/MetaMaskCard";
import NetworkCard from "../components/connectorCards/NetworkCard";
import WalletConnectCard from "../components/connectorCards/WalletConnectCard";
import WalletConnectV2Card from "../components/connectorCards/WalletConnectV2Card";
import ProviderExample from "../components/ProviderExample";

export default function Home() {
  return (
      <>
      <ProviderExample />
      <div>
        <MetaMaskCard />
        <WalletConnectV2Card />
        <WalletConnectCard />
        <CoinbaseWalletCard />
        <NetworkCard />
        <GnosisSafeCard />
        <ArcanaConnectCard />
      </div>
      );
      </>
}

```

Web3-React App integrated with the Arcana Auth

## What's Next?

Use `AuthProvider`, the EIP-1193 provider offered by the SDK, to call supported JSON/RPC functions and [Web3 wallet operations](../../../web3-ops/evm/) in the authenticated user's context.

## See also

**'Web3-React'** integration example: See `sample-auth-web3-react` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

- [FAQ](../../../../faq/faq-gen/)
- [Troubleshooting Guide](../../../../troubleshooting/)
- [Arcana Auth SDK Errors](../../../auth-error-msg/)
- [Arcana Auth SDK Usage Guide](../../../auth-usage-guide/)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

Arcana Auth Wagmi SDK Quick Links

- [Auth Wagmi SDK Reference](https://deploy-preview-28--wagmi-authsdk-ref-guide.netlify.app/)
- [Release notes](../../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth-wagmi/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth-wagmi)

[Try Demo App](https://demo.arcana.network)

# Plug-and-Play Login UI

Use the built-in, [plug-and-play login UI modal](../../../../concepts/plug-and-play-auth/) to quickly onboard users in a 'Web3-React' app integrated with the Arcana Auth Wagmi SDK.

Custom Login UI

You can onboard users through a [custom login UI](../../../../concepts/custom-login-ui/) instead of the [built-in plug-and-play](../../../../concepts/plug-and-play-auth/) one. See [how to use custom login UI](../web3-react-custom-ui/) and onboard users in a 'Web3-React' app.

## Prerequisites

- [Register](../../../../setup/config-auth/register-app/) the Wagmi app and configure SDK usage [settings for social login](../../../../setup/) providers, [manage app chains](../../../../setup/config-wallet-chains/) and [wallet user experience](../../../../setup/config-wallet/).
- Install the [required SDK packages](../../../sdk-installation/) for 'Web3-React'.
- [Integrate](../../../integrate/wagmi/) 'Web3-React' app and create `AuthProvider`, `ArcanaConnector`.

## Steps

### 1. Create `AuthProvider` and `ArcanaConnector`

```
import { initializeConnector } from "@web3-react/core";
import { ArcanaConnector } from "@arcana/auth-web3-react";
import { AuthProvider } from "@arcana/auth";
import { URLS } from "../chains";

const auth = new AuthProvider(
  "xar_test_b2ddexxxxxxxxxxxxxxxxxxxx8b1fa3f"  //App client ID via Dashboard
);
export const [arcanaConnect, hooks] = initializeConnector<ArcanaConnector>(
  (actions) =>
    new ArcanaConnector(auth, {
      actions,
    })
);
...

```

Compact Mode

While creating the `AuthProvider`, you can choose the [compact mode (optional)](../../../../concepts/plug-and-play-auth/#compact-modal) for the plug-and-play login UI.

### 2. Use `ArcanaConnector`

In the Web3-React app, use the `ArcanaConnector` and React hooks to connect `ArcanaConnector` with the Web3-React ecosystem via `ArcanaConnectCard`.

```
import { useEffect, useState } from "react";

import { MAINNET_CHAINS } from "../../chains";
import { hooks, arcanaConnect } from "../../connectors/arcanaWallet";
import { Card } from "../Card";

const CHAIN_IDS = Object.keys(MAINNET_CHAINS).map(Number);

const {
  useChainId,
  useAccounts,
  useIsActivating,
  useIsActive,
  useProvider,
  useENSNames,
} = hooks;

export default function ArcanaConnectCard() {
  const chainId = useChainId();
  const accounts = useAccounts();
  const isActivating = useIsActivating();

  const isActive = useIsActive();

  const provider = useProvider();
  const ENSNames = useENSNames(provider);

  const [error, setError] = useState(undefined);

  // attempt to connect eagerly on mount
  useEffect(() => {
    arcanaConnect.connectEagerly().catch((error) => {
      console.debug("Failed to connect eagerly to arcanaConnect", error);
    });
  }, []);

  return (
    <Card
      connector={arcanaConnect}
      activeChainId={chainId}
      chainIds={CHAIN_IDS}
      isActivating={isActivating}
      isActive={isActive}
      error={error}
      setError={setError}
      accounts={accounts}
      provider={provider}
      ENSNames={ENSNames}
    />
  );
}

```

Now, you are all set to onboard users in the Web3-React app using the plug-and-play login UI and enable Arcana wallet for the authenticated users.

pages/index.tsx

```
import ArcanaConnectCard from "../components/connectorCards/ArcanaConnectCard";
import CoinbaseWalletCard from "../components/connectorCards/CoinbaseWalletCard";
import GnosisSafeCard from "../components/connectorCards/GnosisSafeCard";
import MetaMaskCard from "../components/connectorCards/MetaMaskCard";
import NetworkCard from "../components/connectorCards/NetworkCard";
import WalletConnectCard from "../components/connectorCards/WalletConnectCard";
import WalletConnectV2Card from "../components/connectorCards/WalletConnectV2Card";
import ProviderExample from "../components/ProviderExample";

export default function Home() {
  return (
      <>
      <ProviderExample />
      <div>
        <MetaMaskCard />
        <WalletConnectV2Card />
        <WalletConnectCard />
        <CoinbaseWalletCard />
        <NetworkCard />
        <GnosisSafeCard />
        <ArcanaConnectCard />
      </div>
      );
      </>
}

```

Web3-React App integrated with the Arcana Auth

## What's Next?

Use `AuthProvider`, the EIP-1193 provider offered by the SDK, to call supported JSON/RPC functions and [Web3 wallet operations](../../../web3-ops/evm/) in the authenticated user's context.

## See also

**'Web3-React'** integration example: See `sample-auth-web3-react` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

- [FAQ](../../../../faq/faq-gen/)
- [Troubleshooting Guide](../../../../troubleshooting/)
- [Arcana Auth SDK Errors](../../../auth-error-msg/)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

Arcana Auth Wagmi SDK Quick Links

- [Auth Wagmi SDK Reference](https://deploy-preview-28--wagmi-authsdk-ref-guide.netlify.app/)
- [Release notes](../../../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth-wagmi/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth-wagmi)

[Try Demo App](https://demo.arcana.network)

# EVM Wallet Ops

The Arcana wallet supports [standard Ethereum JSON-RPC specification API](https://ethereum.org/en/developers/docs/apis/json-rpc/) via the `AuthProvider`.

Non-EVM Chains

Note that the JSON/RPC functions and Web3 wallet operations supported by the `AuthProvider` may vary across EVM chains and other chains such as [Solana](../solana/), [MultiversX](../mvx/), [Near](../near/), etc.

## Prerequisites

- [Register](../../../setup/config-auth/register-app/) the Near app and configure SDK usage [settings for social login](../../../setup/) providers, [manage app chains](../../../setup/config-wallet-chains/) and [wallet user experience](../../../setup/config-wallet/).
- Install the [required SDK packages](../../sdk-installation/), integrate the SDK with the app and create `AuthProvider`.

## Handle Events

```
const auth = new AuthProvider(
  "xar_test_445007f942xxxxxxxxxxxxxxxxxx484cAfd2", // App client ID
)

```

```
try {
  await auth.init()
} catch (e) {
  // Handle exception case
}

```

```
// Assuming Auth SDK is integrated and initialized
try {
  provider = auth.provider
  const connected = await auth.isLoggedIn()
  console.log({ connected })
  setHooks()
} catch (e) {
  // Handle exception case
}

// setHooks: Manage chain or account switch in Arcana wallet
function setHooks() {
  provider.on('connect', async (params) => {
    console.log({ type: 'connect', params: params })
    const isLoggedIn = await auth.isLoggedIn()
    console.log({ isLoggedIn })
  })
  provider.on('accountsChanged', (params) => {
    //Handle
    console.log({ type: 'accountsChanged', params: params })
  })
  provider.on('chainChanged', async (params) => {
    console.log({ type: 'chainChanged', params: params })
  })
}

```

## Supported Web3 Operations

- `eth_getBalance`
- `eth_accounts`
- `eth_signTransaction`
- `eth_sendTransaction`
- `wallet_addEthereumChain`
- `wallet_switchEthereumChain`
- `wallet_watchAsset`
- `_arcana_getAccountType`
- `_arcana_switchAccountType`

### Get Accounts

```
// get from eth_accounts
let from = ''

async function getAccounts() {
  console.log('Requesting accounts')
  try {
    const accounts = await provider.request({ method: 'eth_accounts' })
    console.log({ accounts })
    from = accounts[0] // Use this account address to get wallet balance
  } catch (e) {
    console.log({ e })
  }
}

```

### Get Balance

```
let balance = ''

async function getBalance() {
  console.log('Requesting Balance')
  try {
    provider.request({ method: 'eth_getBalance' }).then((balance) => {
      // convert a currency unit from wei to ether
      const balanceInEth = ethers.utils.formatEther(balance)
      console.log(`balance: ${balanceInEth} ETH`)
    })
  } catch (e) {
    console.log({ e })
  }
}

```

### Add Network

Only EVM Chains

Apps can programmatically add only the EVM-compatible chains to the preconfigured chain list if not already present.

The `wallet_addEthereumChain` method is specified by [EIP-3085](https://eips.ethereum.org/EIPS/eip-3085).

```
try {
  await provider.request({
    method: 'wallet_addEthereumChain',
    params: [{
      chainId: '0xABCDEF',
      chainName: 'My Custom Chain',
      rpcUrls: ['...']
    }]
  })
} catch(error) {
  ...
}

// Parameters
// wallet_addEthereumChain accepts a single object parameter, 
// specified by the AddEthereumChainParameter TypeScript interface

interface AddEthereumChainParameter {
  chainId: string; // A 0x-prefixed hexadecimal string
  chainName: string;
  nativeCurrency: {
    name: string;
    symbol: string; // 2-6 characters long
    decimals: 18;
  };
  rpcUrls: string[];
  blockExplorerUrls?: string[];
}

```

### Switch Network

This method is specified by [EIP-3326](https://eips.ethereum.org/EIPS/eip-3326).

Chain Switching

Apps can programmatically switch to another chain as long as it is of the same chain type. If an app is configured to use EVM chains, you cannot switch to a non-EVM chain and vice-versa.

```
try {
  await provider.request({
    method: 'wallet_switchEthereumChain',
    params: [{ chainId: '0xf00' }],
  });
} catch(error) {
  ...
}

interface SwitchEthereumChainParameter {
  chainId: string; // A 0x-prefixed hexadecimal string
}

```

Network Switch Error

If the error code (error.code) is 4902, then the requested chain has not been added, and you have to request to add it via `wallet_addEthereumChain`.

### Get Account Type

```
const accountType = await auth.provider.request({
  method: "_arcana_getAccountType",
});

console.log(accountType);

```

### Watch Assets

```
async function watchAsset() {
  setRequest('eth_sendTransaction')
  const hash = await provider.request({
    method: 'wallet_watchAsset',
      params: {
        type: 'ERC20',
        options: {
          address: '0xB983E01458529665007fF7E0CDdeCDB74B967Eb6',
          symbol: 'FOO',
          decimals: 18,
          image: 'https://foo.io/token-image.svg',
      },
    },
  })
  console.log({ hash })
}

```

### Sign Transaction

```
async function signTransaction() {

  const { sig } = await auth. provider.request({
    method: 'eth_signTransaction',
    params: [
      {
        from: "0xEB014f8c8B418Db6b45774c326A0E64C78914dC0",
        gasPrice: "20000000000",
        gas: "21000",
        to: '0x3535353535353535353535353535353535353535',
        value: "1000000000000000000",
        data: "some data"
      },
    ],
  })
  console.log({ sig })
}

```

### Send Transactions

```
const auth = new AuthProvider(
  "xar_test_445007f942xxxxxxxxxxxxxxxxxx484cAfd2", // App client ID
)

```

```
try {
  await auth.init()
} catch (e) {
  // Handle exception case
}

```

```
async function sendTransaction() {
  setRequest('eth_sendTransaction')
  const hash = await auth.provider.request({
    method: 'eth_sendTransaction',
      params: [{
      from,
      gasPrice: 0,
      to: '0xE28F01Cf69f27Ee17e552bFDFB7ff301ca07e780',
      value: '0x0de0b6b3a7640000',
    },],
  })
  console.log({ hash })
}

```

Send Transaction

Approve/Reject Send Transaction

### Show Wallet

Apps that use `alwaysVisible=false` when initializing the `AuthProvider` can use `showWallet` to display it in the app's context when required.

```
import { AuthProvider } from '@arcana/auth'

try {

  const auth = new AuthProvider(
    "xar_test_445007f942xxxxxxxxxxxxxxxxxx484cAfd2", // App client ID
    { 
      position: 'left',         // default: right
      theme: 'light',           // default: dark
      alwaysVisible: false, 
    } 
  )
  await auth.init()
  await auth.showWallet()
} catch (e) {
  // Handle exception case
}

```

Arcana Wallet

# MultiversX Wallet Ops

Use `AuthProvider`, the standard EIP-1193 Ethereum provider offered by the Arcana Auth SDK, for issuing Web3 wallet operations via the Arcana wallet.

## Prerequisites

- [Register](../../../setup/config-dApp-with-db-for-mvx/) the app and configure SDK usage [settings for social login](../../../setup/) providers, [manage app chains](../../../setup/config-wallet-chains/) and [wallet user experience](../../../setup/config-wallet/).
- Install the [required SDK packages](../../sdk-installation/) as per the app type, [integrate the SDK](../../integrate/mvx/) and create `AuthProvider`.

## Supported Web3 Operations

- `mvx_signMessage`
- `mvx_signTransaction`
- `mvx_signTransactions`
- `getAccounts`
- `getPublicKey`

Other MultiversX wallet connect JSON RPC methods listed [here](https://docs.multiversx.com/integrators/walletconnect-json-rpc-methods/) are not supported at the moment.

### `getAccounts`

```
// Integrate App with the Auth SDK

  const { AuthProvider } = window.arcana.auth

  let provider
  let from = ''
  const auth = new AuthProvider('xar_dev_34-arcana-registered-client-id-xxxxx')
  provider = auth.provider

  ...

  //Initialize AuthProvider
  await auth.init()

  // Get Accounts

  try {
    const accounts = await provider.request({ method: 'getAccounts' })
    from = accounts[0]
  } catch (e) {
    console.log({ e })
  }

  // Returns an array of public keys
  // ["pub-key-1"]

```

### `getPublicKey`

```
// Integrate App with the Auth SDK

  const { AuthProvider } = window.arcana.auth

  let provider
  let from = ''
  const auth = new AuthProvider('xar_dev_34-arcana-registered-client-id-xxxxx')
  provider = auth.provider

  ...

  //Initialize AuthProvider
  await auth.init()

  //Get Public Key

  await provider.request({
    method: "getPublicKey",
    params: [from],
  });

  // Returns public key
  // {pk: "some-pub-key"}

```

### `SignMessage`

```
  // Integrate App with the Auth SDK

  const { AuthProvider } = window.arcana.auth

  let provider
  let from = ''
  const auth = new AuthProvider('xar_dev_34-arcana-registered-client-id-xxxxx')
  provider = auth.provider

  ...

  //Initialize AuthProvider
  await auth.init()

  // Get Accounts

  try {
    const accounts = await provider.request({ method: 'getAccounts' })
    from = accounts[0]
  } catch (e) {
    console.log({ e })
  }

  // Onboard users via plug-n-play login or custom login UI

  // auth.connect() or auth.loginWithSocial
  try {
    const provider = await auth.connect()
    console.log({ provider })
  } catch (error) {
    console.log({ error })
  }

  ...

  // For authenticated users, add code for signing message

  const personalSign = await provider.request({
    method: 'mvx_signMessage',
    params: {
      message: 'SignMessage to test MultiversX signmessage',
      address: from,
    },
  })

  // Returns signature object
  // {signature: "some-sig"}

```

### `SignTransaction`

```
  // Integrate App with the Auth SDK

  const { AuthProvider } = window.arcana.auth

  let provider
  let from = ''
  const auth = new AuthProvider('xar_dev_34-arcana-registered-client-id-xxxxx')
  provider = auth.provider

  ...

  //Initialize AuthProvider
  await auth.init()

  // Get Accounts

  try {
    const accounts = await provider.request({ method: 'getAccounts' })
    from = accounts[0]
  } catch (e) {
    console.log({ e })
  }

  // Onboard users via plug-n-play login or custom login UI

  // auth.connect() or auth.loginWithSocial
  try {
    const provider = await auth.connect()
    console.log({ provider })
  } catch (error) {
    console.log({ error })
  }

  ...

  // For authenticated users, add code for signing transaction

  const params = {
    transaction: {
      gasLimit: 100000,
      sender: from,
      receiver:
        'erdXXXXXXXX-some-address-YYYYYYYYYY',
      value: '0.01',
      chainID: 'T',
      data: 'helloWorld-from MultiversX',
      version: 1,
    },
  }

  const data = await provider.request({
    method: 'mvx_signTransaction',
    params,
  })

  // Returns signature object
  // {signature: "some-sig", options: 0, version: 1}

```

### `SignTransactions`

```
  // Integrate App with the Auth SDK

  const { AuthProvider } = window.arcana.auth

  let provider
  let from = ''
  const auth = new AuthProvider('xar_dev_34-arcana-registered-client-id-xxxxx')
  provider = auth.provider

  ...

  //Initialize AuthProvider
  await auth.init()

  // Get Accounts

  try {
    const accounts = await provider.request({ method: 'getAccounts' })
    from = accounts[0]
  } catch (e) {
    console.log({ e })
  }

  // Onboard users via plug-n-play login or custom login UI

  // auth.connect() or auth.loginWithSocial
  try {
    const provider = await auth.connect()
    console.log({ provider })
  } catch (error) {
    console.log({ error })
  }

  ...

  // For authenticated users, add code for signing transaction

  const transaction = {
    gasLimit: 100000,
    sender: from,
    receiver: "erdXXXXXXXX-some-address-YYYYYYYYYY",
    value: "0.001",
    chainID: "T",
    data: "helloWorld-from MultiversX",
    version: 1,
  };

  const params = {
    // You can use multiple transactions, this sample just
    // repeats the same one.
    transactions: [transaction, transaction, transaction],
  };

  const data = await provider.request({
    method: 'mvx_signTransactions',
    params,
  })

  //Returns Signature Object - see format below
  // 
  // {
  //   signatures: [
  //     {signature: "some-sig-1", options: 0, version: 1}, 
  //     {signature: "some-sig-2", options: 0, version: 1}, 
  //     {signature: "some-sig-3", options: 0, version: 1}
  //   ]
  // }

```

# Near Wallet Ops

The Arcana wallet supports [standard Ethereum JSON-RPC specification API](https://ethereum.org/en/developers/docs/apis/json-rpc/) via the `AuthProvider`.

## Prerequisites

- [Register](../../../setup/config-dApp-with-db-for-near/) the Near app and configure SDK usage [settings for social login](../../../setup/) providers, [manage app chains](../../../setup/config-wallet-chains/) and [wallet user experience](../../../setup/config-wallet/).
- Install the [required SDK packages](../../sdk-installation/) as per the app type, [integrate the SDK](../../integrate/near/) and create `AuthProvider`.

## Supported Web3 Operations

- `getAccounts`
- `near_signMessage`
- `near_signAndSendTransaction`

### `getAccounts`

```
// Integrate App with the Auth SDK

  const { AuthProvider } = window.arcana.auth

  let provider
  let from = ''
  const auth = new AuthProvider('xar_dev_34-arcana-registered-client-id-xxxxx')
  provider = auth.provider

  //Initialize AuthProvider
  await auth.init()

  ... 
  // User login add code via plug and play `connect` or custom login UI
  // auth.connect() or auth.loginWithSocial

  // Get User Account address post login

  try {
    const accounts = await provider.request({ method: 'getAccounts' })
    from = accounts[0]
  } catch (e) {
    console.log({ e })
  }

```

### `SignMessage`

```
  // Integrate App with the Auth SDK

  const { AuthProvider } = window.arcana.auth

  let provider
  let from = ''
  const auth = new AuthProvider('xar_dev_34-arcana-registered-client-id-xxxxx')
  provider = auth.provider

  //Initialize AuthProvider
  await auth.init()

  // Onboard users via plug-n-play login or custom login UI

  // auth.connect() or auth.loginWithSocial
  try {
    const provider = await auth.connect()
    console.log({ provider })
  } catch (error) {
    console.log({ error })
  }

  // Get User Account address 

  try {
    const accounts = await provider.request({ method: 'getAccounts' })
    from = accounts[0]
  } catch (e) {
    console.log({ e })
  }

  // For authenticated users, add code for signing message

  import base58 from "bs58";

  const message = base58.encode(Buffer.from("This is a test message for trying 'SignMessage'."));

  const signedMessage = await auth.provider.request({
    method: "near_signMessage",
    params: { message },
  });

  console.log(signedMessage);

```

### `SignAndSendTransaction`

```
  // Integrate App with the Auth SDK

  const { AuthProvider } = window.arcana.auth

  let provider
  let from = ''
  const auth = new AuthProvider('xar_dev_34-arcana-registered-client-id-xxxxx')
  provider = auth.provider

  ...

  //Initialize AuthProvider
  await auth.init()

  // Onboard users via plug-n-play login or custom login UI

  // auth.connect() or auth.loginWithSocial
  try {
    const provider = await auth.connect()
    console.log({ provider })
  } catch (error) {
    console.log({ error })
  }

  ...

  // Get Accounts

  try {
    const accounts = await provider.request({ method: 'getAccounts' })
    from = accounts[0]
  } catch (e) {
    console.log({ e })
  }

  // Get Receiver Account address
  // Read from app user interface
  // receiver = Buffer.to('input address')

  ...

  // For authenticated users, add code for signing transaction

 const transaction = {
  receiverId: receiver,
  actions: [
    {
      transfer: {
        deposit: BigInt(1000),
      },
    },
    {
      transfer: {
        deposit: BigInt(1000),
      },
    },
    {
      transfer: {
        deposit: BigInt(1000),
      },
    },
  ],
}

const signedTransaction = await auth.provider.request({
  method: "near_signAndSendTransaction",
  params: { transaction },
});

console.log(signedTransaction);

```

# Solana Wallet Ops

Solana chain is a bit different from typical EVM chains in how it [supports Solana JSON-RPC calls](https://docs.solana.com/api/http) and Web3 wallet operations.

## Prerequisites

- [Register](../../../setup/config-dApp-with-db-for-Solana/) the Solana app and configure SDK usage [settings for social login](../../../setup/) providers, [manage app chains](../../../setup/config-wallet-chains/) and [wallet user experience](../../../setup/config-wallet/).
- Install the [required SDK packages](../../sdk-installation/) as per the app type, [integrate the SDK](../../integrate/solana/) and create `AuthProvider`. Make sure you also initialize the `Solana Provider`.

```
import { AuthProvider } from '@arcana/auth'

```

```
const auth = new AuthProvider(
  "xar_test_445007f942xxxxxxxxxxxxxxxxxx484cAfd2", // App client ID
  { 
    alwaysVisible: false,     // default: true, wallet always visible
    connectOptions: {
      compact: true           // default: false, regular plug-and-play login UI
    },
    position: 'left',         // default: right
    setWindowProvider: true,  // default: false, window.ethereum not set
    theme: 'light',           // default: dark
})

```

```
try {
  await auth.init()
} catch (e) {
  // Handle exception case
}

```

Solana apps can use the `auth.provider` to make standard JSON RPC calls in the context of an authenticated user.

```
const provider = auth.provider;

```

Use the Solana provider for issuing Solana Web3 wallet operations in the context of an authenticated user.

```
const solanaP = auth.solana;

```

## Supported Web3 Wallet Operations

### Get Public Key

```
import SolanaWeb3 from "@solana/web3.js";

const provider = auth.provider;

const accounts = await auth.provider.request({
  method: "getAccounts",
  params: [],
});

const publicKey = new SolanaWeb3.PublicKey(accounts[0])

console.log(publicKey);

```

The `publicKey` is returned as a string: ["your-public-key-in-string-format"].

## Supported JSON/RPC Functions

- `signMessage`
- `signTransaction`
- `signAllTransactions`
- `signAndSendTransaction`

### `SignMessage`

```
  const message = `Sign below to authenticate with CryptoCorgis to avoid digital dognappers`;
  const encodedMessage = new TextEncoder().encode(message);
  // To get a proper signature, the second parameter in signMessage call 
  // can be either "hex" or "utf8", depending on what kind of message we are signing. 
  // For plaintext, use "utf8"; 
  // For hex message, use "hex"
  try {
    const signature = await solanaP.signMessage(encodedMessage, "hex");
    window.solanaSig = signature;
    console.log(signature);
  } catch (e) {
    console.error(e);
  }

```

#### Signature Format

```
  {
    signature: Uint8Array // Encode it by using `bs58.encode(signature)` 
                          // to get the string format. See npm library: bs58 
    publicKey: BN // Use `new SolanaWeb3.PublicKey(publicKey)` 
                  // to get the 'BN' string format. See npm library: @solana/web3.js
  }

```

### `SignTransaction`

```
try {
  const pk = new SolanaWeb3.PublicKey(auth.solana.publicKey)
  const connection = new SolanaWeb3.Connection(
    SolanaWeb3.clusterApiUrl("testnet") // can be "devnet", "testnet" or "mainnet-beta"
  );

  const minRent = await connection.getMinimumBalanceForRentExemption(0);

  const blockhash = await connection.getLatestBlockhash().then((res) => res.blockhash);

  const payer = auth.solana

  const instructions = [
    SolanaWeb3.SystemProgram.transfer({
      fromPubkey: pk,
      toPubkey: pk,
      lamports: minRent // lamports is the minimum unit of solana, like wei is for Ethereum. 1 SOL = 10^9 Lamports
    })
  ];

  // Compiles the message to V0 format
  const messageV0 = new SolanaWeb3.TransactionMessage({
    payerKey: pk,
    recentBlockhash: blockhash,
    instructions
  }).compileToV0Message();

  const transaction = new SolanaWeb3.VersionedTransaction(messageV0);

  // sign your transaction with the required `Signers`
  const signature = await payer.signTransaction(transaction);
} catch (e) {
    console.error(e);
}

```

#### Signature Format

```
{
signatures: [Uint8Array],
message: {
    header: {
      numRequiredSignatures: 1,
      numReadonlySignedAccounts: 0,
      numReadonlyUnsignedAccounts: 1
    },
    staticAccountKeys: [
      StaticAccountKey1, // In string format
      StaticAccountKey2 // In string format
    ],
    recentBlockhash: LatestBlockHashSubmittedWhileSigning, // In string format
    compiledInstructions: [
      {
        programIdIndex: 1,
        accountKeyIndexes: [
          0,
          0
        ],
        data: Uint8Array // Data that was signed
    ],
    addressTableLookups: [] // Not sure what is this, will need to check, but we can pass this during signing
  }
}

```

### `SignAllTransactions`

```
try {
  const pk = new SolanaWeb3.PublicKey(auth.solana.publicKey);
  const connection = new SolanaWeb3.Connection(
    window.solanaWeb3.clusterApiUrl("testnet")
  );

  const minRent = await connection.getMinimumBalanceForRentExemption(0);

  const blockhash = await connection.getLatestBlockhash().then((res) => res.blockhash);

  const payer = auth.solana;

  const instructions = [
    SolanaWeb3.SystemProgram.transfer({
      fromPubkey: pk,
      toPubkey: pk,
      lamports: minRent,
    }),
  ];

  const messageV0 = new SolanaWeb3.TransactionMessage({
    payerKey: pk,
    recentBlockhash: blockhash,
    instructions,
  }).compileToV0Message();

  const transaction = new SolanaWeb3.VersionedTransaction(messageV0);

  // sign your transaction with the required `Signers`
  const signatures = await payer.signAllTransactions([
    transaction,
    transaction,
    transaction,
  ]); // Should/can send multiple different transactions, 
      // right now sending 1 transaction multiple times just as an example

} catch (e) {
    console.error(e);
}

```

The signature format here is same as above with a minor difference:

```
[Signature0, Signature1, Signature2, and so on]

```

### `SignAndSendTransaction`

```
try {
  const pk = new SolanaWeb3.PublicKey(auth.solana.publicKey);
  const connection = new SolanaWeb3.Connection(
    SolanaWeb3.clusterApiUrl("testnet")
  );

  const minRent = await connection.getMinimumBalanceForRentExemption(0);

  const blockhash = await connection.getLatestBlockhash().then((res) => res.blockhash);

  const payer = auth.solana; // Arcana Solana API

  const instructions = [
    SolanaWeb3.SystemProgram.transfer({
      fromPubkey: pk,
      toPubkey: pk,
      lamports: minRent,
    }),
  ];

  const messageV0 = new SolanaWeb3.TransactionMessage({
    payerKey: pk,
    recentBlockhash: blockhash,
    instructions,
  }).compileToV0Message();

  const transaction = new SolanaWeb3.VersionedTransaction(messageV0);

  // sign your transaction with the required `Signers`
  const txHash = await payer.signAndSendTransaction(transaction);
}  catch (e) {
    console.error(e);
}

```

#### Response Format

```
{
  publicKey: BN,
  signature: Uint8Array // This is the transaction hash itself
                        // we can verify this in solana explorer, 
                        // need to convert it to string first using `bs58.encode(signature)`
}

```

# Unity Web3 Wallet Operations

Use `AuthProvider`, the standard EIP-1193 Ethereum provider offered by the Arcana Auth SDK, to call Web3 wallet operations in Unity apps.

## Supported Web3 Operations

Call `Request` to make Web3 Wallet operation requests from within the app context. Provide the 'method' parameter for any supported Web3 wallet operations.

Supported Wallet Operations

The supported methods in the `Request` function may vary depending on the selected blockchain network, EVM chains, or non-EVM chains, such as Solana or MultiversX. See the [supported JSON/RPC Web3 operations](../evm/) for a list of chain-specific methods supported via the `Request` call of the Arcana Auth Unity SDK.

```
responseTextField.text = "";
if (parameters.text != null)
{
  response = (await arcanaSDK.Request(new RequestParams {
      Method = method.text,
      Params = JsonConvert.DeserializeObject<object[]>(parameters.text)
  })).ToString();
}
else
{
  response = (await arcanaSDK.Request(new RequestParams {
      Method = method.text,
  })).ToString();
}

```
# Reference

# 

# Audit Reports

[Auth Smart Contracts](https://github.com/arcana-network/audit-reports/blob/main/REP-final-20221228T082421Z.pdf)

[ADKG](https://github.com/arcana-network/audit-reports/blob/main/REP-final-20230228T054948Z.pdf)

# Audit Reports

[Arcana Vault](https://github.com/arcana-network/audit-reports/blob/9b13233ce0fa4915c96c712bb49187864089f3df/Arcana%20Vault%20Final%20Report.pdf)

[CA Wallet](https://github.com/arcana-network/audit-reports/blob/9b13233ce0fa4915c96c712bb49187864089f3df/Arcana%20Wallet%20Final%20Audit%20Report.pdf)

# Changelog

[`ca-sdk`](https://github.com/arcana-network/ca-sdk/releases/tag/v0.0.3)

[`auth`](https://github.com/arcana-network/auth/releases/tag/v1.0.12)

[`auth-wagmi`](https://github.com/arcana-network/auth-wagmi/releases/tag/v3.0.0)

[Dashboard](https://github.com/arcana-network/developer-dashboard/releases/tag/v1.0.9)

[Wallet UI](https://github.com/arcana-network/wallet-ui/releases/tag/1.0.9)

# ADKG

Asynchronous Distributed Key Generation (ADKG) is a cryptographic protocol that allows multiple parties to generate a public-private key pair cooperatively, without needing a trusted third party or synchronization.

Each party creates a partial private key and shares it with the others. Together, they use these partial keys to derive the final private key used for securing blockchain transactions in Web3 apps.

Asynchronous Distributed Key Generation (ADKG)

*[Reference: ADKG Paper](https://eprint.iacr.org/2022/1389.pdf)*

ADKG is ideal for geographically dispersed or poorly connected parties where traditional methods are impractical. The distributed trust model in ADKG also makes it more resistant to attacks compared to methods relying on a single central authority.

## ADKG for Web3 Keys

Web3 blockchain transactions require user approval through cryptographic keys.

The Arcana Auth SDK uses ADKG to securely generate key shares for Web3 users. It allows users to securely access and generate their keys on the client side, handling security and privacy concerns. Users can sign transactions with the non-custodial Arcana wallet.

ADKG generates ECDSA keys on the [secp256k1](https://www.secg.org/sec2-v2.pdf) curve, compatible with all EVM chains. Future updates will support other curves, blockchains, and key regeneration.

## Why ADKG?

Our ADKG implementation uses the [Practical Asynchronous Distributed Key Generation](https://eprint.iacr.org/2021/1591.pdf) protocol. It improves on the previous DKG by removing the need for a trusted dealer, reducing key exposure, and automating share regeneration. ADKG is resilient to attacks and works well in asynchronous networks. It ensures security by preventing any single node from accessing a user's key.

ADKG Assumptions

The ADKG protocol works under the assumption that in an asynchronous network of `n â‰¥ 3t + 1` nodes, where at most `t` nodes could be malicious.

The protocol can achieve an expected communication cost of O(`Îº`n(^3) ) and terminates in expected O(log n) rounds. Here `Îº` is the security parameter. For example, if a collision-resistant hash function is used, in that case, `Îº` denotes the size of the hash function's output.

## Implementation Notes

ADKG requires a set of at least 4 connected nodes at a minimum for accommodating a maximum of 1 malicious node.

At a very high level, the protocol requires each node to **independently generate secrets** and then share a part of that secret with the other nodes. Each node then **shares a proposed set of key shares** with other nodes. Asynchronous Binary Agreement (ABA) **voting** is done by the nodes for each proposed set. Only the accepted and agreed-upon set is used to derive the key shares and then those key shares are combined to **arrive at the final key pair**. None of the nodes have full access to the secret key.

How does ADKG work?

The ADKG protocol has four phases:

1. Asynchronous Complete Secret Sharing (ACSS)
1. Keyset Proposal Broadcast Phase
1. Asynchronous Binary Agreement (ABA)
1. Key Derivation Phase

For more details on each of these ADKG phases, see [here](../../security/adkg/).

# Aggregate login

Aggregate Login in Arcana Auth SDK links users with the same email across social logins as one user. Different emails create separate developer accounts.

For example, logging in with Google and Twitter using the same email counts as one account, while different emails create separate accounts.

```
graph LR
  A[[User]] -.-> B(Social Login Provider A) -.-> E{Email ID Same?} ==Yes==> F>User ID 1];
  E{Email ID Same?} ==No==> G>New unique User ID];
  A[[User]] -.-> M(Social Login Provider B) -.-> E{Email ID Same?};
  A[[User]] -.-> C(Passwordless Login) -.-> E{Email ID Same?};
```

Limited Auth Provider Support

Aggregate login feature does not work for the following providers:

- Cognito
- Firebase
- Steam
- Telegram
- Twitter

# Decentralized Identifier (DID)

[Decentralized identifiers (DIDs)](https://www.w3.org/TR/did-core/) let Web3 app users be identified without a central authority.

A DID is a unique, privacy-preserving identifier built with blockchain technology, cryptography, and decentralized networks. It eliminates the need for centralized registries and identity providers, giving users full control.

Arcana Auth SDK uses the DID protocol, Ethereum blockchain, and [elliptic curve cryptography](https://en.wikipedia.org/wiki/Elliptic-curve_cryptography) to create verifiable proofs for user authentication and authorization.

## DID Token Structure

The DID token is encoded as a Base64 JSON string tuple representing \[proof, claim\]:

- **Proof:** A digitally signed string that is used to prove the validity of a given claim.
- **Claim:** Data representing the user's access assertion.

### `userDIDToken`

The Arcana Auth SDK returns `userDIDToken` once an app user logs in successfully via the configured social login provider by using any of the supported methods of the `AuthProvider`:

- Plug-and-play login `connect()`
- Custom login UI methods such as `loginWithSocial()`, `loginWithLink()` (deprecated), `loginWithOTPStart`,`loginWithOTPComplete` and `loginWithBearer()`

Developers can use `getUser()` method to access the user's DID token via the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) return value.

### Verify DID Token

```
import { ethers } from "ethers";

const userInfo = await auth.getUser();
const didToken = userInfo.userDIDToken;
const data = JSON.parse(window.atob(didToken));
const [sig, claims] = data;
const parsedClaims = JSON.parse(claims)

const addr = ethers.verifyMessage(claims, sig);
if (addr == publicKeyToAddress(parsedClaims.iss)) {
// Verified
}

```

```
import { verify } from "@noble/ed25519"

const userInfo = await auth.getUser();
const didToken = userInfo.userDIDToken;
const data = JSON.parse(window.atob(didToken));
const [sig, claims] = data;
const parsedClaims = JSON.parse(claims);

const verified = verify(sig, toHex(claims), b58ToHex(parsedClaims.iss));

```

# Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app. This token is generated upon successful authentication via any of the supported methods of the `AuthProvider`:

- Plug-and-play login `connect()`
- Custom login UI methods such as `loginWithSocial()`, `loginWithLink()` (deprecated), `loginWithOTPStart`,`loginWithOTPComplete` and `loginWithBearer()`

After the user selects a social login provider and authenticates with the provider, the Arcana Auth SDK receives the JWT token from the selected provider. The Arcana Auth SDK verifies the user via this token first and then creates and returns a new Arcana JWT token to the app. The app must verify the token returned by the Arcana Auth SDK.

## Verify Arcana JWT Token

The JWT token returned by the Arcana Auth SDK expires after 3 minutes.

It is recommended that the app developer must first [verify the token returned by Arcana](../jwt-token-validation/) before generating an app-specific JWT token for further use within the app context.

Developers can use `getUser()` method to access the JWT token returned by the Arcana Auth SDK via the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) return value.

```
/* Make sure
   1. AuthProvider is created and initialized via .init() call
   2. User is onboarded via plug and play login UI .connect() call 
      or 
      with custom login UI loginWithSocial, loginWithLink (deprecated), `loginWithOTPStart` and `loginWithOTPComplete`, loginWithBearer calls
*/
try {
  const userInfo = await auth.getUser();
  const jwtToken = userInfo.loginToken;
  console.log("Arcana JWT Token: ", jwtToken);
} catch (e) {
  console.log(e);
}

```

## App-specific JWT Token

After verification of the JWT token returned by the Arcana Auth SDK, developers must create another app-specific JWT token, if required, and use the subsequent token in the app.

For example, if the app developer needs to implement *Role Based Access Control (RBAC)* and authorize the authenticated user for some specific actions, they can first [verify the token returned by Arcana](../jwt-token-validation/). Upon verification, they can issue a new app-specific JWT that enables RBAC and authorization.

Alternately, for RBAC, developers can use Sign-In with Ethereum ([SIWE](https://www.npmjs.com/package/siwe)) by signing a standard message format parameterized by scope, session details, and security mechanisms (for example, a nonce).

SIWE allows users to log in to applications using their Ethereum wallet and ENS (Ethereum Name Service) profile.

# Arcana Auth-Core SDK

The Arcana Auth-Core SDK is a client-side tool for developers to assign Web3 keys to authenticated users for signing blockchain transactions. Use this SDK instead of the Arcana Auth SDK for key assignment or when building a completely whitelisted solution.

When initializing Arcana Auth-Core SDK, the developer sets the redirect URL. The SDK performs OAuth2 login with the chosen provider and returns the login token from the provider. At the specified redirect URL, the developer uses this token to fetch the user's private key.

Limited Feature SDK

The Arcana Auth-Core SDK has limited capabilities as compared to the Arcana Auth-Core SDK:

- No built-in plug-and-play login UI feature
- No built-in Arcana wallet UI
- No support for Global keys, only app-specific keys (default) are allowed.
- No support for enhanced wallet security via MFA.

# Arcana Auth SDK

Arcana Auth SDK streamlines user onboarding in Web3 apps with an embedded, non-custodial wallet for secure blockchain transactions.

Developers start by [registering the app](../../setup/config-auth/register-app/) and [configuring auth settings](../../setup/config-auth/) through the [Arcana Developer Dashboard](../dashboard/). Each registered app gets a unique **Client ID** essential for integrating with the Arcana Auth SDK.

## Download

Multiple flavors of the Arcana Auth SDK are available for different types of Web3 apps such as web, mobile and gaming. See [Auth SDK installation section](../../auth/sdk-installation/) for details.

## Key Features

**User Authentication**

- Customize onboarding with Web2 [social login](../social-login/) and passwordless access.
- Choose between built-in, [plug-and-play](../plug-and-play-auth/) or [custom login UI](../custom-login-ui/).
- Secure, self-custodial keys without key management complexities.

**Web3 Wallet Operations**

- Developers can customize the blockchain transaction signing experience for users with [Arcana wallet visibility](../anwallet/walletvisibility/) settings.

- Authenticated users can securely sign transactions for [supported Web3 apps and frameworks](../../web3-stack/apps/)

- Supports Web3 wallet operations and standard Ethereum JSON-RPC calls, including:

  - Configure and switch networks and accounts.
  - Sign blockchain transactions.
  - Send and receive tokens and NFTs.
  - Manage NFTs and preview NFT details using the wallet.

- Customize transaction signing with Arcana wallet visibility settings.

- Supports [EVM and non-EVM blockchain networks](../../web3-stack/chains/).

- Supports Web3 wallet operations and Ethereum JSON-RPC calls, including:

  - Network and account management.
  - Signing transactions.
  - Sending and receiving tokens and NFTs.
  - Managing and previewing NFTs.

# Usage & Billing

This guide explains the payment model for using [social login](../social-login/) feature offered by the Arcana Auth SDK in Web3 apps.

## Pricing

Testnet usage is free.

### Mainnet

Each developer account enjoys a promotional free usage tier. Beyond this free tier, usage costs apply to all apps registered with Arcana under a developer account and are invoiced together.

For more details on the current billing rates and free tier limits contact [Arcana support](../../support/).

## Billing Metrics

Arcana Auth SDK monitors app usage with the following metrics:

- **Aggregate App Usage**: This metric tracks the 'Monthly Active Users (MAU)' across all apps registered with Arcana per developer account on the Mainnet. Total MAU data includes free and paid usage.

  Monthly Active Users (MAU)

- **Per App Usage**: This metric monitors the 'Daily Active Users (DAU)' and 'Monthly Active Users (MAU)' for individual apps on the Testnet. Data is also available for Mainnet usage per app.

  Monthly Active Users (MAU)

Testnet Usage is Free

Billing applies only to Arcana Mainnet usage.

## Billing Setup

Using the Arcana Developer Dashboard, developers can configure their Arcana account by providing essential information. Billing requires the following details:

- Organization
- Billing Address Details
- Payment Method

Adding Payment Method

It is a mandatory requirement to enter and save a valid address in your developer account prior to providing payment method details through the Arcana Developer Dashboard.

Once generated, developers can access their billing history and view the current outstanding invoice.

Testnet and Free Tier (Mainnet) Usage

Payment setup isn't needed for Testnet usage or for using the Mainnet's free tier. Web3 apps can integrate with Arcana Auth SDK for Testnet without it. However, after exhausting the free tier, setting up payment is essential for uninterrupted user onboarding on Arcana Mainnet.

## Billing Cycle

Arcana Mainnet usage beyond the free tier is billed **monthly**. Invoices are generated on the last day of each month, summarizing the collective app usage and charges for all apps under a developer account. Access invoice and usage specifics through Arcana Developer Dashboard by clicking on the user icon on the top right and selecting **Invoices**.

View Invoices

## Outstanding Dues

Outstanding dues must be paid in full; partial payments are not accepted.

Invoices factor in all promotional and free-tier MAU usage across registered apps for a developer account. Payment is due upon monthly invoice generation, with a notification sent to the developer. Payment is automatically deducted via the configured method. If payment fails, there's a 21-day grace period, with retry attempts every 7 days. During this period, registered apps function normally. After the grace period, if payment remains unsuccessful, the developer account is suspended, barring user access to registered apps.

Inactivity and non-payment for 3 months **may** result in app deletion and account termination.

## Billing Notifications

For billing notifications, refer to the bell icon on the top right of the Arcana Developer Dashboard screen.

Billing Notifications

The following billing notifications are displayed:

| Event | Notification | Notes | | --- | --- | --- | | Billing | Add card details for processing the payment. | The first time a developer logins, this message is displayed in the notifications section. | | Billing | Invoice for the current month has been generated. | Once the free-tier is over, at the end of every billing cycle, the dues are computed and an invoice is created. Developer is notified of the same. | | Billing | Payment successfully processed for this month. | Once the free-tier is over, monthly invoices are raised and payment automatically deducted from the specified payment method. | | Billing | Payment has been declined. | This notification will be displayed if the specified payment method fails when the invoice dues are processed, or if there are any payment errors due to insufficient funds. |

# Configuration Profiles

A configuration profile stores the Arcana Auth SDK usage settings for social login and wallet experience. Each registered app has two profiles:

- Testnet
- Mainnet

Use Arcana Auth SDK to view and update these profiles. By default, new apps use a Testnet profile. To create a Mainnet profile, you can either:

- Copy the Testnet profile
- Create a new Mainnet profile

Each app gets one unique Client ID per profile, one for Testnet and one for Mainnet.

When integrating a Web3 app with Arcana Auth SDK, specify the Testnet Client ID or Mainnet Client ID based on deployment. Note that wallet addresses will change when switching between Testnet and Mainnet profiles.

# Custom Login UI

Apps using the Arcana Auth SDK can onboard users via one of the two options:

- Plug-and-play Login UI: A built-in, ready-to-use login UI for [plug-and-play authentication](../plug-and-play-auth/).
- Custom Login UI: Build a custom login UI from scratch.

This decision is made at the time of SDK integration. This choice is not governed by any settings made via the Arcana Developer Dashboard.

After installing and integrating with the Arcana Auth SDK, create the `AuthProvider`, use `init` function to initialize the provider, create the necessary user interface hooks and call the `loginWithSocial` function with the desired social login provider to onboard users. For email-based onboarding, utilize the `loginWithOTP`(deprecated), `loginWithOTPStart` and `loginWithOTPComplete` functions, which sends users a verification link on the specified user email.

Here is an example of [how to onboard users via 'Google' as the social login provider and a custom login UI](../../auth/onboard/vanilla/custom-ui/build-social/google-oauth/). See [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/) for more details.

# Custom Wallet UI

Developers have two options to enable the embedded, non-custodial Arcana Web3 wallet functionality within the app's context:

- You can use the built-in, ready-to-use Arcana wallet UI *(default)*
- Alternatively, you have the choice to create a custom wallet user interface

You must decide to implement the custom wallet UI **before** installing and integrating with the Arcana Auth SDK. At the time of registering the app through Arcana Developer Dashboard, enter the app name, default chain and then select *Wallet UI Mode* value as `Custom UI` instead of the `Arcana UI`. In this case, the onus of creating user interface for signing blockchain transaction, displaying the user's account information, Web3 assets such as tokens, NFTs, etc., lies with the developer.

One time setting

Custom Wallet UI option is selected at the time of registering the app and cannot be reverted later.

See [how to enable custom wallet UI](../../auth/custom-wallet-ui/) during app registration before integrating with the Arcana Auth SDK.

# Arcana Developer Dashboard

The Arcana Developer Dashboard can be accessed at: <https://dashboard.arcana.network>

It lets Web3 developers register apps with Arcana and set SDK preferences. The dashboard manages app settings and usage through the Gateway node. It provides insights on Arcana protocol usage, including monthly and daily active users (MAU) per app. [Learn more...](../../setup/config-dApp-with-db/)

Developer Dashboard

Register, Configure then Integrate!

Before integrating any application with the Arcana Auth SDK, it must be [registered](../../setup/config-auth/register-app/) and [configured for user onboarding](../../setup/config-auth/) through the Arcana Developer Dashboard.

# Gateway Node

The gateway node is a vital part of the Arcana protocol. The Arcana Developer Dashboard interacts with the gateway for registering the apps and managing app configuration data, app usage data, and developer account billing, payment details.

# Verify Arcana JWT Token

Apps integrating with the Arcana Auth SDK receive a unique JWT token. This token is generated upon successful user authentication via these `AuthProvider` methods:

- Plug-and-play login UI: `connect()`
- Custom login UI: `loginWithSocial()`, `loginWithLink()`(deprecated), `loginWithOTPStart`, `loginWithOTPComplete`, and `loginWithBearer()`

The Arcana JWT token is generated with an asymmetric key. What this means is that after a successful user login, the app developers must use the public key in order to verify the received token.

Use the appropriate public key listed below to verify the token depending upon whether the app is deployed on the Arcana Testnet or Mainnet.

## Token Verification: Dev

```
-----BEGIN PUBLIC KEY-----
MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAES2oy0bmXvYh1dIVU017/WW17Wdet
Clx9+8HxPvGHegrBaoZadbeKhfBSfQbxBcdzpDe+3EqUVwvwH3hMIoqa3A==
-----END PUBLIC KEY-----

```

## Token Verification: Testnet

```
-----BEGIN PUBLIC KEY-----
MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAETjlG1BIL2x0LwJH5iIxXXfJaokUb
5EyhK8/TCwlQbVPFy6N40kD4Bnbs4JRJOEssp5/YSgUnrR8JrB0QgC+NpA==
-----END PUBLIC KEY-----

```

## Token Verification: Mainnet

```
-----BEGIN PUBLIC KEY-----
MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAE0UWoYfR6ii+6PTfWPDtY8jKLJtL1
8+Nu+qDkaMjFXVlWg6oVpHdBMBvsmia2aQsrjKrYHdmMz5bntsEAu+7QdA==
-----END PUBLIC KEY-----

```

# Keyspace Types

Arcana Auth SDK supports the following key types:

App-specific keys are unique to each Web3 app using the Arcana Auth SDK. If a user logs into two different apps with the SDK, they'll have a unique wallet address in each app.

In Web2, users often reuse passwords. Similarly, Web3 apps using Arcana Auth SDK can enable the same global wallet address across apps with the global keys option.

While global keys streamline user experience, they pose a security risk. If one app is breached, a malicious actor could access the userâ€™s digital assets across all apps using the same global keys.

```
flowchart LR 
    subgraph D [ ]
        A1(((Developer))) 
    end
    subgraph KT [Keyspace Configuration]
    direction LR
        A1--> B1(Dashboard Login) --> C1[App A Settings] -- Configure Keyspace --> D1[Global Keys]
        B1 -->C2[App B Settings] -- Configure Keyspace --> D2[App-Specific Keys]
        B1 -->Cz[App Z Settings] -- Configure Keyspace --> Dz[Global Keys]
    end

classDef an-highlight stroke:#3169b3,stroke-width:0.25rem; 
class D1,Dz an-highlight
```

```
flowchart LR 
    subgraph U [ ]
        A3(((User 1)))
    end
    subgraph ULZ [User 1 Logs in - App Z]
        direction LR
        A3 --> BZ(App Z Login) -- Authenticated --> CZ(Arcana Wallet in App Z) --> DZ[Wallet Address UA1]
    end
    subgraph ULB [User 1 Logs in - App B]
    direction LR
        A3 --> B33(App B Login) -- Authenticated --> C33(Arcana Wallet in App B) --> D33[Wallet Address UB1]
    end
    subgraph ULA [User 1 Logs in - App A]
    direction LR
        A3 --> B3(App A Login) -- Authenticated --> C3(Arcana Wallet in App A) --> D3[Wallet Address UA1]
    end

classDef an-highlight stroke:#3169b3,stroke-width:0.25rem;
class D3,DZ an-highlight
```

## Enabling Global Keys

By default, apps use app-specific keys. Developers can switch to global keys via the Arcana Developer Dashboard. To enable global keys, they must request activation through an online form. Activation may take a few hours for verification. Meanwhile, developers can continue using app-specific keys.

## UX with Global Keys

Switching to global keys in the Arcana Auth SDK changes the user experience with Arcana wallet.

- If users previously had app-specific keys, theyâ€™ll see a new wallet address with global keys.
- Blockchain transaction signing will also change. With app-specific keys, a personal sign message pops up within the same app. With global keys, it opens in a new browser tab where users can sign and then close the tab.

Wallet behavior (No clickjacking fix)

Wallet behavior (With clickjacking fix)

## Switching Keyspace

Apps use app-specific keys by default. Developers can switch to global keys using the Arcana Developer Dashboard based on privacy, security, or usability needs.

Note that Switching keyspace will change the userâ€™s wallet address.

## Global Keys Limitations

- Apps that are configured to use the custom wallet UI option instead of using the default, built-in, Arcana Auth SDK UI **cannot** use global keys.
- Apps that are configured to use [Custom Auth](../authtype/custom-auth/) feature **cannot** use global keys.

The reason for these restriction is to reduce a potential [security vulnerability](./#security).

## Security

Arcana follows a strict validation process for enabling global keys. However, using global keys may introduce security risks.

While global keys offer convenience by providing a consistent wallet address across apps, they also create a vulnerability. If one app turns malicious, the user's key could be exposed across all apps using global keys, leading to unauthorized access.

# Multi-Factor Authentication

Arcana Auth SDK enhances wallet security with multi-factor authentication (MFA).

MFA adds an extra verification step when accessing the wallet from a new browser or device. It stores a local share of the private key on the user's device. If lost, users can recover it using security questions or a recovery pin during login from a new device or browser. Once recovered, this information is not needed again for the same device or browser.

MFA improves security by requiring more than just an email or social identifier. Even if an attacker gains access, they cannot bypass MFA without the security questions or recovery pin. Additionally, MFA protects user keys even if the [ADKG subsystem](../adkg/) is compromised.

## Enabling MFA

The MFA feature requires no SDK usage configuration from the developer. Users can choose to enable MFA for the Arcana wallet at the first login or later by entering security questions and a recovery PIN.

MFA: Under the Hood

### Security Questions

Users can select any 5 security questions from the provided options or create custom questions. These questions and answers together serve as a seed to generate a share of the user's private key.

### Recovery Pin

Users must also create a 6-digit alphanumeric PIN. This PIN encrypts and stores one of the multiple verification factors used by MFA. It serves as a backup, stored securely with Arcana, in case the user changes devices or loses the locally stored encrypted component in their browser's cache.

Cannot Disable MFA

MFA, once enabled, cannot be disabled to ensure maximum security.

## User Experience with MFA

Without MFA, users experience no change when logging into a Web3 app from different devices or browsers using Arcana Auth SDK. They can log in and access the Arcana wallet as usual. However, if their social provider account is compromised, their access to the wallet and keys is at risk.

With MFA enabled, users face a different login process **only when they use a new device or browser**. They must either answer three security questions or enter a security PIN when logging into the Web3 app to access the Arcana wallet.

# Non-EVM Chains

Arcana Auth SDK supports EVM-compatible and non-EVM chains. Pre-configured blockchain networks are available. Users log into Web3 apps and can immediately use the Arcana wallet to sign transactions on the active chain.

Non-EVM Chains

When registering an app through Arcana Developer Dashboard, the choice of chain type (EVM, Solana, MultiversX, Near) is final. App developers can't change it later. They can switch the default chain within the same type. For example, a Solana app on Testnet can switch to Solana Mainnet or Solana Dev but not to MultiversX or an EVM chain.

## Web3 Wallet Operations

The [Web3 wallet operations and JSON/RPC functions](../../auth/web3-ops/evm/) supported by the `AuthProvider` obtained via the Arcana Auth SDK may vary for non-EVM chains.

### Solana

- `signMessage`
- `signTransaction`
- `signAllTransactions`
- `signAndSendTransaction`

### MultiversX

- `mvx_signMessage`
- `mvx_signTransaction`
- `mvx_signTransactions`
- `getAccounts`
- `getPublicKey`

### Near

- `getAccounts`
- `near_signMessage`
- `near_signAndSendTransaction`

Adding Non-EVM chains

When a non-EVM chain is selected for an app, developers and users **cannot add** other chain types (EVM or different non-EVM chains) in Arcana wallet. This is due to the lack of a uniform standard for wallet addresses across non-EVM chains, which means switching chain types may alter the wallet address.

## Keyspace User Experience

Developers can customize wallet experiences by selecting the keyspace type in Arcana Developer Dashboard.

With app-specific keys, users get unique keys for each app, no matter the chain type.

With global keys, users have the same wallet address across apps on EVM-compatible chains.

For non-EVM chains, global keys result in different wallet addresses due to different cryptographic algorithms. EVM chains use the secp256k1 curve, Solana uses the [ED 25519 curve](https://en.wikipedia.org/wiki/EdDSA#Ed25519) , and MultiversX uses BLS multi-signatures. Therefore, users will see different wallet addresses if an app uses an EVM chain and another uses a non-EVM chain or different non-EVM chains.

# Plug & Play Auth

Plug & Play Auth is the default login UI in Arcana Auth SDK. Web3 apps can use the [`connect`](https://authsdk-ref-guide.netlify.app/classes/authprovider#connect) method to show this built-in UI with the configured onboarding options from [Arcana Developer Dashboard](../dashboard/). Developers can use this ready-made UI instead of creating a [custom login UI](../custom-login-ui/).

Plug & Play Login UI

```
flowchart LR 
    subgraph A [Plug & Play vs. Custom Login UI]
    direction LR
        A1(((Developer))) -- 1.Register App --> B1(Dashboard Login)
        B1  --> C1[Get Client ID] --> E1[Initialize <code>AuthProvider</code>]
        A1 -- 2.Integrate App --> D1[Install Auth SDK] --> E1 --> O[Onboard Users]
    end
classDef an-highlight stroke:#3169b3,stroke-width:0.25rem;
class F1 an-highlight
```

```
flowchart LR
    subgraph B [Onboard Users]
    direction LR
        O[Onboard Users] -- Plug-and-Play Login UI--> F1[<code>connect</code>]
        O -- Custom Login UI --> P1{Provider Type} -- Social Providers --> G1[<code>loginWithSocial</code>]
        P1 -- IAM Provider Firebase --> H1[<code>loginWithBearer</code>]
    end

classDef an-highlight stroke:#3169b3,stroke-width:0.25rem;
class F1 an-highlight
```

## Compact Modal

The built-in plug-and-play login UI includes a compact modal and a normal-sized modal. Choose the compact modal by setting `compact: true` in `connectOptions` when instantiating `AuthProvider`. For more details, see [`AuthProvider` constructor parameters](https://authsdk-ref-guide.netlify.app/interfaces/constructorparams).

```
import { AuthProvider, CHAIN } from '@arcana/auth'

interface ChainConfig {
  chainId: CHAIN
  rpcUrl?: string
}

const auth = new AuthProvider(`${clientId}`, {
  position: 'left',        // default - right
  theme: 'light',          // default - dark
  alwaysVisible: false,    // default - true
  setWindowProvider: true, // default - false
  connectOptions: {
    compact: true // default - false
  },
  chainConfig: {
    chainId: CHAIN.POLYGON_MAINNET,
    rpcUrl: '',
  },
})

await auth.init()

```

Plug & Play Login UI Types

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../an-did-token/#verify-did-token) and subsequently generate another token for app use.

# Private Key

A private key is a secret linked to the user's Arcana wallet. It is generated by the asynchronous distributed key generator ([ADKG](../adkg/)) component of the protocol used by the Arcana Auth SDK. [Only the user can access it](../../faq/faq-auth/#user-key-privacy).

Users can export their private key securely via the Arcana wallet UI. The user is responsible for securing the exported key.

# Arcana Session Types

Session management settings allow Web3 app developers to decide if a user session persists after the browser window or tab is closed and reopened. Session cookies control how long an authenticated user session remains active without requiring the user to log in again.

Arcana wallet supports two types of sessions:

- Persistent
- Non-Persistent

Session Cookies

In both these cases, the session cookies are immediately invalidated once the user logs out of the app.

## Persistent Session

The authenticated session remains valid within a specified time, so users don't need to log in again after closing and reopening the browser.

Use the 'Require Log-in After' setting to specify how long a session is persisted once the browser is closed. The 'Require Log-in After' setting does not impact any active user session. The user is not forcefully logged out after the time expires. It is only used to track session persistence in case the user closes the browser without explicitly logging out.

Session cookies are used to manage session persistence. After the specified timeout, the cookies are deleted.

A persistent session is convenient for app users but carries some risk since it automatically logs the user in when the app is reopened. Ensure the re-login time aligns with the app's security and risk management profile.

Not supported for Global Keyspace Setting

The persistent session type is enabled only for the default [app-specific keyspace](../keyspace-types/) setting. For security reasons, it is disabled for apps using global keyspace.

Incognito/Private Browser Mode

If the session cookies are disabled in incognito or private browsing mode, then there is no user session persistence when the browser is closed. The behavior is the same as the non-persistent mode.

## Non-Persistent Session

If the browser is closed, the authenticated session is invalidated immediately. Users must log in again to continue using the app. By default, a newly registered app is configured to use a non-persistent session type.

# Social Login

Social Login allows users to sign in using popular Web2 identity providers like Google and Twitter or through passwordless authentication.

Web3 apps require private keys to operate wallets, but managing them can be complex for new users, often leading to drop-offs during onboarding.

By removing the need to set up and manage private keys, social login simplifies Web3 onboarding. The familiar Web2-style login makes the process seamless for new users.

## Non-Custodial Social Login

Arcana Auth SDK offers social login without compromising privacy.

Many Web3 authentication providers offer social login, but most rely on custodial wallets, meaning a third party can access users' keys and funds, compromising privacy and control.

Arcana Auth SDK's social login provides a non-custodial, in-app wallet. It combines the ease of social login with full user privacy, security, and key ownership.

## Enabling Social Login

The Arcana Auth SDK supports user onboarding via email, [social login providers](../../web3-stack/auth/), [third-party IAM providers](../../web3-stack/auth/) and [custom authentication](../authtype/custom-auth/) as well.

Compare Wallet Types & Capabilities

# Application Usage Metrics

Arcana Developer Dashboard displays the aggregate value of **Monthly Active Users (MAU)** for the Arcana Mainnet. The aggregate value includes MAU for all the applications that are registered against a developer's Arcana account.

The aggregate usage metrics are displayed in the *Manage Apps Screen*. The per-application metrics are displayed on the *Application Dashboard* screen.

**Manage Apps Screen**:

- Aggregate Monthly Active Users (Mainnet)
- Number of free MAU (Mainnet)
- Number of paid MAU (Mainnet)

Per App Usage Metrics

**Application Dashboard**:

- Testnet: Daily MAU, Monthly MAU
- Mainnet: Daily MAU, Monthly MAU

Testnet/Mainnet Usage Metrics

Mainnet Usage

The number of logged-in users is tracked separately for the 'Testnet' and 'Mainnet' application profiles. Arcana Testnet usage is not billed.

# Validator Nodes

Validator nodes play a crucial role in ensuring the decentralization of the Arcana blockchain protocol components used in securely generating user's [private key](../private-key/) for signing blockchain transactions. These partner infrastructure nodes participate in the distributed key generation process([ADKG](../adkg/)), that generates key shares (not the key itself) for users. The private key is only created within the authenticated user's context in the app.

At the launch of the Mainnet, some nodes in the DKG subsystem are owned and operated by Arcana, while the remaining nodes are owned and run by trusted partners. In the future, other third parties will be allowed to participate in the key generation protocol.

For more information on the latest implementation of asynchronous distributed key generation (ADKG), consult the see [Arcana Technical Whitepaper](https://www.notion.so/Arcana-Technical-Docs-a1d7fd0d2970452586c693e4fee14d08).

# Smart Contracts

The Arcana [Chain Abstraction(CA)](../../ca/chain-abstraction/) and Web3 authentication protocols are implemented through a bunch of smart contracts. These upgradeable contracts enforce protocol rules, ensure user data privacy, security and work with the Arcana Gateway for enabling [unified balance](../../ca/unified-balance/) and [social-login](../../social-login/) for Web3 authentication and wallet access control.

## Chain Abstraction

The Arcana chain abstraction feature is implemented through components built and deployed in the Cosmos ecosystem. In addition to those, it also implements smart contracts for Vault functionality on all supported chains.

## Web3 Authentication

Arcana Auth feature related smart contracts are implemented on the Polygon Network. These define and manage the logic and state of Web3 authentication for app users without storing any user credentials.

# Arcana Auth SDK: Deployed Contracts

| Arcana Auth SDK Contract | Type/Category | Purpose | | --- | --- | --- | | `Arcana.sol` [V1 or V2] | Beacon Proxy/Core System | Main logic contract for Arcana Store operations primarily associated with managing user data privacy and access control. | | `Factory.sol` | UUPS Proxy/Core System | Smart contract generator per app that registers with Arcana | | `ArcanaBeacon.sol` | UUPS Proxy/Core System | Smart contract to manage the per app association between the latest `Arcana.sol` main logic contract and the app | | `BeaconProxy.sol` | Beacon Proxy/dApp | This is a per app smart contract that stores the data related to the program state. It interacts with `ArcanaBeacon.sol` smart contract to refer to the latest Arcana Auth SDK authentication core logic contract. | | `Forwarder.sol` | UUPS Proxy/Core System | Manages meta transactions for app users. Forwards Gateway proxy calls (on behalf of the app) to `Arcana.sol` main logic contract | | `NodeList.sol` | Core System | Keeps track of ADKG nodes and their epochs. |

**`Arcana.sol`**

The `Arcana.sol` contract is crucial for the Arcana Auth SDK protocol. It handles UI configuration for managing blockchain transaction signing experience. Itâ€™s an upgradable beacon proxy and shares metadata with other contracts via pass-through data mechanisms.

**`Factory.sol`**

When a new app registers with Arcana Auth SDK, the factory contract activates. This singleton UUPS proxy contract generates app-specific `BeaconProxy.sol` contracts and implements core system logic.

**`BeaconProxy.sol`**

During registration with Arcana Developer Dashboard, each app gets a BeaconProxy contract. The Arcana Auth SDK Factory.sol deploys it. The BeaconProxy always points to the latest `Arcana.sol` version, managed by `ArcanaBeacon.sol`.

**`ArcanaBeacon.sol`**

The Arcana Beacon contract points to the latest Arcana Auth SDK core logic, whether V1, V2, or Vn. Itâ€™s a UUPS proxy upgradable contract, ensuring the Arcana Auth SDK Protocol remains upgradeable.

**`Forwarder.sol`**

The UUPS proxy upgradable `Forwarder.sol` manages meta transactions, which are Ethereum transactions containing another transaction. Meta transactions allow external entities like the Arcana Gateway to pay gas fees, thus easing onboarding for new users. The Gateway uses them for Arcana Auth SDK related data and access. `Forwarder.sol` works with an ERC-2771 compatible contract to forward transactions from the Gateway to the core `Arcana.sol` contract.

**`NodeList.sol`**

`NodeList.sol` manages the Arcana Auth SDK protocol functionality related to the asynchronous distributed key generation (ADKG). It tracks public ADKG node information, epoch details, the buffer size for â€˜pre-generatedâ€™ keys, and validator node whitelisting.

## Contract Flows

The workflows below show how Arcana smart contracts implement the Arcana Auth SDK protocol:

1. Data access flow
1. New app registration flow

- All app user operation-related calls made via the client-side Arcana Auth SDK are intercepted by the Arcana Gateway.

- The Gateway executes the meta transactions with relevant data and signatures.

- Forwarder forwards the transaction via the per-app `BeaconProxy.sol` smart contract.

- The BeaconProxy requests the current Arcana core system contract, `Arcana.sol`, from the `ArcanaBeacon.sol` contract.

- After receiving the address of the latest Arcana core system contract from the `ArcanaBeacon` contract, the BeaconProxy delegates the forwarded call to the Arcana system contract.

- Arcana contract actually executes the transaction.

- When a new app is registered at the Arcana Developer Dashboard, it interacts with the Arcana Gateway to initialize the program state of the app.

- The `Factory.sol` smart contract is invoked to create a new `BeaconProxy.sol` contract that is solely associated with this newly registered app. Each app has its own BeaconProxy contract deployed.

- The `BeaconProxy.sol` contract stores the per-app data related to the program state.

- The BeaconProxy communicates with the `ArcanaBeacon` contract to obtain the address of the latest Arcana core system contract. This ensures that each app contract knows and utilizes the latest supported Arcana Auth SDK protocol.

# Arcana Smart Contract Types

Arcana uses different smart contracts to implement unified balance and social login features through its blockchain protocol. Some contracts are deployed by default, while others activate when apps register. The protocol uses an upgradable proxy contract pattern.

## Proxy Contract Patterns

Multiple [upgradable proxy contract](https://docs.openzeppelin.com/contracts/3.x/api/proxy#UpgradeableProxy) patterns are available, including [diamond proxy](https://blog.logrocket.com/using-uups-proxy-pattern-upgrade-smart-contracts/#what-is-a-diamond-pattern), [transparent proxy](https://blog.logrocket.com/using-uups-proxy-pattern-upgrade-smart-contracts/#what-is-a-transparent-proxy-pattern), [beacon proxy](https://docs.openzeppelin.com/contracts/3.x/api/proxy#beacon), and [UUPS proxy](https://blog.logrocket.com/using-uups-proxy-pattern-upgrade-smart-contracts/#what-is-a-uups-proxy-pattern).

Arcana Auth SDK uses the following proxy contract patterns:

- UUPS proxy
- Beacon proxy

Proxy Contract Patterns

## Arcana Contract Types

The smart contracts used to implement the logic for the Arcana Auth SDK fall into two categories:

1. **Core System Contracts:** These singleton contracts implement the core Arcana Auth SDK protocol. Not all of them store data (program state).
1. **dApp Contracts:** Deployed per app after registration with Arcana Developer Dashboard. Only registered apps can integrate with the Arcana Auth SDK.

Arcana Contract Types

# Overview

Arcana wallet is an in-app, non-custodial wallet embedded in Web3 apps that use Arcana Auth SDK. No browser extension is needed. Authenticated users get instant, secure access to the wallet for blockchain transactions. Keys are generated locally via the asynchronous distributed key generation system, ensuring full control over key privacy without complex cryptography.

## Wallet Features

- Check account balance
- Sign (Approve/Reject) blockchain transactions
- Speed up transactions
- Add, modify, switch blockchain networks
- Deploy smart contracts
- Manage token assets (native and custom)
  - Check account balance
  - List token assets
  - Add custom tokens (ERC-20)
  - Send and receive tokens
  - Buy/Sell crypto
- Manage NFTs
  - List NFT assets
  - View NFT details
  - Send NFTs (ERC-721, ERC-1155)
  - Add NFTs
  - Modify (edit, delete) NFT metadata
- View account transaction activity (NFT, Token send transactions, contracts deployment, etc.)
- View pending transactions in the activity tab
- Use the standard Ethereum 1193 provider interface to call [JSON/RPC functions](https://ethereum.github.io/execution-apis/api-documentation/) and supported Web3 wallet operations for the network
- Export private key
- Enable [enhanced security via MFA](../../user-guides/mfa/mfa-ug/)
- Logout

**Not Supported**

The Arcana wallet does not allow an app user to import any blockchain account created using a third-party wallet provider.

## Wallet Customization

Arcana wallet offers great flexibility and customization options as per the app requirements.

- **UX:** Developers can manage the users' blockchain signing experience by [customizing branding, theme](../../setup/config-dApp-with-db/#settings-overview), [wallet positioning](https://authsdk-ref-guide.netlify.app/interfaces/constructorparams) in the app, selecting the default active chain, [modifying pre-configured networks](../../user-guides/wallet-ui/use-wallet-ui/#addselect-a-network), and using [visibility](walletvisibility/) options.
- **Custom Wallet UI:** Replace the built-in, default wallet UI with a [custom wallet UI](../custom-wallet-ui/).

## Supported Chains

Arcana wallet comes pre-configured with a subset of the [supported blockchain networks](../../web3-stack/chains/). This pre-configured list can be updated with other supported networks [programmatically](../../auth/web3-ops/evm/#add-network) or via the [wallet UI](../../user-guides/wallet-ui/use-wallet-ui/).

[Learn more...](../../user-guides/wallet-ui/)

# Network Switching

The Arcana wallet UI shows a subset of supported blockchain networks. Users can switch the active wallet network by clicking the dropdown next to the network icon in the UI. They can also add to the network list or edit the entries.

Web3 app developers can programmatically modify the pre-configured network list and set a default network during app setup via Arcana Developer Dashboard. This is done using the `wallet_addEthereumChain` and `wallet_switchEthereumChain` JSON/RPC methods supported by the Arcana Auth SDK.

The `wallet_switchEthereumChain` method switches the active chain only after the user approves the network switch transaction.

Wallet Chain Edit Persistence

The list of networks configured by the developer, either programmatically or via the dashboard, persists across user login sessions.

User changes to blockchain networks through the Arcana wallet UI are stored locally and lost when the user logs out.

Switching Blockchain Networks

Switching chains in the wallet typically doesnâ€™t change the wallet address when switching to another EVM-compatible chain. However, switching to a non-EVM-compatible blockchain supported by Arcana Auth SDK will assign a new set of keys and a different wallet address.

# Transaction Types

Blockchain transactions triggered through Arcana wallet require user review and approval or rejection. Users see a notification message in the app context for review. Depending on the transaction type, the message may be:

- Personal Sign
- Chain Switch
- Send Transaction
- Deploy Contract

Each message appears in a minimized notification widget. Users can click the arrow button to expand and review the details.

## Personal Sign

Personal Sign Message

## Chain Switch

Switch Chain Transaction

## Send Transaction

Send Transaction

## Deploy Contract

Deploy Contract Sign Message

# UI Modes

The [Arcana wallet](../) can be customized by Web3 app developers through the Arcana Developer Dashboard. When registering the app via the dashboard, developers must choose one of the wallet UI modes:

- Built-in Arcana wallet UI (default)
- Custom wallet UI.

To use a custom wallet UI, developers should select the UI mode as 'Custom UI' during app creation on the Arcana Developer Dashboard. This choice is final and cannot be changed later.

AuthProvider: `appMode` and `alwaysVisible` flags

Developers can control the wallet UI mode and when the wallet UI is displayed in the app context through the following customizations:

1. **UI Mode**: Choose between the Arcana wallet UI or a custom wallet UI. Set this in the dashboard's Wallet UI Mode when creating and registering a new app. There is also an [`appMode` flag](https://authsdk-ref-guide.netlify.app/interfaces/constructorparams) in the `AuthProvider` which can override this setting in the dashboard. If 'Custom UI' is selected via the dashboard then the `appMode` flag in `AuthProvider` is ignored.
1. **Always Visible**: Decide if the wallet is always visible in the app or only during a blockchain transaction. The [`alwaysVisible` flag](https://authsdk-ref-guide.netlify.app/interfaces/constructorparams) can be set to false (default is true) when creating a new `AuthProvider`. If using the Arcana wallet UI, this flag controls visibility. By default, the UI is always visible as a minimized widget. When set to `false`, the UI only appears during a blockchain transaction or when the developer calls the [`showWallet()`](https://authsdk-ref-guide.netlify.app/classes/authprovider#showWallet) method of the `AuthProvider`. The `alwaysVisible` flag is ignored if a custom UI is selected in the dashboard's Wallet UI Mode.

# Wallet Visibility

Web3 app developers can control Arcana wallet visibility by setting the `alwaysVisible` flag when instantiating the `AuthProvider` during app integration with the Arcana Auth SDK.

By default, `alwaysVisible` is set to `true` and the wallet is displayed immediately after a user logs into the app that is integrated with the Arcana Auth SDK. As the wallet is always visible in the context of the app, an authenticated user has full access to all the Web3 wallet operations supported by the Arcana wallet.

Wallet In-app Visibility: Enabled

If `alwaysVisible` is set to `false`, then the Arcana wallet UI does not show up on the application window immediately after a user logs in. The Arcana wallet UI is displayed only when a blockchain transaction is triggered that requires the user's approval or if the app issues the `showWallet()` method.

Wallet In-app Visibility: Disabled

AuthProvider: `appMode` and `alwaysVisible` flags

Developers can control the wallet UI mode and when the wallet UI is displayed in the app context through the following customizations:

1. **UI Mode**: Choose between the Arcana wallet UI or a custom wallet UI. Set this in the dashboard's Wallet UI Mode when creating and registering a new app. There is also an [`appMode` flag](https://authsdk-ref-guide.netlify.app/interfaces/constructorparams) in the `AuthProvider` which can override this setting in the dashboard. If 'Custom UI' is selected via the dashboard then the `appMode` flag in `AuthProvider` is ignored.
1. **Always Visible**: Decide if the wallet is always visible in the app or only during a blockchain transaction. The [`alwaysVisible` flag](https://authsdk-ref-guide.netlify.app/interfaces/constructorparams) can be set to false (default is true) when creating a new `AuthProvider`. If using the Arcana wallet UI, this flag controls visibility. By default, the UI is always visible as a minimized widget. When set to `false`, the UI only appears during a blockchain transaction or when the developer calls the [`showWallet()`](https://authsdk-ref-guide.netlify.app/classes/authprovider#showWallet) method of the `AuthProvider`. The `alwaysVisible` flag is ignored if a custom UI is selected in the dashboard's Wallet UI Mode.

# Web3 Onboarding

In Web3, decentralized systems use trustless protocols and cryptography for identity verification, which involves complex key management. This makes onboarding to Web3 apps harder for users as they require private keys for signing transactions. Managing these keys is challenging, with no central recovery if lost, unlike Web2's password recovery.

The [Arcana Auth SDK](../authsdk/) simplifies Web3 onboarding by enabling secure Web3 access and blockchain transaction signing. Users can log into apps using familiar Web2 methods and have self-custody of their cryptographic keys.

## Authentication Options

Web3 apps using the Arcana Auth SDK can authenticate users via any of these options:

- [Social Login Providers](socialauth/)
- [Custom Auth](custom-auth/)
- [Passkey Auth](auth-passkeys/)

User Key Security & Privacy

The Arcana Auth SDK uses the asynchronous distributed key generation ([ADKG](../adkg/)) to securely assign key shares to authenticated users. The user's private key is generated from these key shares on the client side. For added security, users can enable multi-factor authentication ([MFA](../mfa/)).

# Passkey Auth

Passkey is a digital credential that binds a user account with a website or application.

Passkeys use public key cryptography that reduces the threat from potential data breaches. They are safer than passwords as they reduce the attack surface. Since passkeys are uniquely generated for every account by the user device and work only on the registered websites and apps, they are less vulnerable to phishing.

The Passkeys Auth feature in the Arcana Auth SDK lets Web3 apps to onboard users through a biometrics sensor (such as a fingerprint or facial recognition), a PIN, or a pattern supported by the OS or device where the app is running.

```
graph LR
  A[[User]]--Create Passkey--> D(Public/Private Key)--Store-->C>Browser/User Device];

classDef an-highlight stroke:#3169b3,stroke-width:0.25rem; 
class C,D an-highlight
```

## Security & Privacy

Passkeys are based on [FIDO standards](https://en.wikipedia.org/wiki/FIDO_Alliance), they work on Android, Chrome, Microsoft Windows, Microsoft Edge, MacOS, iOS and Safari.

Note that when logging in to an app via a passkey, there is no biometrics information or any sensitive information that is shared with the associated website for authentication. Also, passkeys by themselves do not allow tracking of users or devices across sites. Passkeys use public key cryptography. A publicâ€“private key pair is generated when a user creates a passkey for a site or application. This is generated on the user's device. Only the public key is stored by the site. Device based passkey managers protect passkeys from unauthorized access and use.

Passkeys do not expire but they can be unlinked/deleted and new ones linked/created, if required.

## How do Passkeys Work?

Passkeys are intended to be used through operating system infrastructure that allows passkey managers to create, backup, and make passkeys available to the applications running on that operating system.

Each passkey is linked or bound to the app or website.

Users aren't restricted to using the passkey only on the device where they're available. The passkey available on phones can be used when logging into a laptop, even if the passkey isn't synchronized to the laptop, as long as the phone is near the laptop and the user approves the sign-in on the phone.

```
graph LR
    L[[User on Device A]]--1.Choose Login with Passkeys Option-->M[App/Website]
    M --2.Passkey Challenge-->L
    L --3.Challenge Response--> M
    M -.-> V{Challenge Match}==Yes==>M--4.User Authenticated-->L
```

## Passkey Usage Options

Apps can enable passkey authentication for onboarding in two ways:

- Use passkeys for **sign-up & login**
- Offer passkeys as an **alternate login** method

### Sign-up & Login

Apps that support only passkey auth can go all-in on this option. Users can sign up, create an account, and set up passkey login all in one goâ€”no need for any other login method.

```
graph LR

  U[[User on Device/Browser]] --1a.App Sign-up/Register Passkey--> K>App/Website];
  U --1b.Create Passkey--> PK(Public/Private Key)-->U;
  U --Store Public Key--> K
  U --2.Login with Passkey--> K --> L((User Authenticated));

  classDef an-highlight stroke:#3169b3,stroke-width:0.25rem; 
  class L an-highlight
```

For subsequent app logins, the browser or operating system will prompt the user to select and use one of the passkeys linked with the app. To validate and ensure that the rightful owner uses a passkey, the operating system may ask users to unlock their device before supplying the passkey for authentication.

### Alternate Login

Apps with multiple onboarding options only let users log in with passkeys after theyâ€™ve first used another login method and set up passkeys for future use.

Users need to sign up and log in using a different method before they can enable passkeys for future logins. Keep in mind, passkeys canâ€™t be used for the initial sign-up.

```
graph LR

  U[[User on Device/Browser]]--1.App Login (non-passkey)-->K>App/Website];
  U--2.Create/Link Passkey-->PK(Public/Private Key)-->U;
  U--Store Public Key-->K
  U--3.Login with Passkey-->K-->L((User Authenticated));

  classDef an-highlight stroke:#3169b3,stroke-width:0.25rem; 
  class L an-highlight
```

After setting up passkey for an account, on the subsequent log in attempt to the website or app, passkeys can be used. When signing in via passkeys, the browser or operating system will prompt the user to select one of the passkey associated with the app or website. To validate and ensure that the rightful owner uses a passkey, the operating system may ask users to unlock their device before supplying the passkeys list to choose from.

## Passkey Configuration

1. Log in to the Arcana Developer Dashboard and register the app to get a unique Client ID. Then configure [domain](#domain) setting in the dashboard.

   ```
   graph TD
       DFLA{{ Developer }} --Login --> setup

       subgraph setup[Arcana Developer Dashboard]
       direction LR  
           SP1[1.Register App] --> CLID((Unique ClientID))
           SP2[2.Configure App] --> SP3[Edit/Save Passkey Usage Settings]
       end
       classDef an-highlight stroke:#3169b3,stroke-width:0.25rem; 
       class CLID an-highlight

   ```

   2. Install Arcana Auth SDK, integrate it with your app, and initialize `AuthProvide`r. Choose the passkey onboarding option that fits your needs: use `registerWithPasskey()` for [sign-up with passkey](./#sign-up-login) option or `linkPasskey()` for using passkey as an [alternate login](./#alternate-login). Then, log in users with `loginWithPasskeys()`.

   ```
   graph TD
       DFLA{{ Developer }} --1.Install --> authsdk
       DFLA --2.ClientID -->AUTHP
       DFLA --3.Select Sign-up/Alternate Login Passkey Onboarding -->POP -->COA
       subgraph app[App]
           AUTHP[Create/Init AuthProvider] --> authsdk
           COA[B. Call loginWithPasskeys] --> authsdk
           POP[A. Call registerWithPasskey/linkPasskey]
           subgraph authsdk[Arcana Auth SDK]
           direction TB 
               SDK1[AuthProvider Interface] 
           end
       end
       linkStyle 1,2 stroke: #3169b3;
       authsdk --Process Passkeys Login --> STD[Standard Passkey Validation via OS/Browser]
       authsdk --Fetch Key Shares --> BEP[Arcana Auth Protocol] <--> BEK[DKG]
   ```

1. The Arcana Auth SDK uses the application details from the dashboard settings and `loginWithPasskeys` input data for Passkeys login processing. After verification, it gets the user's key shares from the Arcana backend and generates a user specific key locally in the app. This key lets users securely sign blockchain transactions.

   ```
   graph LR
       BED[Arcana Developer Dashboard] --Passkey Usage Settings--> BEC{Gateway} 
       BEC <--> BEA[Arcana Auth Protocol] <--> BEDKG[DKG]
   ```

### Domain

To enable passkey login for an app, as part of configuration settings, the developer must use the Arcana Auth SDK and specify the **Domain** of the relying party. The domain is typically a CNAME or vanity URL.

Relying Party

The relying party is the website or Web3 app that allows user to create passkeys or authenticate with passkeys.

When a user enrolls a passkey, it associates with the relying party domain. If the domain name changes at any time, all of the passkeys associated with the old domain become invalid.

# Custom Auth

The custom Auth feature enables Web3 apps to use the Arcana Auth SDK for secure key assignment. Authenticate users with a Custom Auth service, issue JWT tokens, and send them to the SDK. The SDK verifies users, retrieves key shares, and generates the private key for blockchain transactions on the client side.

Global Key Apps not supported!

Custom Auth feature is supported only if the app is configured for [app-specific key type](../../keyspace-types/).

## Authentication Flow

1. Log in to the Arcana Developer Dashboard and register the app to get a unique Client ID. Then [configure Custom Auth settings](#custom-auth-settings) in the dashboard.

   ```
   graph TD
       DFLA{{ Developer }} --Login --> setup

       subgraph setup[Arcana Developer Dashboard]
       direction LR  
           SP1[1.Register App] --> CLID((Unique ClientID))
           SP2[2.Configure App] --> SP3[Edit/Save Custom Auth Settings]
       end
       classDef an-highlight stroke:#3169b3,stroke-width:0.25rem; 
       class CLID an-highlight

   ```

1. Add code in the app for using a Custom Auth service and obtains a JWT after user authentication.

   ```
   graph LR
       IAP{{ Developer }}
       MMM(Custom Authentication Service)
       subgraph app[App]
       direction LR
       CL[Custom Login]
       end
       IAP --> CL -->  MMM --->|JWT Token| CL

       linkStyle 2 stroke: #3169b3;
   ```

1. Next, install Arcana Auth SDK, integrate app with the SDK, initialize `AuthProvider` and then use the JWT obtained after the Custom Auth processing to call the `loginWithCustomProvider()` method.

   ```
   graph TD
       DFLA{{ Developer }} --install --> authsdk
       DFLA --ClientID -->AUTHP
       DFLA --JWT Token -->COA
       subgraph app[App]
           AUTHP[Create/Init AuthProvider] --> authsdk
           COA[Call loginWithCustomOAuth] --> authsdk
           subgraph authsdk[Arcana Auth SDK]
           direction TB 
               SDK1[AuthProvider Interface] 
           end
       end
       linkStyle 1,2 stroke: #3169b3;
       authsdk --Verify JWT Claims --> STD[Standard JWT/JWK Validation]
       authsdk --Fetch Key Shares --> BEP[Arcana Auth Protocol] <--> BEK[DKG]
   ```

1. The Arcana Auth SDK checks the JWT using dashboard settings. After verification, it gets the user's key shares from the Arcana backend and generates the key locally in the app. This key lets users securely sign blockchain transactions.

   ```
   graph LR
       BED[Arcana Auth Protocol] --Custom Auth Settings--> BEC{Gateway} 
       BEC <--> BEA[Arcana Auth Protocol] <--> BEDKG[DKG]
   ```

## Custom Auth Settings

The following Custom Auth settings can be specified via the Arcana Developer Dashboard.

### JWKS Endpoint

A JWKS Endpoint is a read-only URL exposed by the Custom Auth server or any other server that manages the cryptographic keys or JSON Web Keys (JWK) as per the [IETF RFC7517](https://datatracker.ietf.org/doc/html/rfc7517) and [IETF RFC7519](https://datatracker.ietf.org/doc/html/rfc7519) standards. JWKs are used to validate the integrity of a JWT and the encoded data by the Arcana Auth SDK.

### User Identifier String

The 'User Identifier String' links a unique identifier with the user's key. Developers can choose the string from one of the options:

- Sub: The user identifier string identifies the principal that is the subject of the JWT.
- Email: JWT Token claim email identifier for the user
- Custom: A custom string used for JWT Token claim.

### Issuer

The issuer claim identifies the principal that issued the JWT. For example, it could be the app identifier or deployed app URL.

*Example:* `Issuer: "https://myapp.example.com"`

### Audience

The audience claim identifies the recipients that the JWT is intended for.

*Example:* `Audience: "arcana-login-nnnnnn"`

### JWK Validation (Optional)

Claims are pieces of information asserted about a subject or user. A JWT can contain a claim called name that asserts that the name of the user authenticating is "John Doe." JWT Validation entities specified by the developer via the Arcana Developer Dashboard are key, value pairs. These are used to validate the JWT provided by the developer to the Arcana Auth SDK via the `loginWithCustomProvider()` method for authenticated users.

*Examples*

`purpose: 'login'`

`keyUse: 'arcana'`

# Authentication Providers

Apps integrating with the Arcana Auth SDK can use the built-in [plug-and-play login UI](../../plug-and-play-auth/) or a [custom login UI](../../custom-login-ui/) to onboard users through any of the supported authentication providers:

- Social Providers
- Custom IAM Providers

## Social Providers

The Arcana Auth SDK supports popular Web2 [social login](../../social-login/) providers for onboarding users and verifying their identities.

- Apple
- Cognito
- Discord
- Firebase
- GitHub
- Google
- Steam
- Telegram
- Twitch
- Twitter

## Custom IAM Providers

The following IAM providers are supported for user authentication:

- Cognito
- Firebase

These third-party IAM providers may require separate configuration of the underlying user authentication mechanisms such as social logins, OpenID, etc.

Passwordless Login

Besides these providers, users can log into a Web3 app in a passwordless manner by verifying the OTP received over email. Passwordless login is enabled by default in all apps using the Arcana Auth SDK.

# Allowances

The Arcana CA SDKs requires allowances.

Through allowances, a user permits the use of EOA funds in the source chains. The protocol uses these funds to pay the gas fee and the transaction amount on the destination chain.

The default allowance limit set in the CA SDK for each supported chain is `unlimited`.

Developers can change the allowance for each chain abstracted transaction. They can do this using the `setOnAllowanceHook` hook.

Users can review the chain abstracted transaction details via [intent](../intent/). The intent details list the amounts collected per source chain to transact on the destination chain. Users can choose to accept or reject a chain abstracted transaction. They cannot change allowances specified by the developers.

Until a user **permits** allowance, the Arcana Vault contracts on the source chains cannot collect the user funds.

By approving allowances for chain abstraction on the source chains, users can:

- Spend anywhere with funds from two or more source chains.
- Bypass bridging to enable liquidity on the destination chain.
- Transact on newer chains with zero or insufficient liquidity.

Users must pay a **gas fee to set up the allowance**. This is besides the gas fee payable for the transaction on the destination chain.

In some cases, Arcana may sponsor this gas fee for setting up the allowances.

## How Allowances Work?

Here is how the allowances enables chain abstracted transactions:

1. User approves the protocol to access funds from two or more source chains.
1. Protocol unifies user balance across these chains.
1. Unified funds go into protocol vaults.
1. The protocol presents the user with an intent to transact on the destination along with amount and fee details.
1. The user signs the intent. Solvers then supply liquidity in the user's EOA to transact on the destination chain.
1. User can now transact on any destination chain and pay gas fee.
1. The protocol settles transactions with the solvers using the funds collected on the source chains.

## Allowance Options

Users of the Arcana CA wallet have two allowance setup choices that differ by:

- Which chains are included for chain abstraction allowance setup?
- Who pays the gas fees for the allowance transaction?

| Option | Chains included | ETH Balance Required | User Pays Gas Fee | Arcana Pays Gas Fee | | --- | --- | --- | --- | --- | | 1. | Ethereum Mainnet + Avalanche + L2 chains | Yes | `$1`-`$5` (as per current Ethereum Mainnet gas price) | Avalanche + L2 only | | 2. | Avalanche + L2 chains | No | Nothing | All gas sponsored | | 3. | Avalanche + L2 chains + BSC | No | Nothing | All gas sponsored\* |

\* For BSC chain, the gas fee for the allowance setup transaction is capped at $0.05. If gas fees are high, the allowance setup transaction may fail.

# Arcana CA Wagmi SDK

Arcana CA Wagmi SDK enables unified balance in Web3 apps using the [Wagmi](https://wagmi.sh/) framework. The SDK offers a plug-and-play widget that display the unified balance for the app users and helps them transact on any chain.

Web3 Wagmi app builders can integrate the Arcana's [Chain Abstraction](../chain-abstraction/) feature via the SDK and let users spend on any chain, as long as they have sufficient funds across chains to cover for the transaction amount and the required gas fee.

Arcana CA Wagmi SDK Usage Overview

# Arcana CA SDK

The Arcana CA SDK is meant for Web3 builders and app developers. It unifies the user balance in the wallet account spread across [chains and tokens](../../../web3-stack/ca_stack/).

Web3 app builders can integrate Arcana's [Chain Abstraction](../chain-abstraction/) feature via the SDK. Let users spend on any chain if they have sufficient funds across chains to cover for the transaction amount and the required gas fee.

Arcana CA SDK Architecture Overview

# Chain Abstraction

Managing multiple chains, tokens, and accounts fragments wallet liquidity for Web3 users. Even with enough assets overall, funds scattered across chains make transacting difficult and require complex, time-consuming conversions.

Chain abstraction lets users access a [unified balance](../unified-balance/) across all wallet-linked chains, enabling transactions anywhere. Instead of converting funds first, users specify a [clear intent](../intent/). The protocol collects funds from source chains, shows intent and fees for confirmation, then publishes the intent to solvers. Solvers compete to provide liquidity on the destination chain, and once available, users confirm the transaction. Settlement with solvers happens asynchronously using the collected funds.

As part of setup, devs configure [allowances](../allowances/) per chain and token. Users approve or reject these allowances. For supported [chains and tokens](../../../web3-stack/ca_stack/), the protocol uses these allowances to deposit required funds for transactions on the destination chain.

Arcana's Chain Abstraction

## Why Chain Abstraction?

Chain abstraction enables unified balance to simplify and streamline Web3 transactions. It offers:

- **Faster Intent Processing:** Enables quick and seamless transaction execution across chains.
- **Unified Liquidity:** Provides a consolidated view of user assets across wallet-linked chains with no asset bridging.
- **Simplified UX:** Removes multi-step hurdles for a seamless experience for users.
- **Streamlined DX:** Developers can add unified balances to dApps with minimal changes and no smart contract updates for new chains.

# Intent Explorer

The [Arcana Intent Explorer](https://explorer.arcana.network/) is used to check the status or details of an [intent](../intent/). To view intent details in the Intent Explorer, you need the unique [intent identifier](./#intent-identifier).

Each stage of chain abstracted transaction processing can be viewed in the Intent Explorer. All the intent details are populated once the intent is fulfilled and the transaction is complete.

Intent Explorer

## Intent Identifier

Each [intent](../intent/) is associated with a unique identifier.

How you access this identifier depends on whether youâ€™re using the Arcana CA Wallet or a third-party wallet in a Web3 app integrated with the Arcana CA SDK.

### Arcana CA Wallet

When using the Arcana CA Wallet for issuing a chain abstracted transaction, you can obtain the intent identifier by clicking 'View Intent.'

The 'View Intent' option becomes available in the transaction UI after a user authorizes a transaction that involves chain abstraction. The transaction is then published to [solvers](../solver/), who compete to provide liquidity on the destination chain as specified in the intent.

Get Intent Identifier

To find the intent identifier for past transactions:

- Open the 'Activity' tab in the CA Wallet to view your transaction history.
- Click the down arrow next to a transaction to expand its details.
- In the details, click 'View Intent' to see the unique intent identifier for that transaction and other intent details.

Activity Tab: Get Intent Identifier

}

### Third-party Wallets

Accessing the intent identifier for a chain-abstracted transaction issued through a third-party wallet depends on how the Web3 app is built and integrated with the Arcana chain abstraction SDK.

The Arcana CA SDK provides methods and hooks that developers can use to:

- Implement chain-abstracted transactions.
- Show transaction progress, including the intent identifier, in the appâ€™s UI.

Developers can:

- Add code to let users view intent details before authorizing a chain abstracted transaction.
- Use SDK hooks to track events and [progress after the intent is published](https://ca-sdk-ref-guide.netlify.app/types/progressstep), retrieving the intent identifier once itâ€™s created.
- Offer options in the UI to display the intent identifier or a button to view details at different stages (for example, when liquidity is supplied or the intent is fulfilled).

For Web3 apps using the Arcana CA Wagmi SDK, no extra code is needed. The 'View Intent' option is already built into the transaction UI. Users can click it to open the Intent Explorer and see the intent details and identifier.

Previous Transactions

Unlike the Arcana CA Wallet activity tab, the chain abstraction SDKs do not provide a mechanism to access the intent identifier for past transactions.

If required for transparency or compliance, the developers can provision saving and tracking the intent identifiers for past transactions in the context of the Web3 app by listening to the event data through SDK hooks.

In the [chain abstraction](../chain-abstraction/) context, an intent represents a user's request to execute a cross-chain transaction when they lack sufficient funds or liquidity on the destination blockchain. An intent specifies what the user is willing to offer (tokens from various source chains) to cover the transaction amount, gas fees, solver fees, and the Arcana chain abstraction (CA) protocol service fee.

The following information is part of an intent:

- **Source Chains:** The blockchains where the user has funds/tokens.
- **Destination Chain:** The blockchain where the transaction will occur (where the user lacks liquidity).
- **Tokens and Amounts:** Specifies which tokens and how much from each source chain will be used.
- **Fees:** Includes CA gas fee (for cross-chain operations), protocol fee (for the service), solver fee (for the liquidity provider), and any supplied gas.
- **Total Amount:** The full cost, combining the transaction amount and all fees.

The intent processing begins when the user signs an intent and authorizes a transaction. A [solver](../solver/) (a liquidity provider) steps in to supply the necessary funds on the destination chain. The protocol is responsible for settling the source chain funds with the respective solver. The intent details shows which solver provided liquidity once the intent is successfully processed.

Intents are tracked via a unique identifier. Users can supply this identifier in the [Arcana Intent Explorer](https://explorer.arcana.network/%5D) to check the intentâ€™s status or details later.

Intent Details

## Stages

Following are some of the key stages of intent processing:

- Intent Accepted - User has agreed to chain abstracted transaction intent and accepted the associated fees
- Intent Hash Signed - User has signed the intent hash
- Intent Submitted - Intent for CA is submitted to the chain
- Intent Collection - Funds associated with the intent are collected on the source chains
- Intent Mined - CA protocol has mined the intent on the chain
- Intent Deposits Confirmed - Deposit on source chains is confirmed
- Intent Fulfilled - The liquidity is supplied on the destination chain by the solver

In Arcana's chain abstraction protocol, solvers facilitate cross-chain transactions by supplying liquidity on the destination chain. After a user signs and authorizes an intent, a solver instantly provides the liquidity. In an optimal decentralized setup, multiple solvers compete to fulfill published intents.

The protocol periodically settles funds with solvers who have successfully completed user intents, using tokens from the supported source chains.

# Wagmi Plug & Play Widget

Arcana CA Wagmi SDK provides a plug and play widget that displays the [Unified balance](../unified-balance/) associated with the user's wallet address. This widget is available only for the [Wagmi](https://wagmi.sh/) apps.

Follow these steps to use this widget:

1. Install and integrate the app with the Arcana CA SDK.
1. Use `CAProvider` to enable the plug-and-play unified balance widget in the app. [Learn more...](../../../quick-start/ca-wagmi-quick-start/)

Plug & Play Unified Balance Widget

# Unified balance

Unified balance shows all the liquidity in a user's EOA account across multiple chains in one view. It lets users transact seamlessly on any chain without needing bridges or pre-provisioning gas for token swaps. Chain abstraction handles all the complexity involved in a cross-chain transaction while enabling better UX through a single intent approval.

For instance, let us take the case where a user intends to spend 18 USDC on Scroll and does not have any balance on Scroll.

- Optimism: 0.1 ETH, O USDT, 0 USDC
- Arbitrum: 0 ETH, 12 USDT, 0 USDC
- Base: 0 ETH, 10 USDT, 0 USDC
- Scroll: 0 ETH, 0 USDT, 0 USDC

To spend 18 USDC on Scroll (destination chain) with the given liquidity fragmentation, it would typically require multiple clicks and steps for swapping or bridging different assets available on the source chains, so that user can convert the assets to the desired token balance on Scroll.

Through chain abstraction and ability to swap cross-chain, users have the convenience to view the consolidated token balance across supported tokens and chains. This simplifies the process of sending 18 USDC on Scroll, as users can sign the intent without the need for bridging, swapping, or considering the optimal routes.

The cross-chain swap enables users to:

- Spend assets on any destination chain without prior liquidity.
- Collate payable amount by combining multiple supported assets across source chains to address liquidity fragmentation.

Single chain liquidity vs. Unified Balance with Chain Abstraction

# Testnet Configuration Profile

Each registered app is associated with Testnet and Mainnet [configuration profiles](../../concepts/config-profiles/). By default, only the Testnet profile is active. See [how to create Mainnet profile](../migrate-testnet-mainnet/) for app deployment on the Mainnet.

## App Deployment: Testnet

You can view or update the default Testnet configuration profile in the Arcana Developer Dashboard. Copy the unique Client ID assigned to the apps' Testnet profile. Integrate the app with the Arcana Auth SDK by creating a new AuthProvider using this Client ID.

```
import {AuthProvider} from "@arcana/auth";

const provider = new AuthProvider(
  "xar_test_87f34a9c7879cd4b726ba36a99e164837d70143a", {  // testnet Client ID
  // network: 'testnet',  // optional
  chainConfig: {
    chainId: '80002',      // selected chain in the wallet network dropdown UI
    rpcUrl: 'https://rpc.ankr.com/polygon_amoy',  // RPC URL of the selected chain in the wallet network dropdown UI
  },
  alwaysVisible: true,
  setWindowProvider: true,
  debug: true,
  position: 'right',
  theme: 'dark',
});

```

```
try {
  await auth.init()
} catch (e) {
  // Handle exception case
}

```

Testnet Client ID

Note that the user's wallet address is different when the same app is deployed on Testnet and Mainnet. Wallet banner highlights Testnet use.

Testnet Wallet Address

# App Deployment: Mainnet

## Prerequisites

- Apps must be registered. A default Testnet [configuration profile](../../concepts/config-profiles/) is assigned to each registered app. The mainnet configuration profile must be created by the developer.

## 1. Create Mainnet Profile

Visit the 'Manage Apps' page on the Arcana Developer Dashboard. Each app is associated with a Testnet profile by default, and the 'Mainnet' configuration is disabled. Click the registered app card to view the Testnet configuration settings home page for the app.

Choose 'Mainnet' from the 'Testnet' dropdown on the top right. You will see options to create the Mainnet profile:

- Copy the Testnet profile to Mainnet
- Create a fresh Mainnet profile

Create Mainnet Configuration Profile

Note down the brand new Mainnet configuration profile Client ID of the format `xar_live_nnnnnnnnnnn...nnn` displayed in the dashboard.

<img alt="Select Mainnet Profile" src="/img/an_deploy_mainnet_dashboard.webp" class="an-screenshots"/>

Select Mainnet Profile

Mainnet Profile Status

The *Manage Apps* dashboard screen displays cards for all registered apps. Once a Mainnet profile is created, you will see it enabled on the app card.

Mainnet Configuration Profile Available

## 2. Update Redirect URI

The redirect URI setting displayed in the dashboard for the Mainnet configuration profile must **also be updated** for all the social login providers that are enabled for the app. Use the respective social login provider's console and update the OAuth settings with the new redirect URI value.

Update Redirect URIs

After creating the 'Mainnet' profile, developers **must** also update the social login provider 'Redirect URI' settings via the respective provider developer consoles or dashboards.

Copy the 'Redirect URI' displayed for the 'Mainnet' profile and update this value in the social login provider's developer console. For e.g., for Google, update the Redirect URI in the Google Developer Console. [Learn more...](../../setup/config-social/google-oauth/)

## 3. Update `AuthProvider`

In the app integration code, replace the Testnet Client ID with the newly assigned Mainnet Client ID and recompile the app.

```
import {AuthProvider} from "@arcana/auth";

const provider = new AuthProvider(
  "xar_live_d7c88d9b033d100e4200d21a5c4897b896e60063", {  //mainnet Client ID
  // network: 'mainnet',  // optional
  chainConfig: {
    chainId: '137',      // selected chain in the wallet network dropdown UI
    rpcUrl: 'https://polygon-rpc.com/',  // RPC URL of the selected chain in the wallet network dropdown UI
  },
  alwaysVisible: true,
  setWindowProvider: true,
  debug: true,
  position: 'right',
  theme: 'dark',
});

```

Wallet Address Change

The user's wallet address will differ when the app is migrated from Testnet to Mainnet.

Mainnet Wallet Address

# Arcana Auth SDK

## Onboarding Users

______________________________________________________________________

Is it possible to onboard users via social login as well as via a wallet when using the Arcana Auth SDK?

Yes.

Besides social login, Arcana Auth SDK allows user onboarding via any supported third-party browser-based Web3 wallets.

Apps using wallet connectors, [Wagmi](../../quick-start/wagmi-quick-start/), and [RainbowKit](../../quick-start/rainbowkit-quick-start/), [Web3-React](../../quick-start/web3-react-quick-start/), and [WalletConnect](../../quick-start/walletconnect-quick-start/) SDKs can enable Arcana wallet to sign blockchain transactions.

Is social login via a Microsoft account or Hotmail supported?

No.

Arcana Auth SDK does not support passwordless login through a Hotmail account. Also users cannot log in using Microsoft accounts.

Can a Web3 app use the Arcana Auth SDK only for onboarding users and disable the Arcana wallet feature altogether?

There is no way to selectively turn off the Arcana wallet features. However, if the application **does not perform any blockchain transactions**, the wallet feature can be disabled by setting the [wallet visibility mode](../../concepts/anwallet/walletvisibility/) to `false` while integrating the app with the Arcana Auth SDK. In this case, the Arcana wallet will not be visible to the authenticated user as long as **no blockchain transaction is triggered**.

If you need to completely disable the Arcana wallet feature in the app, you can request a private build of the Arcana wallet by [contacting Arcana](../../support/) with the use case details.

Will the Arcana Network's distributed key generation algorithm be affected if a node with a key share becomes temporarily inaccessible?

No.

Arcana's [ADKG](../../concepts/adkg/) algorithm can still generate the key using the key shares from the other nodes that are accessible. The algorithm is designed to tolerate a certain number of nodes being inaccessible, depending on the total number of participating nodes. For more details, see [Arcana's Technical Whitepaper](https://www.notion.so/Arcana-Technical-Docs-a1d7fd0d2970452586c693e4fee14d08).

Does the authenticated user see the same wallet address if they use different authentication providers to log into a Web3 app integrated with the Arcana wallet?

Yes. This is made possible by the [aggregate login](../../concepts/aggregatelogin/) feature of the Arcana Auth SDK.

*For this feature to work, the user* **must** *have the same email ID registered with the different authentication providers.*

Arcana Auth SDK uses the email ID to uniquely identify the user even if the user uses different social login providers or the passwordless email option to log in to a Web3 app. It associates a single key for such a user which results in the user seeing the same wallet address. If the user has different email IDs associated with different social login providers then each login is treated as a unique, different user and the same user will see a different wallet address when logging into the same Web3 app.

Does the authenticated user see the same wallet address across multiple Web3 applications that integrate with the Arcana Auth SDK?

Arcana Auth SDK allows Web3 app developers to tailor the wallet address experience for their users. It provides two 'Keyspace' options at the time of application registration:

- App-Specific Keys
- Global Keys

If a developer selects the **Global Keys** option, then the user gets assigned the same key across all applications that integrate with the Arcana Auth SDK and chooses the same **Global Keys** option. The same key means the wallet address of the user is the same across different Web3 apps that integrate with the Arcana Auth SDK. This is true across apps that use EVM-compatible chains. If two apps use global keys but one of them is on an EVM-compatible chain and the other is not, then the keys will be different across such apps. The Arcana's ADKG subsystem will assign the user different sets of keys for such apps resulting in different wallet addresses across such apps.

For more details, see [app-specific vs. global keys](../../concepts/keyspace-types/)

Does the **global keys** feature work across EVM-compatible and not EVM-compatible chains?

**No**.

The global keys feature enables an authenticated user to have the same wallet address across different Web3 apps in the Arcana ecosystem.

However, an authenticated user will see \*\*different wallet addresses across two chains configured in a single Web3 app if one of them is EVM-compatible whereas the other is not. Also, in the case of two Web3 apps, one of which uses an EVM-compatible chain and the other that uses chains that are not EVM-compatible, the authenticated user's wallet address will be different for each app.

Why is the Global Keyspace option not enabled if I select the 'Custom Wallet UI' option during app registration in the Arcana Developer Dashboard?

If a Web3 app developer chooses the 'Custom Wallet UI' instead of the built-in Arcana wallet UI, during app registration via Arcana Developer Dashboard, only 'app-specific keys' are allowed. This is for [keyspace security](../../concepts/keyspace-types/#security).

Global keys allow users to have the same private key across all the apps that integrate with the Arcana Auth SDK. With custom wallet UI, global keys are disallowed to mitigate the security risk of a malicious app hacking into user keys and gaining access to not just one but all such apps with 'Global Keys' enabled.

Are incognito/private windows in browsers and 'third-party cookies blocked' option supported by the Arcana Auth SDK?

Yes.

The Arcana wallet supports Chrome browser `Incognito Window` as well as `Private Window` in the case of Safari browsers. Earlier, if third-party cookies were disabled, the built-in, plug-and-play login pop-up modal did not show up in some cases. These use cases are now addressed by the SDK.

Developers can use the `canReconnect` and `reconnect` [functions of the `AuthProvider`](https://authsdk-ref-guide.netlify.app/classes/authprovider) to check before allowing users to reconnect whereby users do not need to re-login if they refresh the page or close the tab and re-open it again within a 30-minute window.

Does Arcana Auth SDK return a JWT token to verify users post social login?

Yes. See [Arcana JWT Token](../../concepts/authtype/) for details.

How does the app access an authenticated user's information such as name, email, login token, the wallet address?

Apps can use the [`getUser()`](https://authsdk-ref-guide.netlify.app/classes/authprovider#getUser) method to obtain the user's name, email, login token ([Arcana JWT Token](../../concepts/an-jwt-token/), [DID Token](../../concepts/an-did-token/)), wallet address, etc. See [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/) for details.

For Twitter, the `getUser()` function of the `AuthProvider` does not always return the user's email?

You can create a Twitter account using your phone number without needing to provide an email address. If you do this, the getUser() function won't give you the user's email address.

However, web3 app developers have the [option to configure settings on the Twitter developer dashboard](https://developer.twitter.com/en/docs/twitter-api/v1/accounts-and-users/manage-account-settings/api-reference/get-account-verify_credentials#:~:text=Request%20a%20User's%20Email%20Address,email%20address%20access%20to%20function) to request users' email addresses. If they do this, Arcana Auth SDK can access and retrieve the user's email through Twitter, and it will be included in the result when you use the getUser() function.

Does login via Passkey share any user or device information with the website or application?

No.

With [passkeys](../../concepts/authtype/auth-passkeys/), the user's biometric information, secrets, or private keys are never revealed to the website or the app where user is trying to sign in. User digital credentials do not leave the user's personal device. Also, the passkey protocols are carefully designed so that no information shared with sites can be used as a tracking vector.

[See FIDO standard](https://fidoalliance.org/how-fido-works/), [Apple Passkeys security](https://support.apple.com/en-in/102195), [Microsoft Passkey Support](https://support.microsoft.com/en-us/account-billing/signing-in-with-a-passkey-09a49a86-ca47-406c-8acc-ed0e3c852c6d), [Google Passkey Security](https://developers.google.com/identity/passkeys/faq) for details.

Is there any expiration limit on passkeys?

No.

If required, users can delete passkeys associated with a website or application and create new ones.

Can users create accounts with passkeys on Arcana Auth SDK?

Yes.

Web3 apps using Arcana Auth SDK can use passkeys for signups and login or as an alternative login mechanism.

Refer to [Passkey Support](../../concepts/authtype/auth-passkeys/) for details.

Does the Arcana Auth SDK support role based access control (RBAC)?

Yes.

After the user authenticates through the chosen [social login](../../concepts/social-login/) provider, the Arcana Auth SDK receives the JWT token from the provider. It verifies the user with this token, and then creates and returns an Arcana JWT token to the app.

If the app developer needs to implement *Role Based Access Control (RBAC)* and authorize the authenticated user for some specific actions, they can first [verify the JWT token returned by Arcana](../../concepts/jwt-token-validation/). Upon verification they can issue a new app-specific JWT that enables RBAC and authorization.

Alternately, developers can use Sign-In with Ethereum ([SIWE](https://www.npmjs.com/package/siwe)) by signing a standard message format parameterized by scope, session details, and security mechanisms (e.g., a nonce).

SIWE allows users to log in to applications using their Ethereum wallet and ENS (Ethereum Name Service) profile.

## Arcana wallet

______________________________________________________________________

How does the in-app Arcana wallet allow developers to manage UX for signing blockchain transactions?

Apps can integrate with the Arcana Auth SDK to enable an embedded, non-custodial Web3 Arcana wallet for every authenticated app user.

To integrate an app, developers must register and configure the app with Arcana, and then install the `auth` package and create a new `AuthProvider`. While instantiating the `AuthProvider` developers can manage the user experience for signing blockchain transactions through the input parameter `alwaysVisible`. This parameter controls whether the Arcana wallet UI is automatically displayed in the application's context right after a user authenticates or it shows up only when the app triggers a blockchain transaction that requires the user's approval.

For details, see [Arcana wallet visibility modes](../../concepts/anwallet/walletvisibility/).

Does the Arcana Auth SDK set `window.ethereum` value in the app's context?

By default, Arcana wallet does not set the `window.ethereum` value in the app's context. To explicitly set this value, during the integration of the app with the Arcana wallet, when `AuthProvider` is instantiated, developers must specify the `setWindowParameter=true`. For details, see the [Arcana wallet Usage Guide](../../auth/auth-usage-guide/).

How is the in-app Arcana wallet different from self-custodial wallets?

Arcana wallet is a non-custodial wallet. Here is how it differs from the self-custodial wallets:

| Self-custodial wallets | Arcana's non-custodial wallet | | --- | --- | | Users need to be responsible for and remember their passphrases. | Users are not required to remember any passphrase. | | Users need to manage keys themselves in case of self-custody wallets. | Arcana wallet offers a sweet spot, users don't have to manage keys as in the self-custody wallet and yet their keys can be generated in a distributed manner via the Arcana wallet, a non-custodial wallet. | | Users who are new to Web3 typically find self-custodial wallets very challenging to use. | Arcana wallet offers a really simple Web2-like onboarding experience for new Web3 users without sacrificing security and ownership. |

## User Key Privacy

______________________________________________________________________

If Arcana is storing nothing related to the user's private keys, how does Arcana provide the same wallet to a user when the user signs in for the second time?

The Arcana Auth SDK maintains a UserID -> Public Key mapping, that is how the user is identified across successive login sessions and the correct wallet is assigned for the authenticated user. This mapping is stored in the DKG nodes.

How does the Arcana Auth SDK ensure that the key shares are fetched by the correct user only?

A user can log in only after the social login provider authenticates or if the user provides the OTP shared via email during passwordless onboarding. Providers share JWT/other identifiers with Arcana Auth SDK once the user authenticates. So unless the user themselves share their social ID / OTP, only an authenticated user will be allowed to access their key shares. The token (idToken) is verified with the DKG nodes before the key shares are sent back to the user. The token can be used only once per user login session.

Can a malicious entity reconstruct the user's private key if they get all the requisite key shares?

There are several safeguards against this and we are continuously evolving the ADKG protocol to make it more robust and fast.

One of the methods is MFA. When the MFA feature is enabled, it further strengthens the security by using multiple factors to generate the private key besides the key shares. A local share is created for the user at the first login that lives on the user's device. This local key component stored on the user's device is required to get the actual private key. If a user changes the device, they are validated via PIN setup during MFA or security answers before the local share is re-created on the new device.

Irrespective of whether MFA is enabled or not, the reconstruction of the private key happens only after ensuring that the user is:

- authenticated through one of the configured social login providers,
- verified by DKG before sharing the key shares.

The verification token ID changes for every user session so a malicious entity cannot reuse it. Also, note that the same set of key shares is not returned for every user session by the DKG nodes. Only a random subset of shares is needed to construct the private key.

In a future version of the ADKG protocol, the key shares will be periodically refreshed to safeguard against an eventuality if some of them are somehow stolen by a malicious user.

# Arcana Developer Dashboard

## General

______________________________________________________________________

Is it mandatory to use the Arcana Developer Dashboard before integrating with the Arcana Auth SDK to enable social login?

Yes.

To integrate any app with the Arcana Auth SDK, it is not sufficient to simply download and install the SDK. A unique Client ID is also required. This is available once the app is registered using the Arcana Developer Dashboard.

Note that the Client ID per app is different when using Testnet or Mainnet. When deploying the app on Testnet use the Client ID meant for Testnet and vice-versa.

How do I delete the application configuration and start afresh?

To delete an application from Arcana ecosystem, follow these instructions:

- Log into the Arcana Developer Dashboard.
- In the **Manage Apps** screen, select the card displayed there for the registered application you wish to delete.
- Click the trash icon on the top right and delete the app entry.
- The application registration will be canceled and the **Client ID** assigned to your application will no longer work.

De-register & Delete App

How do I migrate an application from using Arcana Testnet to Mainnet?

To migrate an application from using the Arcana Testnet to Mainnet, follow these steps:

1. Use the Arcana Developer Dashboard, visit the 'Manage App' page, and select the application entry. By default, when you register any application, a 'Testnet' configuration profile is created for the application. Click on the app card to see the application configuration screen.
1. On the application configuration screen, switch the network from 'Testnet' to 'Mainnet' on the top right to create a 'Mainnet' configuration profile. You will be asked to approve the creation of the 'Mainnet' configuration profile. To begin with, you can use a copy of the 'Testnet' profile to generate the 'Mainnet' profile. Later, you can edit and manage it independently. Note that a new **Client ID** is assigned to the 'Mainnet' profile.
1. Use the 'Mainnet' profile **Client ID** and update it in the app integration code instead of the earlier value which corresponds to 'Testnet'. You will need to restart your application after this change. This is important to ensure that the app uses the 'Mainnet' configuration settings.

Use appropriate **Client ID**

To migrate an app from using Testnet to Mainnet, the developers must ensure that the new **Client ID** corresponding to the application's 'Mainnet' profile is used to initialize the `AuthProvider` while integrating the app with the Arcana Auth SDK. After that, the app must be restarted to switch over from using Arcana Testnet to the Mainnet.

Can a developer run one instance of the app, say dev version on Testnet while publishing the release instance to use the Arcana Mainnet?

Yes, developers can run two instances of the app simultaneously, one on the Arcana Testnet and the other on the Mainnet as each app instance is assigned a unique **Client ID**.

Use the 'Mainnet' configuration profile **Client ID** in your app's integration code and instantiate the `AuthProvider`. Then deploy this app instance to use Arcana Mainnet.

Similarly, use the 'Testnet' configuration profile **Client ID** in another copy (branch / different version of the code) of your app where Arcana Auth SDK is integrated and instantiate the `AuthProvider`. Then deploy this app instance to run it using the Arcana Testnet.

How do I delete Mainnet configuration settings and run my application using Arcana Testnet only?

Once you have enabled 'Mainnet' for an application, you cannot delete the 'Mainnet' configuration profile independently in the current release. You can [switch your application from 'Mainnet' to 'Testnet'](../../setup/config-dApp-with-db/#switch-profile) by using the dropdown button in the application configuration screen to edit or modify it.

The only way to delete Mainnet settings is to deregister the app and delete the app entry altogether. This removes both Testnet and Mainnet configuration profiles. You will need to re-register the application. This will create a new **Client ID** and you will be required to specify this new Client ID when integrating your application with the Arcana Auth SDK. As a result, when you deploy your app and the users log in, they will see brand-new wallet addresses.

If you wish to ensure that the user wallet address does not change, you must register your application and request for the [Shared Key Space](../../concepts/keyspace-types/) option at the very start. In that case, users will be allowed to use the same wallet address across all applications in the Arcana ecosystem and even if an application is de-registered and re-registered.

## Branding Settings

Why do I see an error when uploading the logo file?

Make sure the file is less than the 1 MB limit for a successful upload.

How do I change the logo file that I uploaded earlier?

Click on the 'x' icon next to the uploaded logo file. You will see a notification about the successful deletion of the file. Click on the upload icon and upload a new logo file.

## Social Auth Settings

______________________________________________________________________

Is it mandatory to specify all configurations in the Arcana Developer Dashboard *Configure* section?

No.

If no authentication provider is configured via the Arcana Developer Dashboard, the app users can log in through the default passwordless option that requires no configuration. Developers can use the `connect` method to bring up plug-and-play login UI or build a custom login UI. When using the custom login UI, call the `loginWithLink` method (deprecated), `loginWithOTPStart` and `loginWithOTPComplete` methods to onboard users.

Besides the default passwordless login option, developers can choose to enable one or more authentication providers as the onboarding options for users. That requires configuring authentication providers through the Arcana Developer Dashboard. For details, check out [how to configure authentication providers](../../setup/).

Can an application enable more than one authentication provider to onboard users?

Yes. Developers can configure one or more authentication providers as additional onboarding options besides the default passwordless login option. Users can choose any one of the supported authentication mechanisms to onboard the app.

## Wallet Settings

______________________________________________________________________

Why do I need to specify Wallet Website Domain setting?

This is an optional setting for additional security. If specified, the Arcana Auth SDK configuration subsystem uses this setting to restrict the Arcana wallet from loading anywhere else other than the application website domain that a developer specifies. for restricted domains, the [frame-ancestor Content Security Policy (CSP)](https://developer.mozilla.org/en-US/docs/web/http/headers/content-security-policy#frame-ancestors) is used.

Is there a way to control when, which position in the application window, and what kind of theme is used for displaying the Arcana wallet in the apps' context?

**Wallet Display Controls**

1. **Visibility**

   The application developer can use the `alwaysVisible` parameter in the `AuthProvider` to control whether the Arcana wallet UI is automatically displayed once the user has authenticated (default) or it shows up only when a blockchain transaction is triggered that requires the user's approval.

   If `AuthProvider` is instantiated with `alwaysVisible = false` then the wallet UI will not be displayed by default in the app's context. However, when a blockchain transaction is triggered by the app, a transaction notification is displayed in the app's context, requesting the user's approval for the transaction. Once the user takes the appropriate action, the transaction notification will disappear.

   For more details, see [Arcana wallet visibility modes](../../concepts/anwallet/walletvisibility/).

1. **Position**

   The `position` parameter in the `AuthProvider` controls whether the wallet is displayed on the left or the right side of the Web3 app UI window.

1. **Light/Dark Theme**

   The `theme` parameter in the `AuthProvider` controls whether the wallet is displayed using the light theme or the dark theme. Developers can set the theme via the Arcana Developer Dashboard by using the 'Branding' tab on the LHS.

# General

Can any Web3 app user access the in-app Arcana wallet?

No.

The in-app Arcana wallet is accessible by the authenticated users only for Web3 apps that integrate with the Arcana Auth SDK.

Web3 users cannot download and install the in-app Arcana wallet, unlike other standalone, browser-based third-party wallets.

CA wallet

Arcana also offers a standalone [CA wallet](../../concepts/ca/chain-abstraction/). This is a limited feature wallet. It is used for showcasing chain abstracted transactions in a [select set of supported apps](../../web3-stack/ca_wallet_stack/).

How can a Web3 user access in-app Arcana wallet?

Web3 developers must integrate apps with the Arcana Auth SDK to enable the in-app Arcana wallet.

To integrate:

- [Register the app](../../setup/config-auth/register-app/) and [configure (optional)](../../setup/config-auth/) the SDK usage settings through the Arcana Developer Dashboard.
- Download and install the [Arcana Auth SDK](https://www.npmjs.com/package/@arcana/auth).
- Use the unique Client ID assigned to the registered app in the dashboard in the integration code.
- Initialize the SDK and use the Arcana Auth SDK functions to [onboard users](../../auth/onboard/vanilla/use-plug-play-auth/).

Developers can control the user experience for signing blockchain transactions. Use the appropriate [wallet visibility](../../concepts/anwallet/walletvisibility/) settings during SDK integration. You can also display/hide the wallet with `showWallet()`.

## Integrating Auth SDK

How can Web3 developers enable [social login](../../concepts/social-login/)?

Follow these steps:

- Login to the Arcana Developer Dashboard using familiar Web2 login.
- Register the Web3 app in the dashboard.
- Configure or use the default user onboarding SDK settings in the dashboard.
- [Download](https://www.npmjs.com/package/@arcana/auth) and install the SDK
- [Integrate the Web3 app](../../auth/integrate/wagmi/) with the SDK. Process may vary depending upon the app type.

How can Web3 apps access the standard EIP-1193 provider from the `AuthProvider`?

The Web3 app integration code must:

- First create an `AuthProvider` object.
- Initialize it with `init()` method.
- Call `Web3Provider` if using the `ethers` library or call `provider`, if using the `web3.js` library.

```
// ethers
const provider = new ethers.providers.Web3Provider(auth.provider)
// web3js
const provider = new Web3(auth.provider)

```

## Application Frameworks

What application frameworks are supported by the Arcana Auth SDK?

Developers can integrate the Arcana Auth SDK with any Web3 app built using vanilla HTML/CSS and Javascript or any of these frameworks:

- React
- Next.js
- Vite
- Vue

[Learn more...](../../auth/integrate/vanilla-html-css-js/)

## Wallet Connectors

Which wallet connector frameworks are supported for Arcana wallet?

Arcana wallet supports Wagmi, RainbowKit, WalletConnect, Web3-React wallet connect frameworks.

How can developers enable Arcana wallet for wallet connectors?

To enable, developers must integrate the Web3 app with the Arcana Auth SDK.

Install the specific packages required for the wallet connector. Then integrate the app with the SDK.

- Web3 apps using Wagmi, RainbowKit or WalletConnect must install and integrate with the `auth`, `auth-wagmi` packages.
- Apps using Web3-React must install and integrate with the `auth`, `auth-web3-react` packages.
- How to [integrate Wagmi apps](../../auth/integrate/wagmi/)?
- How to [integrate RainbowKit apps](../../auth/integrate/rainbow/)?
- How to [integrate WalletConnect apps](../../auth/integrate/walletconnect/),
- How to [integrate Web3-React apps](../../auth/integrate/web3-react/).

## User Onboarding

How do I onboard users via social login in a Web3 app?

1. Login to the Arcana Developer Dashboard.
1. Register the Web3 app with Arcana.
1. Use default SDK user onboarding settings or configure authentication providers in the **Social Auth** section.
1. Install and integrate the app with the Arcana Auth SDK.
1. Add code to onboard users. For example, see how to onboard users via [Google](../../auth/onboard/vanilla/custom-ui/build-social/google-oauth/).

Is there a passwordless login option to onboard the users?

The option to onboard users in a Web3 app via passwordless login works without any configuration.

Developers can register the Web3 app via the Arcana Developer Dashboard. Then install and integrate the app with the Arcana Auth SDK.

Initialize the Arcana Auth SDK, use the `connect` method. This will bring up the built-in, [plug-and-play login UI](../../auth/onboard/vanilla/use-plug-play-auth/). This default login UI allows passwordless login.

Alternatively, developers can also add custom login UI and call the Arcana Auth SDK methods for passwordless login.

See [how to enable passwordless login](../../auth/onboard/vanilla/custom-ui/build-pwdless-auth/) for details.

## Deployment

Does each registered app have a single unique Client ID?

No.

Two unique Client IDs are assigned for every registered app.

One is for the Testnet configuration profile and another for the Mainnet configuration profile.

What is the difference between Testnet and Mainnet?

Arcana Testnet and Mainnet are two **different** blockchain networks.

The features offered by the Arcana Auth SDK available on Testnet may be different from the ones available on the Mainnet.

Following are the key differences between Arcana Testnet and Mainnet:

- **Client ID**: To deploy the app on Testnet, the developer must specify the Client ID assigned to the Testnet configuration profile after app registration, when creating the `AuthProvider`. Similarly, for Mainnet deployment, the Client ID assigned to the Mainnet configuration profile should be used.

- **Key/Wallet Address**: The authenticated user is assigned a unique key/wallet address for Testnet app deployment. The same user is assigned a different key/wallet address when this app is deployed on the Mainnet.

- **Billing**: App usage is tracked for both the Arcana Testnet as well as the Mainnet. However, only Mainnet usage is billed.

What is the difference in the in-app Arcana wallet behavior when an app is deployed on Testnet vs. the Mainnet?

If a user logs into the app that is integrated with the Arcana Auth SDK and deployed on the Arcana Testnet, they will see a warning on the main 'Token Assets' tab of the built-in Arcana wallet UI. The warning indicates that the app is deployed on the Testnet.

There is no such warning displayed in the Arcana wallet UI when the app is deployed on the Mainnet.

How does a developer migrate an app deployed on the Arcana Testnet to Mainnet?

See [how to migrate an app deployed on Testnet to Mainnet](../../deploy/migrate-testnet-mainnet/) for details.

Are there any configuration changes that must be done when migrating an app deployed on Testnet to the Mainnet?

Yes. Following are the configuration changes required for migrating app deployment from the Testnet to the Mainnet:

**1. Create a Mainnet Configuration Profile**: To deploy the app on Mainnet, developers need to first create a Mainnet configuration profile by either copying the Testnet profile or creating a fresh one from scratch.

**2. Redirect URI**: After creating the 'Mainnet' profile, developers **must** also update the social login provider 'Redirect URI' settings via the respective provider developer consoles or dashboards.

Copy the 'Redirect URI' displayed for the 'Mainnet' profile and update this value in the social login provider's developer console. For e.g., for Google, update the Redirect URI in the Google Developer Console. [Learn more...](../../setup/config-social/google-oauth/)

**3. Update Client ID**: The Client ID specified as the input parameter while integrating the app with the Arcana Auth SDK is the one assigned to the default Arcana Testnet profile. This works fine when the app is deployed on the Testnet. For deploying the app on the Mainnet, the developer must create the Mainnet configuration profile and carefully copy the newly assigned Mainnet Client ID. Use the Mainnet Client ID as the input parameter while integrating the app with the Arcana Auth SDK. This will ensure that the app gets deployed on the Mainnet and not on the Testnet. For details, see [how to migrate an app deployed on the Testnet to the Mainnet.](../../deploy/migrate-testnet-mainnet/)

# Using MultiversX

## Configuration

______________________________________________________________________

Is MultiversX the only non-EVM chain supported by the Arcana Auth SDK?

No.

Refer to the [list of pre-configured, supported chains - EVM and non-EVM](../../web3-stack/chains/) for details.

Can a developer choose to use some EVM-compatible chains along with MultiversX in an app?

No. Either EVM-compatible chain type or MultiversX (non-EVM-compatible chain type) chains can be used at a time in an app. When a user logs into an app that is enabled for MultiversX the keys (wallet address) are different from the one assigned to the same user when EVM-compatible chain is selected or a different non-EVM chain is selected.

## Keys

Why are the MultiversX keys different from EVM-compatible chains?

MultiversX uses [BLS multi-signature](https://en.wikipedia.org/wiki/BLS_digital_signature) cryptographic keys.

BLS is different from the [secp256k1](https://www.secg.org/sec2-v2.pdf) curve used for EVM-compatible chains.

## Shard Selection

What is the impact of selecting the same shard in two different apps registered via the dashboard?

MultiversX uses [adaptive state sharding](https://docs.multiversx.com/technology/adaptive-state-sharding/) for horizontal scaling. Shards allow it to process far more transactions through parallelization, improving transaction throughput and efficiency.

If two apps are configured to use the same shard, then all the app interactions whether they are with the app contracts on the same shard or between the wallets of the users across these two apps will be faster.

## Seed Phrase

When is the seed phrase displayed?

When you log into a Web3 app for the first time that uses the MultiversX chain and integrates with the Arcana Auth SDK, the system displays a 24-word seed phrase. You can copy this seed phrase or save it as a PDF file using the "print as PDF" option. You must verify and save this seed phrase immediately, as it will not be shown again. After this initial display, you won't be able to access the seed phrase through the Arcana wallet interface in future logins.

## Export MVX Wallet

How can a user export MVX wallet credentials from the app using the Arcana Auth SDK?

When you first log into a Web3 app using the MultiversX chain and Arcana Auth SDK, copy and save the seed phrase securely. Use this seed phrase to access your MVX wallet via the MVX Portal or MVX Wallet app. [Learn more...](https://docs.multiversx.com/wallet/wallet-extension/#import-existing-wallet)

# Using Near

## Configuration

______________________________________________________________________

Is Near the only non-EVM chain supported by the Arcana Auth SDK?

No.

Refer to the [list of pre-configured, supported chains - EVM and non-EVM](../../web3-stack/chains/) for details.

Can a developer choose to use some EVM-compatible chains along with Near in an app?

No. Either EVM-compatible chain type or Near (non-EVM-compatible chain type) chains can be used at a time in an app. When a user logs into an app that is enabled for Near chain, the keys (wallet address) are different from the ones assigned to the same user when an EVM-compatible chain is selected or a different non-EVM chain is selected.

## Keys

Why are the Near keys different from EVM-compatible chains?

TBD

<!---
MultiversX uses [BLS multi-signature](https://en.wikipedia.org/wiki/BLS_digital_signature) cryptographic keys.

BLS is different from the [secp256k1](https://www.secg.org/sec2-v2.pdf) curve used for EVM-compatible chains.
--->

# Using Solana

## Configuration

______________________________________________________________________

Is Solana the only non-EVM chain supported by the Arcana Auth SDK?

No.

Refer to the [list of supported chains - EVM and non-EVM](../../web3-stack/chains/) for details.

Can a developer choose to use some EVM-compatible chains along with Solana in an app?

No. Either EVM-compatible chain type or Solana (non-EVM-compatible chain type) chains can be used at a time in an app. When a user logs into an app that is enabled for Solana the keys (wallet address) are different from the one assigned to the same user when EVM-compatible chain is selected.

## Keys

Why are the Solana keys different from EVM-compatible chains?

The cryptographic keys used by Solana are based on [ED 25519 curve](https://en.wikipedia.org/wiki/EdDSA#Ed25519). This is different from the [secp256k1](https://www.secg.org/sec2-v2.pdf) curve used for EVM-compatible chains.

# Validator Onboarding

Frequently asked questions regarding setting up [Arcana DKG validator nodes](../../concepts/validator-nodes/).

## General

______________________________________________________________________

What role do validators play in the Arcana Network?

Validator nodes refer to partner infrastructure that participates in the distributed key generation protocol (DKG). This is used to assign unique keys to authenticated users and manage them in a decentralized manner.

Validators play a key role in achieving the decentralization goal thereby making Arcana Network more secure and truly open.

Where do I get the DKG binaries from?

Refer to the [latest DKG release](https://github.com/arcana-network/adkg/releases) at GitHub.

What is starting ceremony?

It is mandatory for all nodes in the Arcana DKG subsystem to start at the same time for the protocol to function correctly. This is referred to as the starting ceremony aimed at synchronizing the start of DKG nodes.

Node crashed at startup with 'tx fees exceed the configured cap' error

DKG Node Start Error

You will see this error if you are not using the latest DKG binary. After the node crash, before restarting, please make sure that there is no `dkg.sock` file and that you are using the [latest DKG release](https://github.com/arcana-network/adkg/releases) before issuing the `dkg start` command. See [restarting a node](../../validators/onboard-validators/#steps) section in the Arcana Auth Validator Onboarding Guide.

After starting up, I see this. Is this an error?

Current Node List Error

This is not an error. Your validator node is waiting and polling for the other nodes to start up and join in the DKG protocol.

## General

Why is CA not supported by all apps out of the box?

There's no universal approach to interoperability in the blockchain world. There are many ways to address interoperability and Chain Abstraction (CA) is one of them.

Enabling interoperability into every app is complex. App contracts have to be ported to enable cross chain transactions across all chains where interoperability must work. This is not scalable.

The Arcana chain abstraction protocol is a more scalable approach to interoperability. It offers intent-based chain abstraction to Web3 apps.

How can I try chain abstraction?

You can use a Web3 app integrated with the Arcana chain abstraction SDK.

Alternatively, you can try the standalone Arcana CA wallet. This is a limited feature Web3 wallet. Its purpose is to showcase unified balance and chain abstracted transactions when using some of the select Web3 apps.

**Developers**: Integrate Web3 app with Arcana `ca-sdk` and enable unified balance. With unified balance Web3 app users can spend on any chain. Refer to the list of [supported chains and assets](../../../web3-stack/ca_stack/) for details.

**Wallet Users:** [Download](https://chromewebstore.google.com/detail/arcana-wallet/nieddmedbnibfkfokcionggafcmcgkpi) and use the Arcana CA wallet in the context of any [supported app, chains and tokens](../../../web3-stack/ca_wallet_stack/).

How does chain abstraction protocol decide which chain to source the tokens from?

Let us take the following case:

Wallet Balance

*Optimism:* 1 ETH

*Arbitrum:* 1 ETH

*Scroll:* 0 ETH

**User Intent:** Spend 0.5 ETH on Scroll

The selection of source chains and tokens for a chain abstracted transaction is governed by the following logic:

- Source chains are sorted by token balance (descending order)
- Chains with the same balance are sorted by gas price (ascending order)

If multiple chains have the same balance, the one with lower gas price will be picked up to source the tokens.

The protocol selects the first chain in the sorted list. If its balance isnâ€™t enough to cover the transaction amount and gas on the destination chain, it automatically uses the next chain(s) as needed.

## CA SDK

How do I fix the polyfill issues right after import statement when integrating React and Vite app with the Arcana CA SDK?

To fix polyfilling issues, make sure `vite.config.ts` has the polyfilling options configured.

```
import { defineConfig, Plugin } from "vite";
import react from "@vitejs/plugin-react";
import { nodePolyfills, PolyfillOptions } from "vite-plugin-node-polyfills";
import tailwindcss from "@tailwindcss/vite";

const nodePolyfillsFix = (options?: PolyfillOptions | undefined): Plugin => {
return {
    ...nodePolyfills(options),
    resolveId(source: string) {
    const m =
        /^vite-plugin-node-polyfills\/shims\/(buffer|global|process)$/.exec(
        source
        );
    if (m) {
        return `node_modules/vite-plugin-node-polyfills/shims/${m[1]}/dist/index.cjs`;
    }
    },
};
};

// https://vite.dev/config/
export default defineConfig({
plugins: [
    react(),
    tailwindcss(),
    nodePolyfillsFix({
    include: ["buffer"],
    globals: {
        Buffer: true,
        global: true,
        process: true,
    },
    }),
],
define: {
    "process.env": {},
},
});

```

Is the amount refunded if the chain abstracted transaction fails?

Yes. It may not happen instantly.

For chain abstracted transaction safety, follow these guidelines:

1. **Failed transactions?** *Don't panic* - you'll get your tokens back automatically. It may happen in the next settlement cycle. Usually it happens within 15 minutes. But it may take an hour in some cases.
1. **Before transacting:** Always check the transaction details. Review the applicable gas fee, total amount payable, before issuing a transaction.
1. **During transacting:** The status of the chain abstracted transaction is displayed in the app's context. Click on 'View Intent' details link. **Save** the unique intent identifier associated with the transaction. You'll need the **intent identifier** to track a failed transaction if something goes wrong.
1. **Track your transaction:** Use the [Arcana Intent Explorer](https://explorer.arcana.network/) with your intent ID to track status.

**Critical:** Keep your app/wallet open and logged. Especially if you encounter a failed transaction. Refunds often complete within 15 minutes. Note that the session must stay active for a refund to happen.

1. **No refund after 1 hour:** The protocol auto-retries, but you must stay logged in. If you closed the app/wallet, reopen and log back in to enable refund processing. If you did not receive a refund, contact Arcana team. Use any [support](../../../support/) channel. Make sure you mention the **intent identifier** that failed to refund or your wallet address with date / time of the transaction.

**Bottom line:** Your funds are protected. Failed transactions always get refunded. For failed transactions, the protocol itself starts the refund process. If for some reason that does not work, contact [support@arcana.network](mailto:support@arcana.network).

Viewing Refund

To view the refund, a user must open or log into the app and access the wallet. For refunds, ensure that an active session exists. The same wallet should be active as the one used to sign the intent and confirm the chain abstracted transaction.

Why is liquidity fragmentation an issue and how does CA solve it?

Liquidity fragmentation is an issue because it makes it difficult for users to spend their assets on any chain.

Let us take a simple case of a user's wallet that contains 3 USDC on Arbitrum and 2 USDC on Optimism.

If the user intends to send 4 USDC on Base, it is not possible to do so through a traditional wallet. This is because there is liquidity fragmentation for USDC in the wallet across Arbitrum and Optimism.

To be able to send USDC on Base, user must perform several complex steps.

First, there is no USDC on Base to be sent.

User cannot directly spend USDC on Base. This is despite enough USDC tokens when put together on the other two chains in the same wallet account.

To spend on Base, the user must bridge tokens from one or more source chains. That is a complex, multi-step, multi-click, time-consuming process.

It also needs non-trivial knowhow about secure bridging and getting the best token exchange deals.

Next, the user must to switch the network to Base and then send the tokens.

[Chain Abstraction (CA)](../../../concepts/ca/chain-abstraction/) lets user view unified balance across the source chains. CA lets users spend 4 USDC on Base with a single click.

The user does not have to convert the tokens on Optimism or Arbitrum to Base tokens to make this transaction on Base. With unified balance, onboarding a new chain does not necessarily mean that the user must first get tokens on the new chain.

The user can pledge or sign an intent to send tokens from any of the source chains to the destination chain.

How can a Web3 developer enable unified balance for dApp users?

Download and [install the appropriate CA SDK flavor](../../../ca/ca-sdk-installation/) as per the app type.

- **Web3 apps**: Install the [Arcana CA SDK](https://www.npmjs.com/package/@arcana/ca-sdk). Check out the integration example in [codesandbox](https://codesandbox.io/p/github/arcana-network/ca-sdk-example/main)
- Web3 apps using the **Wagmi library**: Install the [Arcana CA Wagmi SDK](https://www.npmjs.com/package/@arcana/ca-wagmi). Try the [codesandbox](https://codesandbox.io/p/github/arcana-network/ca-wagmi-example/main) integration example.

Refer to the respective SDK quick start guide for integration details.

I'm a Web3 wallet user, how can I enjoy unified balance with chain abstraction?

Web3 wallet users can unify assets across chains and spend on any chain. Log into a Web3 app integrated with the Arcana CA SDK, use any third-party browser-based wallet to issue chain abstracted transactions.

Alternatively, users can [download](https://chromewebstore.google.com/detail/arcana-wallet/nieddmedbnibfkfokcionggafcmcgkpi) and install the standalone Arcana CA wallet. It is a browser extension that can be deployed and used in the context of any supported [Web3 app](../../../web3-stack/ca_wallet_stack/#apps).

Why do Arcana CA wallet users need to pay gas fees to set up CA with Layer 1 chains?

When setting up Arcana chain abstraction to include Layer 1 chains, users need ETH to pay gas fees for signing the token allowance transaction with the Arcana vault smart contract. The Arcana standalone CA wallet doesn't cover these Layer 1 chain gas fees. As a result, users who choose to include Layer 1 chains in their CA scope must pay these gas fees themselves to set up the CA allowance.

What is a CA allowance and why are allowances needed?

Allowance or 'Permit' in the blockchain context allows a third party such as a smart contract, to perform transactions. This transaction happens from a user's EOA for a specified amount â€” without accessing the user's private key.

In the Arcana's CA context, [allowances](../../../concepts/ca/allowances/) enable unified balance and chain abstracted transactions. This lets users spend on any destination chain provided they have sufficient funds on the source chains. Allowance lets the protocol collect required funds from the source chains. It uses these funds to pay for gas and the transaction amount.

Which chains and ERC20 tokens does the unified balance feature support for chain abstraction SDKs?

Refer to the latest [supported chains and token list](../../../web3-stack/ca_stack/).

For the standalone Arcana CA wallet used to demonstrate chain abstraction the [supported chain and token list](../../../web3-stack/ca_wallet_stack/) may vary from the SDK. It can be used only in the context of a limited set of [supported apps](../../../web3-stack/ca_wallet_stack/).

Does integration CA SDK automatically enable an in-app CA wallet?

No there is no built-in in-app wallet offered by the Arcana SDKs. Web3 apps integrating with the Arcana CA SDK must use a third-party wallet for blockchain transactions.

How can a Web3 app enable unified balance for a user account?

The app must download, install and integrate with the CA-SDK. Then use the EIP-1193 provider to access the unified balance in the context of an authenticated user. See [Arcana CA SDK Reference](https://ca-sdk-ref-guide.netlify.app/) and [the usage guide](../../../ca/ca-usage-guide/) for details.

Can Arcana CA SDK work with Wagmi Web3 app?

For Web3 app built using Wagmi, integrate with the Arcana CA Wagmi SDK.

Can the Wagmi apps enable unified balance and chain abstraction?

Yes. Integrate teh app with both the CA SDKs to enable unified balance and chain abstraction: * Arcana CA SDK * Arcana CA Wagmi SDK

The `ca-wagmi` SDK replaces the Wagmi hooks: `useSendTransaction` and `useWriteContract`.

It also provides hooks such as `useBalance`, `useBalanceModal` and `useCAFn`. These hooks enable unified balance plug-and-play popup modal and chain abstracted `bridge`, `transfer` functions.

For details see [Arcana CA Wagmi SDK Quick Start Guide](../../../quick-start/ca-wagmi-quick-start/) and the [Arcana CA Wagmi SDK Reference](https://ca-wagmi-sdk-ref-guide.netlify.app/).

Who is the target audience for the Arcana CA SDKs?

Arcana CA SDKs help Web3 dApp developers handle fragmented blockchain assets, letting users spend on any chain.

CA SDK can integrates with dApps to offer unified balances across chains and chain abstracted transactions.

For a complete list of real life applications of unified balance, see [use cases](../../../ca/introduction/use-cases/) section.

Who is the target audience for the standalone Arcana CA wallet?

The standalone Arcana CA wallet is meant for wallet users. It is not a full featured wallet.

It showcases chain abstracted transactions for some of the popular [Web3 apps](../../../web3-stack/ca_wallet_stack/). Users can try viewing unified balance and trying out chain abstraction.

CA Transaction Limit

The standalone Arcana CA wallet has a $100 limit for any chain abstracted transactions

Transfers on the same chain have no such limit.

Give an example of how the CA SDK solves liquidity fragmentation?

**Liquidity Fragmentation**

Suppose a user has:

- Arbitrum: 3 USDC
- Optimism: 4 USDC
- Base: 0 USDC
- Ethereum: 0.001 ETH

The user wants to send 5 USDC to Base.

No single chain has enough funds, so liquidity fragmentation complicates the process. The user must figure out how to bridge, convert, and move assets to Base, which is complex and time-consuming.

**How unified balance and chain abstraction solve this**

With chain abstraction, the user sets up allowances once. Allowances control how much can be deposited from each source chain to Arcana vaults. Solvers provide liquidity on Base, and the protocol settles payments using these deposits.

The user signs an intent specifying the amount to deposit from source chains for the destination chain. Arcana CA collects pledged tokens and fees based on allowances. Solvers compete to provide liquidity in the user's Base EOA. After signing, the user gets liquidity almost instantly and can complete the 5 USDC transaction on Base seamlessly.

Can I request gas tokens using ERC20 through Arcana Chain Abstraction??

Yes, you can request gas tokens using ERC20 via Chain Abstraction.

For example, if you have 13 USDC and 0 ETH on Optimism but need to make a 15 USDC transaction requiring 0.0000001 ETH for gas, you'll need an extra 2 USDC plus the gas fee.

You can pledge or sign an intent to cover for the total USDC and gas fees. You can use the funds from other supported chains like Arbitrum or Base. Assumption: You have enough USDC to cover the deficit and fees.

Once you sign the intent, Arcana CA SDK supplies the needed USDC and gas in a single transaction.

Can a user review intent details before issuing a chain abstracted transaction?

Yes.

Users can review the intent details before issuing a CA transaction issued through the Arcana CA wallet. Apps integrated with the CA SDK displays the intent details from within app's context. The chain abstracted transaction occurs when a user approves it. The app can enable any third-party browser-based wallet to let the user issue a chain abstracted transaction.

Before submitting a transaction, user can click 'View Intent' to see the intent details. Once the transaction is successful, there are options to view the intent details as well as the transaction details.

To view the intent details later, user must note the intent identifier. Refer tot the intent details displayed in the 'View Intent' screen. Note it before confirming the transaction.

Use the Arcana Intent Explorer accessible at: <https://explorer.arcana.network/> to view the intent details.

You must enter the intent ID to view details at a later time.

View Intent Details

Does chain abstracted `transfer` allow funds deposit in a smart contract? Does it cause blockchain state update?

No. `transfer` does not support `data`.

Use [`request` with `sendTransaction`](https://ca-sdk-ref-guide.netlify.app/#quick-start) to deposit funds to a smart contract and update the blockchain state.

Why isn't this a normal transaction as balance exists on the destination chain?

Suppose you try to send 0.2 USDC from a 0.25 USDC balance, but the transaction uses funds from other chains. This is not an error.

A normal transaction requires both enough tokens and enough gas for fees. Even if you have enough tokens (0.2 < 0.25 USDC), the remaining balance may not cover gas fees. If native funds can't cover both the transaction and gas, the protocol pulls from other chains' allowances. This makes it a chain-abstracted transaction instead of a normal one.

## CA Wallet

Is the standalone, browser-based CA wallet meant for Web3 users?

Arcana offers the standalone, browser-based wallet meant for demonstration purposes. Web3 users can use this wallet to view unified balance and try chain abstracted transactions.

This is not a full-featured wallet. It does not work with any Web3 app. Use this wallet with any of the [supported Web3 applications](../../../web3-stack/ca_wallet_stack/#apps).

Where can a user download the Arcana CA wallet?

[Download](https://chromewebstore.google.com/detail/arcana-wallet/nieddmedbnibfkfokcionggafcmcgkpi) the CA wallet in the Chrome Store.

What are the available options for allowance setup?

There are two options:

To use chain abstraction, you can select different types of chains. It can be a combination of L1 and L2 chains or the L2 chains only:

1. L1 + L2 + Avalanche

   For example:

   - Ethereum, Avalanche and/or any other supported L2 EVM-compatible chains
   - Ethereum and any other supported L2 EVM-compatible chains
   - Fuel, Avalanche and/or any other supported L2 EVM-compatible chains
   - Fuel and any other supported L2 EVM-compatible chains
   - Ethereum and Fuel

1. L2 + Avalanche

   For example,

   - Avalanche and any other supported L2 EVM-compatible chains
   - Any supported L2 EVM-compatible chains

How do the allowance setup options differ in usage?

If you choose option 1, your wallet must have native token to cover gas fees on the L1 chain for the allowance transaction.

If you select option 2 (Only L2 chains and/or Avalanche ) then it is not mandatory. Arcana sponsors the gas fee for the allowance transaction.

Why must a user set up allowance before using the CA wallet?

Allowances let users set the largest amount they permit for transfer from a source chain. The [chain abstraction](../../../concepts/ca/chain-abstraction/) protocol pulls these funds and deposits them into the Arcana vaults on the source chains. The protocol uses these deposits to pay for the transaction on the destination chain.

Why must a user have gas tokens in the wallet to set up allowance for Layer 1 blockchains?

Layer 1 chains such as Ethereum and Fuel require the user to pay for the gas fee and pay for the allowance set up transaction. For Layer 2 chains and Avalanche, the gas fee required to make the allowance set up transaction is sponsored by Arcana until further notice.

Limited Gas Sponsorship

The gas fee sponsored for the allowance setup transaction is limited.

For BSC chain, it is capped at $0.05. If gas fees are high at the time of allowance setup, then the allowance setup transaction may fail if the user does not have tokens to pay for the gas fee.

Does the Arcana CA wallet allow any CA transactions?

The chain abstracted transaction request for funds (RFF) limit is $100.

Does the Arcana CA wallet support Testnet as well as Mainnet?

Use the Arcana CA wallet to issue chain abstracted transactions for any of the supported Web3 *apps, chains and tokens*. See [here](../../../web3-stack/ca_wallet_stack/) for the complete list.

Why is Arcana CA Wallet not shown as an option when using WalletConnect?

When using WalletConnect, if you do not see the

- You havenâ€™t installed the standalone Arcana CA wallet from the Chrome Store.
- You have installed the it but the browser extension is disabled.

If the issue persists, contact [support@arcana.network](mailto:support@arcana.network).

Does the Arcana CA wallet support cross-chain token swaps?

For now, the Arcana CA Wallet allows users to combine a single type of token across supported source chains. They can spend the unified balance of that token on any destination chain.

We are actively working on the cross-chain token swap feature.

Cross-Chain Swap Functionality:

- Allows users to spend assets on a destination chain without prior liquidity.
- Enables asset combination across source chains for unified balance.
- Users can spend the combined balance in any supported token on any destination chain.

Is `window.ethereum` supported by Arcana CA wallet?

Yes.

Note that apps using the EIP-1193 provider that use the Arcana CA wallet may face issues sometimes if they use `window.ethereum`.

This is because `window.ethereum` can be overridden by the latest installed wallet or the last used wallet in the browser.

Apps using EIP-6963 will not see such an issue when using `window.ethereum`.

What is the `bridge` feature in the Arcana CA wallet?

The `bridge` feature in Arcana CA wallet allows users to move tokens in a chain abstracted manner. They can move tokens from two or more source chains to a destination chain near instantly in their wallet.

This feature uses Arcanaâ€™s intent-based chain abstraction to bridge userâ€™s funds. No third-party bridge is involved.

Does the Arcana CA wallet support addition of custom ERC-20 tokens?

Yes.

Users can add custom ERC-20 tokens and view token balances in the Arcana CA wallet. The wallet displays default supported tokens such as USDT, USDC, and ETH.

Supported tokens

Custom tokens are not supported for chain abstracted transactions and unified balance.

Unified balance and chain abstracted transactions are applicable for [supported apps, chains, and tokens](../../../web3-stack/ca_wallet_stack/).

What is allowance and why is must allowances be set up for using the Arcana CA wallet?

Allowances enable a third party, such as a smart contract, to perform transactions on behalf of the user. It can issue a deposit transaction from the user's wallet for a specified amount, without accessing the user's private key.

Users must sign allowances on the source chain(s) to enable the Arcana chain abstraction protocol. This permits the Arcana Vault contract to deposit the necessary funds from the source chains.

The deposits are done as per the user controlled allowance settings on the source chains.

This lets the protocol to enables liquidity on the destination chain. A chain abstracted transaction on the destination chain addresses the user's intent.

For some websites the Arcana CA wallet is not displayed despite having the browser extension active?

Arcana Networkâ€™s Chain Abstraction Wallet is an injected wallet. This is same as how a wallet such as Rabby works.

If a website does not allow injected Web3 wallets, then it will not show up.

Many websites support one injected provider (like MetaMask) at a time. If more than one injected wallets are active, the website might not recognize all but one, leading to others being hidden.

Also, some websites that need user authorization for security reasons. Such websites ensure that they can accesses the wallet data once the user explicitly grants permission. Such sites may not allow the injected wallets or may be optimized for popular injected wallets such as MetaMask.

# Overview

**Arcana** offers **Arcana Auth SDK** that integrates with Web3 apps to enable user onboarding via [social login](../concepts/social-login/). It allows authenticated users to sign blockchain transactions through the in-app, embedded, non-custodial Arcana wallet.

## Get Started

```
flowchart LR
    subgraph Register [1.Register App]
    direction LR
      A0(((Step 1))) --> B0([Dashboard])
      B0 --> C0[Register App] --> E0[Client ID] 
      C0 -- Configure App --> D0[SDK Settings]   
    end

classDef an-highlight stroke:#3169b3,stroke-width:0.25rem;
class E0 an-highlight
```

```
flowchart LR
    subgraph Integrate [2.Integrate SDK with App]
    direction LR
      A00(((Step 2))) --> F00[Install SDK]
      F00 -- Integrate App --> G00[Initialize SDK]
      E00[ClientID] --> G00
      G00 --> H00(Call SDK Functions)
    end

classDef an-highlight stroke:#3169b3,stroke-width:0.25rem;
class E00 an-highlight
```

## Usage

```

flowchart LR 
    subgraph Step1 [Arcana Auth SDK Usage]
    direction LR
        A1(((Start))) -- 1.Register App --> B1(Dashboard Login)
        B1  --> C1[Get Client ID] --> E1
        A1 -- 2.Integrate App --> D1[Install Auth SDK] --> E1[Initialize <code>AuthProvider</code>] --> F1[Social Login Fns]
        E1 --> G1[Web3 Wallet Ops]
    end

classDef an-highlight stroke:#3169b3,stroke-width:0.25rem;
class C1 an-highlight
```

**Key Features**

- Onboard users quickly, at scale, via popular [social login providers](../web3-stack/auth/).
- Provide instant access to use the in-app, non-custodial Arcana wallet.
- Easy to customize and integrate with various [Web3 app types](../auth/sdk-installation/).

Current Version

Arcana CA SDK: Use [**v0.0.3**](https://www.npmjs.com/package/@arcana/ca-sdk).

Arcana Auth SDK: Use [**v1.0.12**](https://www.npmjs.com/package/@arcana/auth). Older versions may encounter potential breaking changes that require app reconfiguration, integration code updates, and redeployment.[Migrate](../migration/main-auth-v1.0.12-migration/) **Arcana Auth SDK v1.0.11 -> v1.0.12**.

## See Also

- [Wallet User Guide](../user-guides/wallet-ui/)
- [Dashboard User Guide](../setup/config-dApp-with-db/)
- [Auth SDK](../concepts/authsdk/)

# Arcana Auth SDK v0.2.x -> v0.3.0 Migration

This guide is meant for developers who have already integrated apps with an older version of the Arcana Auth SDK and run them using Arcana Network Testnet. If you are new to Arcana Auth SDK, see Quick Start Guides to get started.

When you migrate from an older version of the Arcana Auth SDK to v0.3.0, there are some breaking changes. These changes are mostly related to deploying an app on the Arcana Testnet and the use of Arcana Storage SDK (no longer supported). No breaking changes are expected in the Arcana Auth SDK usage related to user onboarding or blockchain transaction signing functions. Also, the Arcana wallet has a revamped, better look in this release.

## What has Changed?

- This release **does not** contain Arcana Storage SDK.
- Arcana Blockchain is no longer listed in the list of available blockchain networks in the Arcana wallet dropdown.
- Now you can use the Arcana Auth SDK and the Arcana wallet on any supported EVM-compatible chain for user onboarding and signing of blockchain transactions.
- The blockchain transaction activity is no longer available in the form of a tab in the main Arcana wallet. You can see the activity listed in the newly added combined notification screen in the Arcana wallet .

### Arcana Developer Dashboard

- In this release there are some breaking changes in the registered application database schema. If you were already using an older version of the Arcana Auth SDK, you need to re-register and configure your application again using the latest Arcana Developer Dashboard. The **Client ID** assigned to you earlier will not work. You need to re-register and obtain a new one. Make sure you use the new **Client ID** while integrating with the Arcana Auth SDK .

### Arcana Auth SDK

- In this release there is no usage change in the Arcana Auth SDK.
- After re-registering your app, the dashboard will assign a new **Client ID**. You need to use the new Client ID during integration with the Arcana Auth SDK.

## How to Migrate to v0.3.0

1. You need to re-register your app using the Arcana Developer Dashboard. This is required to obtain a fresh **Client ID** and use that for integrating with the Arcana Auth SDK. The older **Client ID** will **NOT WORK** with the latest Arcana Auth SDK v0.3.0 release. Follow the instructions in the [Registration Guide](../../setup/config-auth/register-app/) to re-register and re-configure your app.
1. If you were using the Arcana Storage SDK, that is no longer supported. You need to stop using Storage SDK in your app for the time being until we begin supporting Storage SDK in a future release.
1. You need to [re-integrate your app with the Arcana Auth SDK](../../auth/integrate/vanilla-html-css-js/) by providing the new **Client ID** after re-registering and configuring your application using the developer dashboard.
1. If you had enabled the **Arcana Testnet** blockchain network in Web3 wallet operations, you will need to remove this network altogether as it no longer exists. Also, the Arcana Testnet Blockchain Explorer is no longer available. Arcana smart contracts are deployed on Polygon now. In this release, the Arcana wallet supports all EVM-compatible chains besides the default ones that show in the drop-down. See [Wallet User Guide](../../user-guides/wallet-ui/use-wallet-ui/).
1. The wallet activity tab on the wallet token asset tab is gone. A new 'notification' tab is available in the wallet. You can see the list of all activities in the [activity tab](../../user-guides/wallet-ui/use-wallet-ui/#transaction-activity). It lists send tokens, contract deployment, and contract interaction transactions performed by the wallet user.

## What's New?

The new improved Arcana Auth SDK now supports NFT preview, NFT transactions, and management of NFT collections. A new combined notification screen displays blockchain transactions related to smart contracts, tokens as well as NFTs. For details, see [Arcana Auth SDK release notes](../../relnotes/rn-beta-auth-v0.3.0/).

New to Arcana Network? Get started with the Arcana Auth SDK Quick Start Guides.

Using an older version and want to migrate? Read on...

## What has Changed?

If you are already using the SDK, there are no usage changes in this release.

This new release includes support for Custom Auth and wallet UI features for off-ramping crypto to fiat.

## How to Migrate to v1.0.12?

Install and upgrade to the latest Arcana Auth SDK v1.0.12. No integration code updates are required for the features in the previous release.

If you plan on using the Passkeys, check out the section about [Passkeys](../../concepts/authtype/auth-passkeys/) and [how to onboard users via passkeys](../../auth/passkeys-auth/) in apps integrated with the Arcana Auth SDK. See how to set up user onboarding via [Telegram, Apple](../../setup/) in the setup section of the documentation. Then refer to the usage section for [how to install the SDK, integrate app and onboard users](../../auth/sdk-installation/) depending upon the app type.

That's all!

## Previous Releases

Are you using an older version of the Arcana Auth SDK?

Refer to the [release notes archive](../../relnotes/archives/) and [Migration Guides](../archives/). Upgrade to the latest version.

## Questions?

______________________________________________________________________

Refer to the [Arcana Auth FAQ](../../faq/faq-gen/), [Troubleshooting Guide](../../troubleshooting/), and other developer resources.

Can't find what you are looking for? Contact [Arcana Support](../../support/).

# Arcana Auth SDK v0.3.0 -> v1.0.0 Migration

This guide is meant for developers who have already integrated apps with an older version of the Arcana Auth SDK and run them using Arcana Network Testnet.

If you are new to Arcana Network, see Arcana Auth SDK Quick Start Guides to get started.

When you migrate from using the Arcana Auth SDK v0.3.0 to the v1.0.0 release, please note that there are a few breaking changes that require you to use Arcana Developer Dashboard and re-register, re-configure the app settings as per the Arcana Auth SDK configuration setting requirements, and obtain a new **Client ID**. Only then you can re-integrate the app successfully with the Arcana Auth SDK .

## What has Changed?

The following section lists changes between Arcana Auth SDK v0.3.0 and v1.0.0.

Use Latest Release

If you are using Arcana Auth SDK v0.2.2 or older, please see [How to migrate to Arcana Auth SDK v0.3.0](../beta-auth-v0.3.0-migration/).

### Arcana Developer Dashboard

Earlier, by default, each registered application was associated with a 'Testnet' configuration profile and an **Client ID**. Now you can have a 'Testnet' as well as a 'Mainnet' configuration profile associated with your registered application. Each profile has its unique **Client ID**. You can deploy an app on the Arcana Testnet and run another instance (a stable version) on the Arcana Mainnet.

#### Mainnet Configuration Profile

- By default, when any new application is registered and configured, a 'Testnet' profile is created. The new dashboard allows developers to also create a 'Mainnet' configuration profile for the app. Developers can create a Mainnet profile and switch to using the Arcana Mainnet or deploy two instances of their app, one for Testnet and the other for Mainnet.

- To create the 'Mainnet' profile you can choose to copy the existing 'Testnet' profile or create a new 'Mainnet' configuration profile. Note that a unique, **new Client ID** is assigned to the 'Mainnet' profile whether it is copied or created afresh.

- To deploy an app on the Arcana Mainnet, developers are required to perform two things:

  - First, use the dashboard to create a 'Mainnet' configuration profile for the app and obtain a **new Client ID**.
  - Second, the developers must also re-integrate their app and update the code where they instantiate the `AuthProvider` appropriately so that the 'Mainnet' **Client ID** is used and the `network` parameter is initialized as `mainnet` in the `AuthProvider` constructor.

#### Keyspace in Mainnet Deployments

- The 'Mainnet' configuration profile for the app has an additional setting meant for selecting the **Keyspace** type. Developers can choose between the default **App-specific Keys** or **Global Keys**. [Global Keyspace](../../concepts/keyspace-types/) enables a better user experience whereby the user is assigned the same wallet address across applications in the Arcana ecosystem in a secure manner. Enabling the global keys feature requires developer verification and whitelisting. For details, see ['How to Configure Keyspace'](../../setup/config-dApp-with-db/#configure-keyspace) section in the Dashboard User Guide.

#### Usage Tracking

- In this release, the Developer Dashboard tracks application usage data in terms of MAU, both for Arcana Testnet as well as Mainnet deployments. Billing is applicable only for Mainnet deployments and bills are generated at the end of the month for Arcana Mainnet usage.

### Arcana Auth SDK

The Arcana Auth SDK v1.0.0 supports deploying apps on the Arcana Mainnet. As there are breaking changes in the App database schema, you need to re-register your apps using the Arcana Developer Dashboard and obtain a new **Client ID** before you can integrate the app with the Arcana Auth SDK . This is required irrespective of whether you chose to deploy your app on the Arcana Testnet or the Mainnet.

To deploy an app on the Arcana Mainnet, you need to first login into the Arcana Developer dashboard, create a 'Mainnet' configuration profile for your app and choose the requisite 'Keyspace' type. In addition to creating the 'Mainnet' configuration profile, developers need to update the Arcana Auth SDK integration code for creating a new `AuthProvider` as follows:

- Use the **Client ID** specified to the 'Mainnet' configuration profile in the dashboard
- Set the `network` parameter in the `AuthProvider` constructor to 'mainnet'

## How to Migrate to v1.0.0?

*Do not jump into installing, and upgrading the Arcana Auth SDK in your sources and running your app.*

To successfully use the Arcana Auth SDK, you need to first **re-create your app configuration profile** using the Arcana Developer Dashboard and then integrate your app with the Arcana Auth SDK for onboarding users and enabling the Arcana wallet.

If you wish to deploy your app on Arcana Testnet, follow steps 1 and 3. To deploy your app on Arcana Mainnet, follow all three steps:

1. **Reconfigure & Get Client ID**: If you are using v0.3.0, you would already have created a 'Testnet' configuration profile for your app. When you log into the dashboard, this profile will not show up by default. Due to breaking changes in the Arcana Auth SDK release v1.0.0, you will be required to re-register your app using the Arcana Developer Dashboard. When you re-register and create a new profile for the app, by default, it is assigned as a 'Testnet' configuration. This step is mandatory irrespective of whether you want to deploy your app on Arcana Testnet or Mainnet or both.

1. **Mainnet Configuration**: To deploy your app on the Arcana Mainnet, you must first create a 'Mainnet' configuration profile using the Arcana Developer Dashboard. See instructions [here](../../setup/config-dApp-with-db/#manage-configuration-profiles). Once you have the 'Mainnet' configuration profile ready, copy the new **Client ID** assigned to the 'Mainnet' configuration profile. This will be required during Arcana Auth SDK integration later. At the time of 'Mainnet' profile creation, you need to specify whether you would like to use the **App-specific Keys** (default) or use the **Global Keys** feature for your app. To enable the global keys feature, developers must submit a verification form and get approval. Wait to onboard users until you receive a response to your verification request. Otherwise, the wallet address assigned to your app users may change after the **Global Keys** feature takes effect. If you do not choose **Global Keys**, your 'Mainnet' profile is configured to use **App-specific** keys by default. What this means is that your app users will see different wallet addresses across different apps in the Arcana ecosystem. For details, see [Global Keys](../../concepts/keyspace-types/).

   Update Redirect URI for Mainnet

   You must update the OAuth redirect URI values for all the social providers configured for your 'Mainnet' profile. Use the respective social provider console to update callback URL values for Mainnet. Copy the new **redirect URI** value from the application's 'Mainnet' configuration settings dashboard page and add it to the list of redirect URIs setup in the OAuth configuration settings for your provider. You would have earlier added the redirect URI for the 'Testnet' configuration profile, now update the 'Mainnet' URI too. That's all.

1. **Install & Integrate**: Install and upgrade the Arcana Auth SDK to v1.0.0. Integrate the Arcana Auth SDK and create a new `AuthProvider` instance by specifying the **Client ID**. If you wish to deploy your app on the Arcana Testnet, provide the **Client ID** listed in the 'Testnet' configuration profile of your app in the dashboard. Also, you need to set the `network` parameter in the `AuthProvider` constructor to `testnet`. This is important because, by default, Arcana Auth SDK v1.0.0 has the `network` parameter set to using 'mainnet'. Similarly, if you want to deploy your app on the Arcana Mainnet, then use the **Client ID** assigned to the 'Mainnet' configuration profile of your app in the dashboard and set the `network` parameter to 'mainnet'.

Refer to the examples below to see how to integrate and deploy your app on the Arcana Testnet and Mainnet after successfully registering and configuring the app.

### Example: Deploy on Testnet

Register your app using the Arcana Developer Dashboard. By default, the 'Testnet' configuration profile is created. You can provide the social provider settings as per your user onboarding requirements. Save the **Client ID** assigned to your app displayed on the top right of the dashboard screen. This will be required during integration with the Arcana Auth SDK as shown below:

```
import {AuthProvider} from "@arcana/auth";

const provider = new AuthProvider(
  "xar_test_87f34a9c7879cd4b726ba36a99e164837d70143a", {  // testnet Client ID
  // network: 'testnet',  // optional
  chainConfig: {
    chainId: '80002',      // selected chain in the wallet network dropdown UI
    rpcUrl: 'https://rpc.ankr.com/polygon_amoy',  // RPC URL of the selected chain in the wallet network dropdown UI
  },
  alwaysVisible: true,
  setWindowProvider: true,
  debug: true,
  position: 'right',
  theme: 'dark',
});

```

Once a user authenticates, the following wallet UI is displayed when the app is deployed on the Arcana Testnet.

Testnet Wallet

### Example: Deploy on Mainnet

Register your app using the Arcana Developer Dashboard. By default, the 'Testnet' configuration profile is created. Make sure you create a 'Mainnet' profile and save the **Client ID** assigned to your app for the 'Mainnet' configuration. It is displayed on the top right of the dashboard screen.

To bring up your app on Arcana Mainnet, in your integration code, use the `Mainnet` **Client ID** and specify the `network` parameter as 'mainnet' while instantiating the `AuthProvider` as shown below:

```
import {AuthProvider} from "@arcana/auth";

const provider = new AuthProvider(
  "xar_live_d7c88d9b033d100e4200d21a5c4897b896e60063", {  //mainnet Client ID
  // network: 'mainnet',  // optional
  chainConfig: {
    chainId: '137',      // selected chain in the wallet network dropdown UI
    rpcUrl: 'https://polygon-rpc.com/',  // RPC URL of the selected chain in the wallet network dropdown UI
  },
  alwaysVisible: true,
  setWindowProvider: true,
  debug: true,
  position: 'right',
  theme: 'dark',
});

```

Once a user authenticates, the following wallet UI is displayed when the app is deployed on the Arcana Mainnet.

Mainnet Wallet

## What's New?

Besides Testnet/Mainnet and Global Keyspace features, the Arcana Auth SDK v1.0.0 uses a new, improved asynchronous distributed key generation (ADKG) subsystem. In addition to the DKG nodes operated by Arcana, two nodes are run and managed by Comdex and LugaNodes.

For more details, see [Arcana Auth SDK v1.0.0 release notes](../../relnotes/rn-main-auth-v1.0.0/) for details.

# Arcana Auth SDK v1.0.0 -> v1.0.1 Migration

This guide is meant for developers who have already integrated apps with Arcana Auth SDK v1.0.0 and run them using Arcana Testnet.

If you are new to Arcana Network, see Arcana Auth SDK Quick Start Guides to get started.

## What has Changed?

The following section lists changes between Arcana Auth SDK v1.0.0 and v1.0.1.

### Arcana Developer Dashboard

No changes or updates in the dashboard usage.

### Arcana Auth SDK

When you migrate from using the Arcana Auth SDK v1.0.0 to the v1.0.1 release, there is no breaking change or reconfiguration required. The default setting of the `network` parameter in the `AuthProvider` constructor has changed. Earlier it was set to 'mainnet' but now it is set to 'testnet' by default.

## How to Migrate to v1.0.1?

1. If you are deploying your app on the Arcana Testnet, make sure that the app integration code uses the **Client ID** specified in the 'Testnet' configuration profile in the app dashboard. You can set the `network` parameter in the `AuthProvider` constructor as 'testnet' but it is not essential since the default setting in the Arcana Auth SDK v1.0.1 is 'testnet'.
1. If you are deploying your app on the Arcana Mainnet, make sure that the app integration code uses the **Client ID** assigned to the 'Mainnet' configuration profile in the app dashboard. Also, you need to specify the `network` parameter in the `AuthProvider` constructor as 'mainnet' in order to deploy your app on the Arcana Mainnet. This is important because, by default, the Arcana Auth SDK uses 'testnet' as the default `network` value.
1. Upgrade your Arcana Auth SDK to v1.0.1 and you are good to go.

### Example: Deploy on Testnet

If you have not already registered, only then register your app using the Arcana Developer Dashboard. By default, the 'Testnet' configuration profile is created. You can provide the social provider settings as per your user onboarding requirements. Save the **Client ID** assigned to your app displayed on the top right of the dashboard screen. This will be required during integration with the Arcana Auth SDK as shown below:

```
import {AuthProvider} from "@arcana/auth";

const provider = new AuthProvider(
  "xar_test_87f34a9c7879cd4b726ba36a99e164837d70143a", {  // testnet Client ID
  // network: 'testnet',  // optional
  chainConfig: {
    chainId: '80002',      // selected chain in the wallet network dropdown UI
    rpcUrl: 'https://rpc.ankr.com/polygon_amoy',  // RPC URL of the selected chain in the wallet network dropdown UI
  },
  alwaysVisible: true,
  setWindowProvider: true,
  debug: true,
  position: 'right',
  theme: 'dark',
});

```

Once a user authenticates, the following wallet UI is displayed when the app is deployed on the Arcana Testnet.

Testnet Wallet

### Example: Deploy on Mainnet

If you have not already registered your app using theArcana Developer Dashboard , only then register it. By default, the 'Testnet' configuration profile is created and associated with a 'Testnet' **Client ID**. If you want to deploy on the Arcana Mainnet, then make sure you create a 'Mainnet' profile using the Arcana Developer Dashboard. Save the **Client ID** assigned to your app for the 'Mainnet' configuration. It is displayed on the top right of the dashboard screen when you select 'Mainnet' from the dropdown or when you click on the 'Mainnet' button displayed on the app card in the **Manage Apps** screen.

In the app integration code, use the `Mainnet` **Client ID** and specify the `network` parameter as 'mainnet' while instantiating the `AuthProvider` as shown below:

```
import {AuthProvider} from "@arcana/auth";

const provider = new AuthProvider(
  "xar_live_d7c88d9b033d100e4200d21a5c4897b896e60063", {  //mainnet Client ID
  // network: 'mainnet',  // optional
  chainConfig: {
    chainId: '137',      // selected chain in the wallet network dropdown UI
    rpcUrl: 'https://polygon-rpc.com/',  // RPC URL of the selected chain in the wallet network dropdown UI
  },
  alwaysVisible: true,
  setWindowProvider: true,
  debug: true,
  position: 'right',
  theme: 'dark',
});

```

Once a user authenticates, the following wallet UI is displayed when the app is deployed on the Arcana Mainnet.

Mainnet Wallet

## What's New?

This release has no new features.

For more details about this release, see [Arcana Auth SDK v1.0.1 release notes](../../relnotes/rn-main-auth-v1.0.1/) for details.

# Arcana Auth SDK v1.0.9 -> v1.0.10 Migration

New to Arcana Network? Visit see Arcana Auth SDK Quick Start Guides to get started.

Using an older version and want to migrate? Read on...

## What has Changed?

In this release there are **no usage changes** from the previous version of the SDK.

This new release includes support for Web3 gaming apps based on the Unity framework, support for MultiversX chain in the Arcana wallet, and minor bug fixes.

## How to Migrate to v1.0.10?

Install the latest Arcana Auth SDK v1.0.10. No integration code updates are required for the features in the previous release.

### MultiversX Support

If you wish to use this new release and add support for MultiversX in your app, there may be some changes related to the [configuration of MultiversX](../../setup/config-dApp-with-db-for-mvx/) as the default chain in the dashboard. Note that the [supported Web3 wallet operations for the MultiversX chain](../../auth/web3-ops/mvx/) are different from those for the EVM-compatible chains. See [MultiversX Quick Start Guide](../../quick-start/mvx-quick-start/) for more details.

That's all!

# Arcana Auth SDK v1.0.10 -> v1.0.11 Migration

New to Arcana Network? Get started with the Arcana Auth SDK Quick Start Guides.

Using an older version and want to migrate? Read on...

## What has Changed?

In this release there are **no usage changes** from the previous version of the SDK.

This new release includes support for Custom Auth and wallet UI features for off-ramping crypto to fiat.

## How to Migrate to v1.0.11?

Install and upgrade to the latest Arcana Auth SDK v1.0.11. No integration code updates are required for the features in the previous release.

If you plan on using the Custom Auth or wallet off-ramping feature, check out the following documentation updates:

- What is [Custom Auth](../../concepts/authtype/custom-auth/)?
- [How to configure](../../setup/config-custom-auth/) Custom Auth feature usage via the Arcana Developer Dashboard?
- [How to integrate an app that uses custom user authentication](../../auth/custom-auth/) and enable Arcana Auth SDK and signing of blockchain transactions for authenticated users?
- [How to buy/sell crypto](../../user-guides/wallet-ui/use-wallet-ui/#buysell-crypto) when using Arcana wallet?

That's all!

# Arcana Auth SDK v1.0.11 -> v1.0.12 Migration

New to Arcana Network? Get started with the Arcana Auth SDK Quick Start Guides.

Using an older version and want to migrate? Read on...

## What has Changed?

If you are already using the SDK, there are no usage changes in this release.

This new release includes support for Custom Auth and wallet UI features for off-ramping crypto to fiat.

## How to Migrate to v1.0.12?

Install and upgrade to the latest Arcana Auth SDK v1.0.12. No integration code updates are required for the features in the previous release.

If you plan on using the Passkeys, check out the section about [Passkeys](../../concepts/authtype/auth-passkeys/) and [how to onboard users via passkeys](../../auth/passkeys-auth/) in apps integrated with the Arcana Auth SDK. See how to set up user onboarding via [Telegram, Apple](../../setup/) in the setup section of the documentation. Then refer to the usage section for [how to install the SDK, integrate app and onboard users](../../auth/sdk-installation/) depending upon the app type.

That's all!

# Arcana Auth SDK v1.0.1 -> v1.0.2 Migration

This guide is meant for developers who have already integrated apps with an older version of the Arcana Auth SDK and run them using Arcana Testnet.

If you are new to Arcana Network, see Arcana Auth SDK Quick Start Guides to get started.

When you migrate from using the Arcana Auth SDK v1.0.1 to the latest v1.0.2 release, there is no major update besides minor bug fixes and wallet UI updates.

## What has Changed?

The following section lists changes between Arcana Auth SDK v1.0.1 and v1.0.2.

### Arcana Developer Dashboard

**App Address** is now referred to as **Client ID** in the dashboard. The format of the unique identifier associated with all registered apps has changed.

### Arcana Auth SDK

- Arcana wallet now supports fiat/on-ramp feature that allows users to buy cryptocurrency and tokens.
- The wallet UI has a new minimized widget.
- A bug in the previous release allowed users to log into a different app using the same tab where they had logged in without having to explicitly log in to a different app in the same tab. This is now fixed. For details, see the [release notes](../../relnotes/rn-main-auth-v1.0.2/).

## How to Migrate to v1.0.2?

Upgrade the Arcana Auth SDK to the latest package v1.0.2. No other change is required. You **do not** need to re-register your apps via the dashboard. Developers can continue to use the old **App Address** obtained for using v1.0.0/v1.0.1 with the latest Arcana Auth SDK. However, if you re-register your app and get a new **Client ID**, you cannot use older versions of the Arcana Auth SDK and are required to migrate to the latest Arcana Auth SDK v1.0.2 or higher.

Client ID

Earlier, the documentation may have referred to the unique Arcana identifier assigned to each app after registration as **App Address**. In the latest release, we refer to it as **Client ID**.

## What's New?

See [Arcana Auth SDK v1.0.2 release notes](../../relnotes/rn-main-auth-v1.0.2/) for details.

# Arcana Auth SDK v1.0.2 -> v1.0.3 Migration

This guide is meant for developers who have already integrated apps with an older version of the Arcana Auth SDK and run them using Arcana Testnet.

If you are new to Arcana Network, see Arcana Auth SDK Quick Start Guides to get started.

When you migrate from using the Arcana Auth SDK v1.0.2 to the latest v1.0.3 release, there is no breaking change.

## What has Changed?

**No Usage Changes**.

## How to Migrate to v1.0.3?

Upgrade the Arcana Auth SDK from v1.0.2 to v1.0.3 and re-run your Web3 app.

## What's New?

See [Arcana Auth SDK v1.0.3 release notes](../../relnotes/rn-main-auth-v1.0.3/) for details.

# Arcana Auth SDK v1.0.3 -> v1.0.4 Migration

This guide is meant for developers who have already integrated apps with v1.0.3 of the Arcana Auth SDK and deploy them using Arcana Testnet or Mainnet.

If you are new to Arcana Network, see Arcana Auth SDK Quick Start Guides to get started.

## Backward Compatibility

The latest release of the Arcana Auth SDK does not cause any breaking changes for most of the Web3 apps that may have integrated with the earlier release v1.0.3 of the Arcana Auth SDK. Those apps should continue to work with no changes to the app code. Some changes are required in the Arcana Developer Dashboard settings to ensure smooth operation. If the app has explicitly specified a default chain via the `chainConfig` option in the `AuthProvider` then make sure the chain appears in the list of blockchains configured in the Arcana Developer Dashboard. If the chain does not show up, it can be manually added via the [chain management configuration settings](../../setup/config-wallet-chains/) in the dashboard. See the chain management section below for details.

### Same Wallet Address

Apps using Arcana Auth SDK v1.0.3 or the latest v1.0.4 should see **no change** in the user wallet address. This is true for all types of apps and supported frameworks, irrespective of whether they are using the global or app-specific keys. Apps deployed earlier will continue to work on the Arcana Testnet and Mainnet.

## New Release: What has Changed?

### Wagmi or RainbowKit Apps

Earlier, apps using `auth-wagmi` package v0.0.4 were **not** required to install the `auth` package v1.0.3 but this has changed in the current release.

Now Wagmi / RainbowKit Apps need to install both the packages and then as part of integrating with the Arcana Auth SDK, first create `AuthProvider` using the Client ID. Then use the `AuthProvider` to create the `ArcanaConnector`.

For details, see how to onboard users in Web3 apps using [Wagmi](../../auth/integrate/wagmi/) or [RainbowKit](../../auth/integrate/rainbow/) wallet connectors.

### Chain Management

The latest release allows developers more flexibility as they can configure blockchains displayed in the Arcana wallet dropdown list and set one of them as the default chain by either using the Arcana Developer Dashboard or programmatically through `chainConfig` setting and JSON-RPC calls to add and switch chains.

Earlier, developers could programmatically manage chains only via the add/switch chain functions and the default chain setting was done via the `chainConfig` option of the `AuthProvider`. Now this can also be managed using the dashboard. For details, see [how to configure chain settings for the wallet via the dashboard](../../setup/config-wallet-chains/).

In the latest release v1.0.4, developers can use the Arcana Developer Dashboard to configure blockchains and specify a default chain. Later, in the app integration code, they can override the default chain programmatically using the `chainConfig` parameter. The default chain configuration setting in the Arcana Developer Dashboard can be overridden with the `chainConfig` option while instantiating the `AuthProvider` **only if** the default chain selected in the `chainConfig` option is present in the list of chains configured through the Arcana Developer Dashboard. If the selected chain is not part of the Arcana Developer Dashboard blockchain settings then the default chain configured in the Arcana Developer Dashboard setting takes precedence and is displayed in the wallet UI. The rest of the dashboard configured ones show in the dropdown list.

Chain Configuration Example

**Example I**

Dashboard setting for App A: `Polygon, Ethereum, Shardeum, Arbitrum (default selection)`

`chainConfig` option in the `AuthProvider`: `Shardeum`

In this case, the Arcana wallet UI will display `Shardeum` as the default and other chains in the dropdown list as Polygon, Ethereum, and Arbitrum.

**Example II**

Dashboard setting for App A: `Polygon, Ethereum, Shardeum, Arbitrum (default selection)`

`chainConfig` option in the `AuthProvider`: `Avalanche`

In this case, the Arcana wallet UI will display `Arbitrum` as the default and other chains in the dropdown list as Polygon, Ethereum, and Shardeum.

### Transaction Summary View

When a blockchain transaction is triggered either by the app programmatically or via a wallet user action, a transaction notification pops up in the wallet context displaying the transaction summary along with the option to approve or reject the request. Only when the user clicks 'v' icon on the top right, the notification details are displayed. Earlier, the notification details were displayed by default.

## How to Migrate to v1.0.4?

We highly recommend that Web3 apps that are integrated with v1.0.3 releases of the Arcana Auth SDK migrate to the latest Arcana Auth SDK v1.0.4 release.

For vanilla HTML/CSS/JS apps or React apps that do not use `window.ethereum` setting, no code changes are required. Just install and upgrade to the latest v1.0.4 release and redeploy the app.

However, if the apps use `window.ethereum` browser setting or wallet connectors such as Wagmi or RainbowKit then migrating to the latest release may require some integration code changes. In the case of Wagmi or RainbowKit apps, it requires not only upgrading the `auth-wagmi` package but also installing an additional SDK package and some new code to use the SDK.

### Apps using `windows.ethereum`

Previously, Web3 desktop apps could integrate with the Arcana Auth SDK and directly access the [standard EIP-1193 Ethereum provider](https://eips.ethereum.org/EIPS/eip-1193) via `window.ethereum` in the web browser. In the latest release of the Arcana Auth SDK, `window.ethereum` is not automatically set to the provider. To enable this feature, specify `setWindowProvider=true` when creating the `AuthProvider`.

For details, see [Arcana Auth SDK Usage Guide](../../auth/auth-usage-guide/).

### Apps using `CHAIN` enum

If you are upgrading any app that is using `CHAIN` enum in the `chainConfig` option of the `AuthProvider` to v1.0.4, then there is a breaking change.

Update the integration code to **not** use the `CHAIN` enum as it is no longer supported. Instead, use the chain identifier of the chain that you are specifying in the `chainConfig` parameter. For example:

```
const auth = new AuthProvider('xar_test_87f34xxxxxxxxxxxxxxxxxxxxxxxxxxxÃŸ7d70143a', {
  network: "testnet", //defaults to 'testnet'
  position: "right", //defaults to right
  theme: "dark", //defaults to dark
  alwaysVisible: true, //defaults to true which is Full UI mode
  chainConfig: {
    chainId: "80002", //defaults to Ethereum 
    rpcUrl: "https://rpc.ankr.com/polygon_amoy" //defaults to 'https://rpc.ankr.com/eth'
  }
});

```

### Wagmi or RainbowKit Apps

For Wagmi or RainbowKit Apps, see how to onboard users in Web3 apps using [Wagmi](../../auth/integrate/wagmi/) or [RainbowKit](../../auth/integrate/rainbow/) wallet connectors.

### Apps using `chainConfig` setting in `AuthProvider`

Apps using the `chainConfig` setting to set the default chain in the Arcana wallet dropdown list must ensure that it is included in the list of configured blockchains in the Arcana Developer Dashboard. The `chainConfig` parameter in the `AuthProvider` setting will only work if the chain is part of the configured chains in the Arcana Developer Dashboard. Otherwise, the wallet user may see a different default chain according to the Arcana Developer Dashboard settings. To ensure the `chainConfig` setting takes effect, the specified chain can be manually added through the Arcana Developer Dashboard interface. For details, see the chain management section above and refer to the [list of supported chains for the wallet](../../web3-stack/chains/).

## What's New?

See [Arcana Auth SDK v1.0.4 release notes](../../relnotes/rn-main-auth-v1.0.4/) for details.

# Arcana Auth SDK v1.0.4 -> v1.0.5 Migration

This guide is meant for developers who have already integrated apps with v1.0.4 of the Arcana Auth SDK and deploy them using Arcana Testnet or Mainnet.

If you are new to Arcana Network, see Arcana Auth SDK Quick Start Guides to get started.

## Backward Compatibility

The latest release of the Arcana Auth SDK does not cause any breaking changes for apps that have already integrated with v1.0.4 of the Arcana Auth SDK. Install the latest version and upgrade your app.

### Same Wallet Address

Apps using Arcana Auth SDK v1.0.4 should see **no change** in the user wallet address irrespective of whether they continue to use the older version on upgrade to v1.0.5 release. This is true for all types of apps and supported frameworks, irrespective of whether they are using the global or app-specific keys. Apps deployed earlier will continue to work on the Arcana Testnet and Mainnet.

## New Release: What has Changed?

The latest SDK release has **no usage changes** in the former features. New features have been added that allow user onboarding via Steam and Firebase.

## How to Migrate to v1.0.5?

We highly recommend that Web3 apps that are integrated with v1.0.4 releases of the Arcana Auth SDK migrate to the latest Arcana Auth SDK v1.0.5 release.

Install the latest Arcana Auth SDK v1.0.5 release and upgrade your app. No other integration code changes are required.

Apps using older versions of the Arcana Auth SDK must refer to the [migration guides](../archives/) and upgrade to the latest release if they wish to enable Steam of Firebase user onboarding.

## What's New?

See [Arcana Auth SDK v1.0.5 release notes](../../relnotes/rn-main-auth-v1.0.5/) for details.

# Arcana Auth SDK v1.0.5 -> v1.0.6 Migration

This guide is meant for developers who have already integrated apps with v1.0.5 of the Arcana Auth SDK and deploy them using Arcana Testnet or Mainnet.

If you are new to Arcana Network, see Arcana Auth SDK Quick Start Guides to get started.

## Backward Compatibility

The latest release of the Arcana Auth SDK does not cause any breaking changes for apps that have already integrated with v1.0.4 of the Arcana Auth SDK. Install the latest version and upgrade your app.

### Same Wallet Address

Apps using Arcana Auth SDK v1.0.5 should see **no change** in the user wallet address irrespective of whether they continue to use the older version on the upgrade to the v1.0.6 release. This is true for all types of apps and supported frameworks, irrespective of whether they are using the global or app-specific keys. Apps deployed earlier will continue to work on the Arcana Testnet and Mainnet.

## New Release: What has Changed?

The latest SDK release has **no usage changes** in the former features. New features have been added that allow user onboarding via Steam and Firebase.

## How to Migrate to v1.0.6?

We highly recommend that Web3 apps that are integrated with v1.0.5 releases of the Arcana Auth SDK migrate to the latest Arcana Auth SDK v1.0.6 release.

Install the latest Arcana Auth SDK v1.0.6 release and upgrade your app. No other integration code changes are required.

Apps using older versions of the Arcana Auth SDK must refer to the [migration guides](../archives/) and upgrade to the latest release if they wish to enable Steam of Firebase user onboarding.

## What's New?

See [Arcana Auth SDK v1.0.6 release notes](../../relnotes/rn-main-auth-v1.0.6/) for details.

# Arcana Auth SDK v1.0.6 -> v1.0.7 Migration

This guide is meant for developers who have already integrated apps with v1.0.6 of the Arcana Auth SDK and deploy them using Arcana Testnet or Mainnet.

If you are new to Arcana Network, see Arcana Auth SDK Quick Start Guides to get started.

## Backward Compatibility

The latest release of the Arcana Auth SDK does not cause any breaking changes for apps that have already integrated with v1.0.6 of the Arcana Auth SDK. Install the latest version and upgrade your app.

### Same Wallet Address

Apps using Arcana Auth SDK v1.0.6 should see **no change** in the user wallet address irrespective of whether they continue to use the older version on the upgrade to the v1.0.7 release. This is true for all types of apps and supported frameworks, irrespective of whether they are using the global or app-specific keys. Apps deployed earlier will continue to work on the Arcana Testnet and Mainnet.

## New Release: What has Changed?

Besides a few enhancements Arcana wallet UI and bug fixes, there are **no usage changes** in the latest release.

## How to Migrate to v1.0.7?

We highly recommend that Web3 apps that are integrated with v1.0.6 releases of the Arcana Auth SDK migrate to the latest Arcana Auth SDK v1.0.7 release.

Install the latest Arcana Auth SDK v1.0.7 release and upgrade your app. No other integration code changes are required.

Apps using older versions of the Arcana Auth SDK must refer to the [migration guides](../archives/) and upgrade to the latest release if they wish to enable Steam of Firebase user onboarding.

## What's New?

See [Arcana Auth SDK v1.0.7 release notes](../../relnotes/rn-main-auth-v1.0.7/) for details.

# Arcana Auth SDK v1.0.7 -> v1.0.8 Migration

This guide is meant for developers who have already integrated apps with v1.0.7 of the Arcana Auth SDK and deploy them using Arcana Testnet or Mainnet.

If you are new to Arcana Network, see Arcana Auth SDK Quick Start Guides to get started.

## Backward Compatibility

The latest release of the Arcana Auth SDK does not cause any breaking changes for apps that have already integrated with v1.0.7 of the Arcana Auth SDK. Install the latest version and upgrade your app.

### Same Wallet Address

Apps using Arcana Auth SDK v1.0.7 should see **no change** in the user wallet address irrespective of whether they continue to use the older version on the upgrade to the v1.0.8 release. This is true for all types of apps and supported frameworks, irrespective of whether they are using the global or app-specific keys. Apps deployed earlier will continue to work on the Arcana Testnet and Mainnet.

## New Release: What has Changed?

Arcana Auth SDK release has no major changes, a few enhancements and a bug fix for email validation. **Usage** has not changed in the latest release. For details, see [Arcana Auth SDK v1.0.8 release notes](../../relnotes/rn-main-auth-v1.0.8/).

## How to Migrate to v1.0.8?

We highly recommend that Web3 apps that are integrated with v1.0.7 releases of the Arcana Auth SDK migrate to the latest Arcana Auth SDK v1.0.8 release.

Install the latest Arcana Auth SDK v1.0.8 release and upgrade your app. No other integration code changes are required.

Apps using older versions of the Arcana Auth SDK must refer to the [migration guides](../archives/) and upgrade to the latest release if they wish to enable Steam of Firebase user onboarding.

## What's New?

See [Arcana Auth SDK v1.0.8 release notes](../../relnotes/rn-main-auth-v1.0.8/) for details.

# Arcana Auth SDK v1.0.8 -> v1.0.9 Migration

New to Arcana Network? see Arcana Auth SDK Quick Start Guides to get started.

Using an older version and want to migrate? Read on...

## What has Changed?

This is a major release of the Arcana Auth SDK since the last release. The updates include:

- Arcana Auth SDK
- Global Keys feature does not require setting up social logins via the social provider's console
- Enhanced security to block clickjacking
- New auth-core SDK allows greater customization flexibility with custom Wallet UI

### Global Keys

Web3 apps using the **app-specific** keys (default) keyspace do not have to make any changes.

If the app developer selects [global keys](../../concepts/keyspace-types/) while configuring the app via the Arcana Developer Dashboard, the social auth settings for enabling the social login providers are **no longer** required.

For details, see [Arcana Auth SDK v1.0.9 release notes](../../relnotes/rn-main-auth-v1.0.9/).

## Backward Compatibility

The latest release of the Arcana Auth SDK does not cause any breaking changes for apps integrated with v1.0.11 of the Arcana Auth SDK. Install the latest version and upgrade.

Apps using older versions of the Arcana Auth SDK must refer to the [migration guides](../archives/) and upgrade to the latest release if they wish to enable Steam of Firebase user onboarding.

### Same Wallet Address

Apps migrating to the Arcana Auth SDK v1.0.11 should see **no change** in the user wallet address, irrespective of whether they continue to use the older version or upgrade to this latest release. This is true for all types of apps and supported frameworks, irrespective of whether they are using the global or app-specific keys. Apps deployed earlier will continue to work on the Arcana Testnet and Mainnet.

## How to Migrate to v1.0.9?

Install the latest Arcana Auth SDK v1.0.9 and upgrade your app with no changes to the integration code.

That's all!

# Migration Guide Archives

Always use the latest [Arcana Auth SDK](https://www.npmjs.com/package/@arcana/auth).

For those using an older version of the SDK, refer to the appropriate migration guide:

[Auth SDK v1.0.11 -> v1.0.12](../main-auth-v1.0.12-migration/)

[Auth SDK v1.0.10 -> v1.0.11](../main-auth-v1.0.11-migration/)

[Auth SDK v1.0.9 -> v1.0.10](../main-auth-v1.0.10-migration/)

[Auth SDK v1.0.8 -> v1.0.9](../main-auth-v1.0.9-migration/)

[Auth SDK v1.0.7 -> v1.0.8](../main-auth-v1.0.8-migration/)

[Auth SDK v1.0.6 -> v1.0.7](../main-auth-v1.0.7-migration/)

[Auth SDK v1.0.5 -> v1.0.6](../main-auth-v1.0.6-migration/)

[Auth SDK v1.0.4 -> v1.0.5](../main-auth-v1.0.5-migration/)

[Auth SDK v1.0.3 -> v1.0.4](../main-auth-v1.0.4-migration/)

[Auth SDK v1.0.2 -> v1.0.3](../main-auth-v1.0.3-migration/)

[Auth SDK v1.0.1 -> v1.0.2](../main-auth-v1.0.2-migration/)

[Auth SDK v1.0.0 -> v1.0.1](../main-auth-v1.0.1-migration/)

[Auth SDK v0.3.0 -> v1.0.0](../main-auth-v1.0.0-migration/)

[Auth SDK v0.2.x -> v0.3.0](../beta-auth-v0.3.0-migration/)

- **MultiversX**

  ______________________________________________________________________

  - [Arcana Auth on MultiversX](https://multiversx.com/ecosystem/project/arcana)

- **Linea**

  ______________________________________________________________________

  - [Social Login with Arcana](https://docs.linea.build/developers/tooling/social-login/arcana)

- **Caduceus**

  ______________________________________________________________________

  - [Social Login with Arcana](https://docs.caduceus.foundation/auth)

- **Peaq**

  ______________________________________________________________________

  - [Social Login with Arcana](https://docs.peaq.network/docs/tooling-&-integrations/account-abstraction/arcana-social-login/)

- **Linea**

  ______________________________________________________________________

  - [Cross-Chain with Arcana](https://docs.linea.build/get-started/tooling/cross-chain/arcana)

# Get Started: Auth+CA

Follow this guide to onboard users in a Web3 app via social login and enable chain abstracted transactions. It explains how *Web3 apps built using the [Wagmi](https://wagmi.sh/)* library can integrate with the Arcana SDKs for social login and chain abstraction.

- Integrate with the Arcana Auth Wagmi SDK to enable user onboarding via [social login](../../concepts/social-login/) in Web3 apps.

- Once authenticated, users can instantly access the in-app, built-in [Arcana wallet](../../concepts/anwallet/) to sign blockchain transactions.

- Integrate with the Arcana CA Wagmi SDK and let users spend on any chain with unified balance.

- The SDK implements Wagmi `useSendTransaction` and `useWriteContract` hooks so that the Web3 apps can seamlessly switch to using these same hooks from the Arcana CA Wagmi SDK for enabling chain abstracted transactions.

- It offers additional hooks to enable unified balance: `useBalance`, `useBalanceModal`.

- The `useCAFn` hook allows chain abstracted `bridge` and `transfer` functionality for [supported chains and tokens](../../web3-stack/ca_stack/).

No Fuel support in `ca-wagmi` SDK

The Arcana CA Wagmi SDK doesn't support **Fuel** blockchain yet. Chain abstraction works for other [supported chains and tokens](../../web3-stack/ca_stack/) in Wagmi-based Web3 apps.

## Prerequisites

Before installing and integrating with the Arcana Auth Wagmi SDK, developers need to configure the authentication settings.

- App must be [registered](../../setup/config-auth/register-app/) via the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Optionally [configure auth settings](../../setup/config-auth/) such as [social login](../../concepts/social-login/), [wallet user experience](../../concepts/anwallet/), etc.

## 1. Install

[Download](https://www.npmjs.com/package/@arcana/auth-wagmi) the Arcana Auth Wagmi SDK and install it as a dependency for Web3 app:

**Wagmi 2.0**

```
npm install --save @arcana/auth-wagmi@3.0.0 @arcana/auth@1.0.12

```

**Wagmi 1.0**

```
npm install --save @arcana/auth-wagmi@2.0.0 @arcana/auth

```

**Wagmi 2.0**

```
yarn add @arcana/auth-wagmi@3.0.0 @arcana/auth@1.0.12

```

**Wagmi 1.0**

```
yarn add @arcana/auth-wagmi@2.0.0 @arcana/auth

```

[Download](https://www.npmjs.com/package/@arcana/ca-wagmi) the Arcana CA Wagmi SDK and install it as a dependency for Web3 app:

```
npm install --save @arcana/ca-sdk @arcana/ca-wagmi

```

## 2. Integrate

The Web3 app must add code to integrate the social login and chain abstraction features offered by the respective Arcana SDKs.

### Social Login

To enable social login, you need to integrate with the Arcana Auth SDK and add code to create the `AuthProvider`. Use it to onboard Web3 app users via the configured Arcana Wagmi connector. Once authenticated, the users can automatically access the built-in, in-app Arcana wallet and sign blockchain transactions.

#### AuthProvider

```
import { AuthProvider } from "@arcana/auth";
import { ArcanaConnector } from "@arcana/auth-wagmi"

const auth = new AuthProvider('your-client-id');

const connector = new ArcanaConnector({ auth });

```

```
//
// For apps using Wagmi versions v2.a.b and auth-wagmi v3.x.y
//

import { http, createConfig } from 'wagmi'
import { mainnet, sepolia } from 'wagmi/chains'
import { coinbaseWallet, injected, walletConnect } from 'wagmi/connectors'
import { AuthProvider } from '@arcana/auth'
import { ArcanaConnector } from "@arcana/auth-wagmi"

let auth: AuthProvider | null;

if (!auth) {
  auth = new AuthProvider(
    "Your-app-Client-ID"
  );
}

const connector = new ArcanaConnector({ auth });

export const config = createConfig({
  chains: [mainnet, sepolia],
  connectors: [
    injected(),
    coinbaseWallet({ appName: 'Create Wagmi' }),
    walletConnect({ projectId: import.meta.env.VITE_WC_PROJECT_ID }),
    connector(),
  ],
  transports: {
    [mainnet.id]: http(),
    [sepolia.id]: http(),
  },
})

declare module 'wagmi' {
  interface Register {
    config: typeof config
  }
}
...

```

```
//   
// For apps using Wagmi versions v1.x.y and auth-wagmi v2.a.b
//

import { configureChains, createConfig, WagmiConfig } from "wagmi";
import { publicProvider } from "wagmi/providers/public";
import { polygon, polygonAmoy } from "wagmi/chains";
import { useAccount, useConnect, useDisconnect, useBalance } from 'wagmi'
import "../styles/globals.css";
import { AuthProvider } from '@arcana/auth'
import { ArcanaConnector } from "@arcana/auth-wagmi"

let auth: AuthProvider | null;

if (!auth) {
  auth = new AuthProvider(
    "Your-app-Client-ID"
  );
}

const { chains, provider, webSocketProvider } = configureChains(
  [mainnet, polygon, polygonAmoy],
  [publicProvider()],
  { targetQuorum: 1 }
);

export const connector = (chains: Chain[]) => {
  return new ArcanaConnector({
    chains,
    options: {
      auth: auth,
    },
  });
};

const { chains, publicClient } = configureChains(
  [polygon, polygonAmoy],
  [publicProvider()]
);

export const wagmiEntity = createConfig({
  autoConnect: true,
  connectors: [connector(chains)],
  publicClient,
});
...

```

#### Onboard Users

```
//
// For apps using Wagmi versions v2.a.b and auth-wagmi v3.x.y
//
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
import { Buffer } from 'buffer'
import React from 'react'
import ReactDOM from 'react-dom/client'
import { WagmiProvider } from 'wagmi'

import App from './App.tsx'
import { config } from './wagmi.ts'

import './index.css'

globalThis.Buffer = Buffer

const queryClient = new QueryClient()

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <WagmiProvider config={config}>
      <QueryClientProvider client={queryClient}>
        <App />
      </QueryClientProvider>
    </WagmiProvider>
  </React.StrictMode>,
)

```

```
//
// For apps using Wagmi versions v1.a.b and auth-wagmi v2.x.y
//
function App({ Component, pageProps }: AppProps) {
  return (
    <WagmiConfig config={wagmiEntity}>
      <Component {...pageProps} />
    </WagmiConfig>
  );
}

```

#### Sign Transactions

Use `AuthProvider`, the EIP-1193 provider offered by the SDK, to call supported JSON/RPC functions and [Web3 wallet operations](../../auth/web3-ops/evm/) in the authenticated user's context.

**That's all!**

The Auth-CA-Wagmi app is ready to onboard users and allow them to sign blockchain transactions.

For details, see [Auth Wagmi SDK Reference](https://deploy-preview-28--wagmi-authsdk-ref-guide.netlify.app/).

Next, you need to integrate the Web3 app with the Arcana CA Wagmi SDK to enable chain abstracted transactions via unified balance.

### Chain Abstraction

To enable unified balance and chain abstracted transactions in a Web3 app using the Wagmi library, you need to integrate with the Arcana CA Wagmi SDK and create the `CAProvider`. Use it to configure the Wagmi connector.

Make sure you import the following functions from the ca-wagmi and **not from the wagmi SDK**.

- `useSendTransaction` - Chain abstracted Send Transaction
- `useWriteContract` - Chain abstracted Write Contract

The Arcana CA Wagmi SDK also provides the following additional hooks to enable unified balance and chain abstracted transactions:

- `useBalance` - Unify the specified token balance across chains - USDC, USDT, ETH
- `useBalances` - Unify the token balance across chains - USDC, USDT, ETH for all supported token types
- `useBalanceModal` - Display a plug and play widget containing the unified balance
- `useCAFn` - Allow chain abstracted token bridge and transfer functions
- `useGetMyIntent` - Get a list of intents created for the user

Refer to the following sample integration code for usage details.

```
import { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
import { WagmiProvider } from 'wagmi'
import { CA } from "@arcana/ca-sdk";
import { CAProvider } from '@arcana/ca-wagmi'
import App from "./App.tsx";
import { config } from "./utils/config";

const ca = new CA();
const queryClient = new QueryClient()

createRoot(document.getElementById("root")!).render(
    <StrictMode>
        <WagmiProvider config={config}>
            <QueryClientProvider client={queryClient}>
                <CAProvider client={ca}>
                    <App />
                </CAProvider>
            </QueryClientProvider>
        </WagmiProvider>
    </StrictMode>
);

```

```
import "./App.css";
import { useAccount } from "wagmi";

import { Account } from "./account";
import { WalletOptions } from "./wallet-options";

function ConnectWallet() {
    const { isConnected } = useAccount();
    if (isConnected) return <Account />;
    return <WalletOptions />;
}

function App() {
return (
    <div className="min-h-screen bg-white dark:bg-gray-900 flex">
    <div className=" align-center m-auto min-w-md max-w-md p-6 bg-white border border-gray-200 rounded-lg shadow-sm dark:bg-gray-800 dark:border-gray-700">
        <ConnectWallet />
    </div>
    </div>
);
}

export default App;

```

```
import {
    useAccount,
    useDisconnect,
    useEnsName,
    useSwitchChain,
// useSendTransaction //DO NOT use from the wagmi SDK
} from "wagmi";
import {
    useBalanceModal,
    useSendTransaction, //Note: Use from ca-wagmi SDK
    useWriteContract,
    useUnifiedBalance,
} from "@arcana/ca-wagmi";

import { useState } from "react";
import Decimal from "decimal.js";
import { erc20Abi } from "viem";

export function Account() {
    const { sendTransaction } = useSendTransaction();
    const [allLoading, setLoading] = useState(false);
    const { address } = useAccount();
    const { disconnect } = useDisconnect();
    const { data: ensName } = useEnsName({ address });
    const { showModal, hideModal } = useBalanceModal();
    const { loading, getAssetBalance } = useUnifiedBalance();
    if (!loading) {
        console.log({ assetBalance: getAssetBalance("ETH") });
    }
    const { switchChainAsync } = useSwitchChain();
    const { writeContract } = useWriteContract();

    const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {
        e.preventDefault();
        setLoading(true);
        const form = e.currentTarget;
        try {
            const formData = new FormData(form);

            const toFV = formData.get("to");
            const chainFV = formData.get("chain");
            const assetFV = formData.get("asset");
            const amountFV = formData.get("amount");
            if (!toFV || !chainFV || !assetFV || !amountFV) {
                throw new Error("missing params");
            }
            const to = toFV as `0x${string}`;
            const chain = Number(chainFV);
            const asset = assetFV as "usdc" | "usdt" | "eth";

            await switchChainAsync({ chainId: chain });

            let amount = new Decimal(amountFV as string);
            if (asset.toLowerCase() === "ETH".toLowerCase()) {
                amount = amount.mul(new Decimal(10).pow(18));
                const value = BigInt(amount.toString());
                sendTransaction(
                    {
                        to,
                        value,
                    },
                    {
                        onSuccess(hash) {
                            createSuccessToast(chain, hash);
                            form.reset();
                            setLoading(false);
                            console.log("success");
                        },
                        onSettled() {
                            console.log("settled");
                        },
                        onError(error) {
                            console.log({ error });
                            form.reset();
                            setLoading(false);
                        },
                    }
                );
            } else {
                const chainData = chainToCurrency[chain];
                const s = chainData[asset === "usdc" ? 0 : 1];
                if (!s) {
                    throw new Error("asset not supported");
                }
                writeContract(
                    {
                        address: s,
                        abi: erc20Abi,
                        functionName: "transfer",
                        args: [to, BigInt(amount.mul(new Decimal(10).pow(6)).toString())],
                    },
                    {
                        onSuccess(hash) {
                            createSuccessToast(chain, hash);
                            form.reset();
                            setLoading(false);
                            console.log("success");
                        },
                        onError(error) {
                            form.reset();
                            setLoading(false);
                            console.log({ error });
                        },
                    }
                );
            }
        } catch (e) {
            form.reset();
            console.log({ e });
            setLoading(false);
        }
    };

    return (
        <>
            {loading ? (
                <div>
                    <p>Loading...</p>
                </div>   
            ) : (
                <>
                    <p>
                        {address && ensName ? `${ensName} (${address})` : address}
                    </p>
                    <div>
                        <button onClick={() => disconnect()}>
                            Disconnect
                        </button>
                        <button onClick={() => showModal()}> //Display Unified Balance
                            Show balances
                        </button>
                    </div>
                    <div className="mb-4 m-auto"></div>
                    <form onSubmit={handleSubmit}>
                        <div>
                            <label>
                                To
                            </label>
                            <input
                                name="to"
                                type="text"
                                placeholder="0x..."
                                required
                            />
                        </div>
                        <div>
                            <label>
                                Destination Chain
                            </label>
                            <select
                                required
                                name="chain"
                                id="chain"
                                defaultValue={""}
                            >
                                <option value="" disabled>
                                    Select a chain
                                </option>
                                <option value="42161">Arbitrum One</option>
                                <option value="59144">Linea</option>
                                <option value="534352">Scroll</option>
                                <option value="10">Optimism</option>
                                <option value="8453">Base</option>
                                <option value="1">Ethereum</option>
                                <option value="137">Polygon POS</option>
                            </select>
                        </div>
                        <div>
                            <label>
                                Asset
                            </label>
                            <select
                                name="asset"
                                id="asset"
                                defaultValue={""}
                            >
                                <option value="" disabled>
                                    Select an asset
                                </option>
                                <option value="usdt">USDT</option>
                                <option value="usdc">USDC</option>
                                <option value="eth">ETH</option>
                            </select>
                        </div>
                        <div className="mb-5">
                            <label>
                                Amount
                            </label>
                            <input
                                name="amount"
                                type="text"
                                id="amount"
                                required
                            />
                        </div>
                        <button
                            type="submit"
                            disabled={allLoading}
                        >
                            {allLoading ? "Loading..." : "Submit"}
                        </button>
                    </form>
                </>
            )
        </>
    );
}      

```

```
import { http, createConfig } from "wagmi";
import {
    mainnet,
    optimism,
    base,
    arbitrum,
    scroll,
    linea,
    polygon,
} from "wagmi/chains";
import { injected } from "wagmi/connectors";

export const config = createConfig({
    chains: [mainnet, optimism, arbitrum, base, scroll, linea, polygon],
    connectors: [injected()],
    transports: {
        [mainnet.id]: http(),
        [optimism.id]: http(),
        [arbitrum.id]: http(),
        [base.id]: http(),
        [scroll.id]: http(),
        [linea.id]: http(),
        [polygon.id]: http(),
    },
});

```

```
import * as React from "react";
import { Connector, useConnect } from "wagmi";

export function WalletOptions() {
    const { connectors, connect } = useConnect();
    console.log({ connectors });
    return (
        <>
        <h3>Wallets</h3>
        <hr></hr>
        {connectors
            .filter((c) => c.id !== "injected")
                .map((connector) => (
                    <WalletOption
                        key={connector.uid}
                        connector={connector}
                        onClick={() => connect({ connector })}/>
                ))}
        </>
    );
}

function WalletOption({
    connector,
    onClick,
    }: {
    connector: Connector;
    onClick: () => void;
    }) {
    const [ready, setReady] = React.useState(false);

    React.useEffect(() => {
        (async () => {
        const provider = await connector.getProvider();
        setReady(!!provider);
        })();
    }, [connector]);

    return (
        <>
        <div>
            <button
            disabled={!ready}
            type="button"
            onClick={onClick}
            >
            <img
                src={connector.icon}
                className="w-4 h-4 me-2 -ms-1 text-[#626890]"
                aria-hidden="true"
            />
            {connector.name}
            </button>
        </div>
        </>
    );
}

```

For details, see [Arcana CA Wagmi SDK Reference](https://ca-wagmi-sdk-ref-guide.netlify.app/).

**Finished.**

The Auth-CA-Wagmi app is all set to let users spend on any chain via unified balance and chain abstracted transactions.

## See Also

[Sample Integration CodeSandbox](https://codesandbox.io/p/github/shaloo/sample-arcana-auth-ca-wagmi-sdks/sample-auth-ca-wagmi-integration)

Arcana Auth Wagmi SDK Quick Links

- [Auth Wagmi SDK Reference](https://deploy-preview-28--wagmi-authsdk-ref-guide.netlify.app/)
- [Release notes](../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth-wagmi/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth-wagmi)

Arcana CA Wagmi SDK Quick Links

- [Supported Chains, tokens](../../web3-stack/ca_stack/)
- [Arcana CA Wagmi SDK Reference](https://ca-wagmi-sdk-ref-guide.netlify.app/)
- [Release notes](../../relnotes/latest-ca-release-note/)
- [Changelog](https://github.com/arcana-network/ca-wagmi/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/ca-wagmi)

# Get Started: Auth-Core

Integrate Web3 apps with [Arcana Auth-Core SDK](../../concepts/auth-core-sdk/) and assign keys to authenticated users. Build custom login UI to onboard users. Add code for a custom, in-app wallet UI and allow authenticated users to sign blockchain transactions securely.

Limited Auth Capabilities

- **No** built-in [plug-and-play login UI](../../concepts/plug-and-play-auth/) feature
- **No** built-in Arcana wallet UI
- **No** support for [Global keys, only app-specific keys](../../concepts/keyspace-types/) (default) allowed.
- **No** support for [enhanced wallet security](../../concepts/mfa/) via MFA.

## Prerequisites

- App must be [registered](../../setup/config-auth/register-app/) via the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Optionally [configure auth settings](../../setup/config-auth/) such as [social login](../../concepts/social-login/), [wallet user experience](../../concepts/anwallet/), etc.

Wallet UI Mode Setting

To use the Arcana Auth-Core SDK, developers must implement a [Custom Wallet UI](../../concepts/custom-wallet-ui/)custom wallet UI.

The *Wallet UI Mode* Arcana Developer Dashboard configuration setting chosen by the developer during app registration **is ignored** for apps integrated with the Arcana Auth-Core SDK.

Wallet UI Mode

## 1. Install SDK

```
npm install --save @arcana/auth-core

```

```
yarn add @arcana/auth-core

```

## 2. Integrate

```
const { AuthProvider, SocialLoginType, CURVE } = window.arcana.auth_core;
// or
import { AuthProvider, CURVE } from '@arcana/auth-core';

```

```
const clientId = "xar_test_d24f70cd300823953dfa2a7f5b7c7c113356b1ad"; // obtained after app registration via dashboard
const auth = new AuthProvider({
   curve: CURVE.ED25519, // defaults to CURVE.SECP256K1
   appId: clientId,
   redirectUri: ''   /* can be ignored for redirect flow if same as login page */ 
});

```

### Onboard Users

#### Social Login

```
await auth.loginWithSocial(SocialLoginType.google);
// Check if a user is logged in
const loggedIn = auth.isLoggedIn();
// Get User Account Details
const userInfo = auth.getUserInfo();
...

```

Configure Social Login

The login providers specified in [`SocialLoginType`](../../auth/auth-core-usage-guide/#exported-enums) parameter must be [configured](../../setup/config-auth/) via the dashboard.

### Sign Transactions

Use `AuthProvider`, a standard Ethereum EIP-1193 provider, and allow authenticated users to sign blockchain transactions. Build a custom wallet UI and wire it to appropriate [Web3 wallet operations](../../auth/web3-ops/evm/) on [configured chains](../../setup/config-wallet-chains/).

```
import { AuthProvider, CURVE } from '@arcana/auth-core';
import { ethers } from 'ethers'

const auth = await AuthProvider.init({
   appId: `${clientId}`, /* obtained after registering the app with the Arcana Developer Dashboard */
   curve: CURVE.ED25519, // defaults to CURVE.SECP256K1
   redirectUri:'SPECIFY_URI'    /* can be ignored for redirect flow if same as login page */
});

...

const login = async () => {
const arcanaProvider = await auth.loginWithSocial(SocialLoginType.google);
if (auth.isLoggedIn()) {
    const info = await auth.getUserInfo();
}
};

...

googleLoginBtn.addEventListener('click', () => {
  login('google');
});
  Â¯
...

try {

  const provider = new ethers.providers.Web3Provider(arcanaProvider)
  await provider.getBlockNumber() //Or perform any other Web3 operation such as sign message, send transaction
    // 14983200
} catch (e) {
    // log error
}
...

```

## Advanced Usage

UI Flow Mode

When instantiating the `AuthProvider` you can configure it to use appropriate [UI flow](../../auth/auth-core-usage-guide/#flow-modes) such that the authenticated user is redirected to a different app page after login, if required.

Passwordless Onboarding

In addition to [social login](#social-login), onboard users via passwordless option.

```
const result = await auth.loginWithPasswordlessStart({
  email: 'abc@example.com'
});

```

Then on the redirect page, **handle passwordless login** as follows:

```
await auth.handleRedirect();

```

Onboarding via Cognito, Firebase

Web3 apps integrating with Arcana Auth-Core SDK cannot use Cognito or Firebase for onboarding users. These providers are **not supported** in the current release.

Contact our [Arcana support](../../support/) if you need this feature.

Status and User Information

**Check Login Status**

```
const loggedIn = auth.isLoggedIn(); /* boolean response */

```

**Get User Info**

After successful authentication, the [user information](../../auth/auth-core-usage-guide/#exported-types) is saved in memory. It gets copied in the current session storage before the *page unload* event. User information is fetched again to memory and removed from the session storage after a successful page reload.

```
const userInfo = auth.getUserInfo();

/* 
  UserInfo: {
    loginType: 'google',
    userInfo: {
      id: 'abc@example.com',
      name: 'ABC DEF',
      email: '',
      picture: ''
    },
    privateKey: ''
  }
*/

```

**Get Public Key**

```
const publicKey = await auth.getPublicKey({
  verifier: SocialLoginType.google,
  id: `abc@example.com`,
}); 

```

**Logout**

```
await auth.logout();

```

## See Also

**'Auth-Core'** integration example: See `sample-auth-core` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

Arcana Auth-Core SDK Quick Links

- [Arcana Auth-Core SDK Usage Guide](../../auth/auth-core-usage-guide/)
- [Arcana Auth-Core SDK Reference](https://auth-core-sdk-ref-guide.netlify.app/)
- [Changelog](https://github.com/arcana-network/auth-core/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth-core) *Private, Limited Access*

Integrate with the [Arcana CA SDK](../../concepts/ca/casdk/). Enable [unified-balance](../../concepts/ca/unified-balance/) in 'Web' apps. Let the app users spend anywhere with chain abstracted transactions.

## 1. Install

```
npm install --save @arcana/ca-sdk

```

## 2. Integrate

The process for integrating the SDK differs for dApps that need to support both EVM and non-EVM chains, such as Fuel.

```
import { CA } from '@arcana/ca-sdk';
const provider = window.ethereum;
const ca = new CA();
//Set the EVM provider  
ca.setEVMProvider(provider);

//Initialize ca
await ca.init();

//Get CA enabled provider
const providerWithCA = ca.getEVMProviderWithCA();

//Use providerWithCA to issue chain enabled transactions
await providerWithCA.request({
    method: "eth_sendTransaction",
    params: [
        {
        to: "0xEa46Fb4b4Dc7755BA29D09Ef2a57C67bab383A2f",
        from: "0x7f521A827Ce5e93f0C6D773525c0282a21466f8d",
        value: "0x001",
        },
    ],
});

```

```
import { CA } from '@arcana/ca-sdk';
const provider = window.ethereum;
const ca = new CA();
//Set the EVM provider  
ca.setEVMProvider(provider);

//Initialize ca
await ca.init();

//connector refers to https://github.com/FuelLabs/fuel-connectors/wiki
await ca.setFuelConnector(connector);
const { provider, connector: CAconnector } = await ca.getFuelWithCA();

const address = CAconnector.currentAccount()!;
const account = new Account(address, provider, CAconnector);

//chain abstraction enabled transfer
await account.transfer(
    "0xE78655DfAd552fc3658c01bfb427b9EAb0c628F54e60b54fDA16c95aaAdE797A",
    1000000,
    "0xa0265fb5c32f6e8db3197af3c7eb05c48ae373605b8165b6f4a51c5b0ba4812e",
);

```

`ca.init()`

Use `await` until the `init()` call is complete. Then call any other `CA` method listed in the [Arcana CA SDK Reference](https://ca-sdk-ref-guide.netlify.app/).

## 3. Unified Balance

Get chain abstracted unified balance in the user's EOA.

```
//total chain abstracted unified balance across all chains/tokens
const balances = await ca.getUnifiedBalances();
//total balance for a specific token across all chains 
const usdtBalance = await ca.getUnifiedBalance("usdt");

```

## 4. CA Transaction

Web3 apps use the standard EIP-1193 provider to issue `request` call for transactions. To chain abstract these transactions, use `getEVMProviderWithCA`. It returns a CA enabled provider.

Replace the standard provider with the CA enabled one. This enables chains abstraction for `eth_sendTransaction` operations via `request` call.

```
const providerWithCA = ca.getEVMProviderWithCA();

await providerWithCA.request({
  method: "eth_sendTransaction",
  params: [
    {
      to: "0xEa46Fb4b4Dc7755BA29D09Ef2a57C67bab383A2f",
      from: "0x7f521A827Ce5e93f0C6D773525c0282a21466f8d",
      value: "0x001",
    },
  ],
});

```

## 5. Advanced

The SDK also provides functions to:

- View user intents
- Issue chain abstracted `bridge` and `transfer` functions

[Learn more...](../../ca/integrate/web/#ca-transactions)

**Finished.**

The 'Web' app is all set to let users spend on any chain via unified balance and chain abstracted transactions.

## See Also

Arcana CA SDK Quick Links

- [Arcana CA SDK Reference](https://ca-sdk-ref-guide.netlify.app/)
- [CA FAQ](../../faq/ca/faq/)
- [Release notes](../../relnotes/latest-ca-release-note/)
- [Changelog](https://github.com/arcana-network/ca-sdk/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/ca-sdk)

[Try CA SDK Demo](https://sdk.arcana.network)

# Get Started: Wagmi Apps

Integrate Web3 [Wagmi](https://wagmi.sh/) apps with the [Arcana CA Wagmi SDK](../../concepts/ca/ca_wagmi/) to enable:

- [Unified-balance](../../concepts/ca/unified-balance/)
- [Chain abstracted](../../concepts/ca/chain-abstraction/) transactions

Replace the `useSendTransaction` and `useWriteContract` hooks from the Wagmi library. Instead, use the ones provided by the SDK. They support chain abstracted transactions.

Use the [plug-and-play UI modal](../../concepts/ca/unified-balance-wagmi-pnp/). It shows the unified balance in the Wagmi app context.

No Fuel support in `ca-wagmi` SDK

The Arcana CA Wagmi SDK doesn't support **Fuel** blockchain yet. Chain abstraction works for other [supported chains and tokens](../../web3-stack/ca_stack/) in Wagmi-based Web3 apps.

## 1. Install

```
npm install --save @arcana/ca-sdk @arcana/ca-wagmi

```

## 2. Integrate

```
    import { StrictMode } from "react";
    import { createRoot } from "react-dom/client";
    import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
    import { WagmiProvider } from 'wagmi'
    import { CA } from "@arcana/ca-sdk";
    import { CAProvider } from '@arcana/ca-wagmi'
    import App from "./App.tsx";
    import { config } from "./utils/config";

    const ca = new CA();
    const queryClient = new QueryClient()

    createRoot(document.getElementById("root")!).render(
        <StrictMode>
            <WagmiProvider config={config}>
                <QueryClientProvider client={queryClient}>
                    <CAProvider client={ca}>
                        <App />
                    </CAProvider>
                </QueryClientProvider>
            </WagmiProvider>
        </StrictMode>
    );

```

See [Arcana CA Wagmi SDK Reference](https://ca-wagmi-sdk-ref-guide.netlify.app/) for details.

## 3. Unified Balance

The `useBalanceModal` hook displays the unified balance plug and play widget.

```
import { useBalanceModal } from "@arcana/ca-wagmi"

const { showModal, hideModal } = useBalanceModal()

```

## 4. CA Transactions

Import `useSendTransaction` and `useWriteContract` hooks from the ca-wagmi, **not from the wagmi SDK**, to enable chain abstracted transactions.

### `useSendTransaction`

```
import {
    useSendTransaction //Note: Use from ca-wagmi SDK
} from "@arcana/ca-wagmi";

const { sendTransaction } = useSendTransaction();
...
sendTransaction(
    {
        to,
        value,
    },
    {
        onSuccess(hash) {
            createSuccessToast(chain, hash);
            form.reset();
            setLoading(false);
            console.log("success");
        },
        onSettled() {
            console.log("settled");
        },
        onError(error) {
            console.log({ error });
            form.reset();
            setLoading(false);
        },
    }
);
...

```

### `useWriteContract`

```
import {
    useWriteContract
} from "@arcana/ca-wagmi";

const { writeContract } = useWriteContract();

...

writeContract(
    {
        address: s,
        abi: erc20Abi,
        functionName: "transfer",
        args: [to, BigInt(amount.mul(new Decimal(10).pow(6)).toString())],
    },
    {
        onSuccess(hash) {
            createSuccessToast(chain, hash);
            form.reset();
            setLoading(false);
            console.log("success");
        },
        onError(error) {
            form.reset();
            setLoading(false);
            console.log({ error });
        },
    }
);

...

```

## 5. Advanced

The SDK also provides chain abstraction hooks to:

- Get unified balance for a specific token
- View user intents
- Issue chain abstracted `bridge` and `transfer` functions

[Learn more...](../../ca/integrate/wagmi/#arcana-hooks)

**Finished.**

The 'CA-Wagmi' app is all set to let users spend on any chain via unified balance and chain abstracted transactions.

Refer to the following sample integration code for usage details.

```
import { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
import { WagmiProvider } from 'wagmi'
import { CA } from "@arcana/ca-sdk";
import { CAProvider } from '@arcana/ca-wagmi'
import App from "./App.tsx";
import { config } from "./utils/config";

const ca = new CA();
const queryClient = new QueryClient()

createRoot(document.getElementById("root")!).render(
    <StrictMode>
        <WagmiProvider config={config}>
            <QueryClientProvider client={queryClient}>
                <CAProvider client={ca}>
                    <App />
                </CAProvider>
            </QueryClientProvider>
        </WagmiProvider>
    </StrictMode>
);

```

```
import "./App.css";
import { useAccount } from "wagmi";

import { Account } from "./account";
import { WalletOptions } from "./wallet-options";

function ConnectWallet() {
    const { isConnected } = useAccount();
    if (isConnected) return <Account />;
    return <WalletOptions />;
}

function App() {
return (
    <div className="min-h-screen bg-white dark:bg-gray-900 flex">
    <div className=" align-center m-auto min-w-md max-w-md p-6 bg-white border border-gray-200 rounded-lg shadow-sm dark:bg-gray-800 dark:border-gray-700">
        <ConnectWallet />
    </div>
    </div>
);
}

export default App;

```

```
import {
    useAccount,
    useDisconnect,
    useEnsName,
    useSwitchChain,
// useSendTransaction //DO NOT use from the wagmi SDK
} from "wagmi";
import {
    useBalanceModal,
    useSendTransaction, //Note: Use from ca-wagmi SDK
    useWriteContract,
    useUnifiedBalance,
} from "@arcana/ca-wagmi";

import { useState } from "react";
import Decimal from "decimal.js";
import { erc20Abi } from "viem";

export function Account() {
    const { sendTransaction } = useSendTransaction();
    const [allLoading, setLoading] = useState(false);
    const { address } = useAccount();
    const { disconnect } = useDisconnect();
    const { data: ensName } = useEnsName({ address });
    const { showModal, hideModal } = useBalanceModal();
    const { loading, getAssetBalance } = useUnifiedBalance();
    if (!loading) {
        console.log({ assetBalance: getAssetBalance("ETH") });
    }
    const { switchChainAsync } = useSwitchChain();
    const { writeContract } = useWriteContract();

    const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {
        e.preventDefault();
        setLoading(true);
        const form = e.currentTarget;
        try {
            const formData = new FormData(form);

            const toFV = formData.get("to");
            const chainFV = formData.get("chain");
            const assetFV = formData.get("asset");
            const amountFV = formData.get("amount");
            if (!toFV || !chainFV || !assetFV || !amountFV) {
                throw new Error("missing params");
            }
            const to = toFV as `0x${string}`;
            const chain = Number(chainFV);
            const asset = assetFV as "usdc" | "usdt" | "eth";

            await switchChainAsync({ chainId: chain });

            let amount = new Decimal(amountFV as string);
            if (asset.toLowerCase() === "ETH".toLowerCase()) {
                amount = amount.mul(new Decimal(10).pow(18));
                const value = BigInt(amount.toString());
                sendTransaction(
                    {
                        to,
                        value,
                    },
                    {
                        onSuccess(hash) {
                            createSuccessToast(chain, hash);
                            form.reset();
                            setLoading(false);
                            console.log("success");
                        },
                        onSettled() {
                            console.log("settled");
                        },
                        onError(error) {
                            console.log({ error });
                            form.reset();
                            setLoading(false);
                        },
                    }
                );
            } else {
                const chainData = chainToCurrency[chain];
                const s = chainData[asset === "usdc" ? 0 : 1];
                if (!s) {
                    throw new Error("asset not supported");
                }
                writeContract(
                    {
                        address: s,
                        abi: erc20Abi,
                        functionName: "transfer",
                        args: [to, BigInt(amount.mul(new Decimal(10).pow(6)).toString())],
                    },
                    {
                        onSuccess(hash) {
                            createSuccessToast(chain, hash);
                            form.reset();
                            setLoading(false);
                            console.log("success");
                        },
                        onError(error) {
                            form.reset();
                            setLoading(false);
                            console.log({ error });
                        },
                    }
                );
            }
        } catch (e) {
            form.reset();
            console.log({ e });
            setLoading(false);
        }
    };

    return (
        <>
            {loading ? (
                <div>
                    <p>Loading...</p>
                </div>   
            ) : (
                <>
                    <p>
                        {address && ensName ? `${ensName} (${address})` : address}
                    </p>
                    <div>
                        <button onClick={() => disconnect()}>
                            Disconnect
                        </button>
                        <button onClick={() => showModal()}> //Display Unified Balance
                            Show balances
                        </button>
                    </div>
                    <div className="mb-4 m-auto"></div>
                    <form onSubmit={handleSubmit}>
                        <div>
                            <label>
                                To
                            </label>
                            <input
                                name="to"
                                type="text"
                                placeholder="0x..."
                                required
                            />
                        </div>
                        <div>
                            <label>
                                Destination Chain
                            </label>
                            <select
                                required
                                name="chain"
                                id="chain"
                                defaultValue={""}
                            >
                                <option value="" disabled>
                                    Select a chain
                                </option>
                                <option value="42161">Arbitrum One</option>
                                <option value="59144">Linea</option>
                                <option value="534352">Scroll</option>
                                <option value="10">Optimism</option>
                                <option value="8453">Base</option>
                                <option value="1">Ethereum</option>
                                <option value="137">Polygon POS</option>
                            </select>
                        </div>
                        <div>
                            <label>
                                Asset
                            </label>
                            <select
                                name="asset"
                                id="asset"
                                defaultValue={""}
                            >
                                <option value="" disabled>
                                    Select an asset
                                </option>
                                <option value="usdt">USDT</option>
                                <option value="usdc">USDC</option>
                                <option value="eth">ETH</option>
                            </select>
                        </div>
                        <div className="mb-5">
                            <label>
                                Amount
                            </label>
                            <input
                                name="amount"
                                type="text"
                                id="amount"
                                required
                            />
                        </div>
                        <button
                            type="submit"
                            disabled={allLoading}
                        >
                            {allLoading ? "Loading..." : "Submit"}
                        </button>
                    </form>
                </>
            )
        </>
    );
}      

```

```
import { http, createConfig } from "wagmi";
import {
    mainnet,
    optimism,
    base,
    arbitrum,
    scroll,
    linea,
    polygon,
} from "wagmi/chains";
import { injected } from "wagmi/connectors";

export const config = createConfig({
    chains: [mainnet, optimism, arbitrum, base, scroll, linea, polygon],
    connectors: [injected()],
    transports: {
        [mainnet.id]: http(),
        [optimism.id]: http(),
        [arbitrum.id]: http(),
        [base.id]: http(),
        [scroll.id]: http(),
        [linea.id]: http(),
        [polygon.id]: http(),
    },
});

```

```
import * as React from "react";
import { Connector, useConnect } from "wagmi";

export function WalletOptions() {
    const { connectors, connect } = useConnect();
    console.log({ connectors });
    return (
        <>
        <h3>Wallets</h3>
        <hr></hr>
        {connectors
            .filter((c) => c.id !== "injected")
                .map((connector) => (
                    <WalletOption
                        key={connector.uid}
                        connector={connector}
                        onClick={() => connect({ connector })}/>
                ))}
        </>
    );
}

function WalletOption({
    connector,
    onClick,
    }: {
    connector: Connector;
    onClick: () => void;
    }) {
    const [ready, setReady] = React.useState(false);

    React.useEffect(() => {
        (async () => {
        const provider = await connector.getProvider();
        setReady(!!provider);
        })();
    }, [connector]);

    return (
        <>
        <div>
            <button
            disabled={!ready}
            type="button"
            onClick={onClick}
            >
            <img
                src={connector.icon}
                className="w-4 h-4 me-2 -ms-1 text-[#626890]"
                aria-hidden="true"
            />
            {connector.name}
            </button>
        </div>
        </>
    );
}

```

`useCAFn`: Chain Abstracted Bridge and Transfer

## See Also

Arcana CA Wagmi SDK Quick Links

- [Supported Chains, tokens](../../web3-stack/ca_stack/)
- [Arcana CA Wagmi SDK Reference](https://ca-wagmi-sdk-ref-guide.netlify.app/)
- [Release notes](../../relnotes/latest-ca-release-note/)
- [Changelog](https://github.com/arcana-network/ca-wagmi/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/ca-wagmi)

[Try CA Wagmi SDK CodeSandbox](https://codesandbox.io/p/github/shaloo/sample-arcana-auth-ca-wagmi-sdks/sample-auth-ca-wagmi-integration)

# Get Started: Flutter Apps

Integrate 'Flutter' apps with Arcana Auth Flutter SDK and onboard users via [social login](../../concepts/social-login/). Enable users to sign blockchain transactions with the in-app [Arcana wallet](../../concepts/anwallet/).

## Prerequisites

- App must be [registered](../../setup/config-auth/register-app/) via the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Optionally [configure auth settings](../../setup/config-auth/) such as [social login](../../concepts/social-login/), [wallet user experience](../../concepts/anwallet/), etc.

Flutter Version

We support Flutter [v3.15.0](https://flutter-ko.dev/development/tools/sdk/releases) or higher

## 2. Install

The Arcana Auth Flutter SDK is a [Flutter plugin](https://docs.flutter.dev/packages-and-plugins/developing-packages). It is available for download at 'Pub.dev' as the [`arcana_auth_flutter`](https://pub.dev/packages/arcana_auth_flutter) package.

Add the following line to the dependencies section in your app's `pubspec.yaml` file:

pubspec.yaml

```
dependencies:
  flutter:       # Required for every Flutter project
    sdk: flutter # Required for every Flutter project
  flutter_localizations: # Required to enable localization
    sdk: flutter         # Required to enable localization
  arcana_auth_flutter: ^0.0.6 

```

## 2. Integrate

```
import 'package:arcana_sdk/arcana_sdk.dart';

final auth = AuthProvider(clientId:"xar_xxxx_...");
auth.init(context: context);

```

### Onboard Users

```
auth.loginWithSocial("google").then((_) => {
// On login Success
}).catchError(...);

```

### Sign Transactions

The `AuthProvider` supports the JSON-RPC requests for the following Web3 operations in Flutter apps:

```
auth.request(method: "...", params: [...]).then(() => ...);

```

```
auth.sendTransaction({ to: "", value: "" }).then((hash) => ...);

```

**That's all!**

The 'Flutter' app is ready to onboard users and allow them to sign blockchain transactions.

## 4. Advanced Usage

Flutter SDK Usage

**Social Login**

```
auth.loginWithSocial("google").then((_) => {
// On login Success
}).catchError(...);

```

**OTP Login**

```
auth.loginWithOTP("${email_id}").then((_) => {
// On login Success
}).catchError(...);

```

**Logout**

```
auth.logout().then((_) => {
// On logout
});

```

**Get User Address**

```
auth.getAccount().then((account) => ...);

```

**Get User Details**

```
auth.getUserInfo().then((UserInfo info) => ...);

```

**Show/Hide Wallet UI**

```
auth.showWallet();

```

```
auth.hideWallet();

```

**Check Wallet Visibility**

```
var isVisible = auth.isVisible();

```

**Clear Cache**

```
auth.clearCache();

```

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## See also

**'Flutter'** integration example: See `sample-auth-flutter` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

Arcana Auth Flutter SDK Quick Links

- [Release notes](../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth-flutter/releases)
- [Download SDK](https://pub.dev/packages/arcana_auth_flutter)

[Try Demo App](https://demo.arcana.network)

# Get Started: MultiversX Apps

Integrate 'MultiversX' apps with Arcana Auth SDK and onboard users via [social login](../../concepts/social-login/). Enable users to sign blockchain transactions with the in-app [Arcana wallet](../../concepts/anwallet/).

MultiversX chains are pre-configured and instantly accessible to authenticated users via the Arcana wallet.

## Prerequisites

- Register the MultiversX app as instructed in the [MultiversX Configuration Guide](../../setup/config-dApp-with-db-for-mvx/). Get a unique Client ID and use it for app integration.
- Configure social login providers to onboard users and customize the user experience for blockchain signing via the wallet settings.

## 1. Install

```
npm install --save @arcana/auth

```

```
yarn add @arcana/auth

```

## 2. Integrate

```
import { AuthProvider } from '@arcana/auth'

```

```
const auth = new AuthProvider(
  "xar_test_445007f942xxxxxxxxxxxxxxxxxx484cAfd2", // App client ID
  { 
    alwaysVisible: false,     // default: true, wallet always visible
    connectOptions: {
      compact: true           // default: false, regular plug-and-play login UI
    },
    position: 'left',         // default: right
    setWindowProvider: true,  // default: false, window.ethereum not set
    theme: 'light',           // default: dark
})

```

```
try {
  await auth.init()
} catch (e) {
  // Handle exception case
}

```

Initialize First!

The app must use `await` until the `init()` call is complete, before invoking any of the other Arcana Auth SDK functions listed in [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/).

### Onboard Users

```
await auth.connect();

```

Plug-and-Play Login UI

### Sign Transactions

```
  // For authenticated users, add code for signing message

  const personalSign = await provider.request({
    method: 'mvx_signMessage',
    params: {
      message: 'SignMessage to test MultiversX signmessage',
      address: from,
    },
  })

  // Returns signature object
  // {signature: "some-sig"}

```

For the MultiversX chain, the following methods are supported:

- `mvx_signMessage`
- `mvx_signTransaction`
- `mvx_signTransactions`
- `getAccounts`
- `getPublicKey`

Refer to [other supported Web3 wallet operations](../../auth/web3-ops/mvx/) for details.

**That's all!**

The 'MultiversX' app is ready to onboard users and allow them to sign blockchain transactions.

## 3. Advanced Usage

`AuthProvider` Optional Parameters

Besides Client ID input parameter, you can optionally customize these settings in the `AuthProvider` constructor:

______________________________________________________________________

**`position`:** wallet position within the app context - `left`|`right`

**`theme`:** wallet theme - `light`|`dark`

**`connectOptions`:** [compact mode](../../concepts/plug-and-play-auth/#compact-modal) for the built-in plug-and-play login UI - `true`|`false`

```
connectOptions: {
      compact: true // default - false
},

```

______________________________________________________________________

See [`AuthProvider` constructor parameters](https://authsdk-ref-guide.netlify.app/interfaces/constructorparams) for details.

Wallet Customization

Manage the user experience for signing blockchain transactions by configuring SDK usage. Specify the [theme, branding](../../setup/config-dApp-with-db/#settings-overview) settings of the in-app built-in Arcana wallet UI. Use [wallet visibility](../../concepts/anwallet/walletvisibility/) and decide when to display the wallet UI in the app. Configure [keyspace](../../concepts/keyspace-types/) and enable the user experience of having the same wallet address across multiple apps integrated with the Arcana Auth SDK.

You can also replace the built-in wallet UI with a [custom wallet UI](../../setup/config-custom-wallet-ui/).

Custom Login UI

You can onboard users through a [custom login UI](../../concepts/custom-login-ui/) instead of the [built-in plug-and-play](../../concepts/plug-and-play-auth/) one. See [how to use custom login UI](../../auth/onboard/vanilla/custom-ui/) and onboard users in a 'MultiversX' app.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## See Also

**'MultiversX'** integration example: See `'`sample-auth-multiversx`'` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

[Try Demo App](https://demo.arcana.network)

# Get Started: Near Apps

Integrate 'Near' apps with Arcana Auth SDK and onboard users via [social login](../../concepts/social-login/). Enable users to sign blockchain transactions with the in-app [Arcana wallet](../../concepts/anwallet/).

Near chains are pre-configured and instantly accessible to authenticated users via the Arcana wallet.

## Prerequisites

- Register the Near app as instructed in the [Near Configuration Guide](../../setup/config-dApp-with-db-for-near/). Get a unique Client ID and use it for app integration.
- Configure social login providers to onboard users and customize the user experience for blockchain signing via the wallet settings.

## 1. Install

```
npm install --save @arcana/auth

```

```
yarn add @arcana/auth

```

## 2. Integrate

```
import { AuthProvider } from '@arcana/auth'

```

```
const auth = new AuthProvider(
  "xar_test_445007f942xxxxxxxxxxxxxxxxxx484cAfd2", // App client ID
  { 
    alwaysVisible: false,     // default: true, wallet always visible
    connectOptions: {
      compact: true           // default: false, regular plug-and-play login UI
    },
    position: 'left',         // default: right
    setWindowProvider: true,  // default: false, window.ethereum not set
    theme: 'light',           // default: dark
})

```

```
try {
  await auth.init()
} catch (e) {
  // Handle exception case
}

```

Initialize First!

The app must use `await` until the `init()` call is complete, before invoking any of the other Arcana Auth SDK functions listed in [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/).

### Onboard Users

```
await auth.connect();

```

Plug-and-Play Login UI

### Sign Transactions

```
  // For authenticated users, add code for signing message

  import base58 from "bs58";

  const message = base58.encode(Buffer.from("This is a test message for trying 'SignMessage'."));

  const signedMessage = await auth.provider.request({
    method: "near_signMessage",
    params: { message },
  });

  console.log(signedMessage);

```

For the Near chain, the following methods are supported:

- `getAccounts`
- `near_signMessage`
- `near_signAndSendTransaction`

Refer to [other supported Web3 wallet operations](../../auth/web3-ops/near/) for details.

**That's all!**

The 'Near' app is ready to onboard users and allow them to sign blockchain transactions.

## 3. Advanced Usage

`AuthProvider` Optional Parameters

Besides Client ID input parameter, you can optionally customize these settings in the `AuthProvider` constructor:

______________________________________________________________________

**`position`:** wallet position within the app context - `left`|`right`

**`theme`:** wallet theme - `light`|`dark`

**`connectOptions`:** [compact mode](../../concepts/plug-and-play-auth/#compact-modal) for the built-in plug-and-play login UI - `true`|`false`

```
connectOptions: {
      compact: true // default - false
},

```

______________________________________________________________________

See [`AuthProvider` constructor parameters](https://authsdk-ref-guide.netlify.app/interfaces/constructorparams) for details.

Wallet Customization

Manage the user experience for signing blockchain transactions by configuring SDK usage. Specify the [theme, branding](../../setup/config-dApp-with-db/#settings-overview) settings of the in-app built-in Arcana wallet UI. Use [wallet visibility](../../concepts/anwallet/walletvisibility/) and decide when to display the wallet UI in the app. Configure [keyspace](../../concepts/keyspace-types/) and enable the user experience of having the same wallet address across multiple apps integrated with the Arcana Auth SDK.

You can also replace the built-in wallet UI with a [custom wallet UI](../../setup/config-custom-wallet-ui/).

Custom Login UI

You can onboard users through a [custom login UI](../../concepts/custom-login-ui/) instead of the [built-in plug-and-play](../../concepts/plug-and-play-auth/) one. See [how to use custom login UI](../../auth/onboard/vanilla/custom-ui/) and onboard users in a 'Near' app.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## See Also

**'Near'** integration example: See `'`sample-auth-near`'` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

[Try Demo App](https://demo.arcana.network)

# Get Started: RainbowKit Apps

[RainbowKit](https://www.rainbowkit.com/) is a React Hooks library for Ethereum for connecting Web3 apps to multiple wallets and chains.

Integrate ['RainbowKit' apps](ttps://www.rainbowkit.com/) with Arcana Auth SDK and onboard users via [social login](../../concepts/social-login/). Enable users to sign blockchain transactions with the in-app [Arcana wallet](../../concepts/anwallet/).

## Prerequisites

- App must be [registered](../../setup/config-auth/register-app/) via the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Optionally [configure auth settings](../../setup/config-auth/) such as [social login](../../concepts/social-login/), [wallet user experience](../../concepts/anwallet/), etc.

RainbowKit Version

We support Web3 apps using RainbowKit [v1.3.0](https://github.com/rainbow-me/rainbowkit/releases/tag/%40rainbow-me%2Frainbowkit%401.3.0) or higher.

## 1. Install SDKs

**Wagmi 2.0**

```
npm install --save @arcana/auth-wagmi@3.0.0 @arcana/auth@1.0.12

```

**Wagmi 1.0**

```
npm install --save @arcana/auth-wagmi@2.0.0 @arcana/auth

```

**Wagmi 2.0**

```
yarn add @arcana/auth-wagmi@3.0.0 @arcana/auth@1.0.12

```

**Wagmi 1.0**

```
yarn add @arcana/auth-wagmi@2.0.0 @arcana/auth

```

## 2. Integrate

```
// Set up Arcana Auth 

import { AuthProvider } from "@arcana/auth";

let auth = null;

export const getAuthProvider = () => {
  if (!auth) {
    auth = new AuthProvider(
      "xar_live_d7c88d9b033d100e4200d21a5c4897b896e60063"
    );
  }
  return auth;
};

```

```
//
// For apps using Wagmi versions v2.a.b and auth-wagmi v3.x.y
//

import { http, createConfig } from 'wagmi'
import { mainnet, sepolia } from 'wagmi/chains'
import { coinbaseWallet, injected, walletConnect } from 'wagmi/connectors'
import { AuthProvider } from '@arcana/auth'
import { ArcanaConnector } from "@arcana/auth-wagmi"

let auth: AuthProvider | null;

if (!auth) {
  auth = new AuthProvider(
    "Your-app-Client-ID"
  );
}

const connector = new ArcanaConnector({ auth });

export const config = createConfig({
  chains: [mainnet, sepolia],
  connectors: [
    injected(),
    coinbaseWallet({ appName: 'Create Wagmi' }),
    walletConnect({ projectId: import.meta.env.VITE_WC_PROJECT_ID }),
    connector(),
  ],
  transports: {
    [mainnet.id]: http(),
    [sepolia.id]: http(),
  },
})

declare module 'wagmi' {
  interface Register {
    config: typeof config
  }
}
...

```

```
//   
// For apps using Wagmi versions v1.x.y and auth-wagmi v2.a.b
//

import { configureChains, createConfig, WagmiConfig } from "wagmi";
import { publicProvider } from "wagmi/providers/public";
import { polygon, polygonAmoy } from "wagmi/chains";
import { useAccount, useConnect, useDisconnect, useBalance } from 'wagmi'
import "../styles/globals.css";
import { AuthProvider } from '@arcana/auth'
import { ArcanaConnector } from "@arcana/auth-wagmi"

let auth: AuthProvider | null;

if (!auth) {
  auth = new AuthProvider(
    "Your-app-Client-ID"
  );
}

const { chains, provider, webSocketProvider } = configureChains(
  [mainnet, polygon, polygonAmoy],
  [publicProvider()],
  { targetQuorum: 1 }
);

export const connector = (chains: Chain[]) => {
  return new ArcanaConnector({
    chains,
    options: {
      auth: auth,
    },
  });
};

const { chains, publicClient } = configureChains(
  [polygon, polygonAmoy],
  [publicProvider()]
);

export const wagmiEntity = createConfig({
  autoConnect: true,
  connectors: [connector(chains)],
  publicClient,
});
...

```

### Onboard Users

```
//This example uses Arcana Rainbow connector and MetaMask

import { connectorsForWallets } from "@rainbow-me/rainbowkit";
import { metaMaskWallet } from "@rainbow-me/rainbowkit/wallets";
import { getAuthProvider } from "./getArcanaAuth";
import { ArcanaConnector } from "@arcana/auth-wagmi";

import { sequenceLogo } from "./logo";

export const ArcanaRainbowConnector = ({ chains }) => {
  return {
    id: "arcana-auth",
    name: "Login with Email/Social",
    iconUrl: sequenceLogo,
    iconBackground: "#101010",
    createConnector: () => {
      const connector = new ArcanaConnector({
        chains,
        options: {
          auth: getAuthProvider()
        }
      });
      return {
        connector
      };
    }
  };
};

const connectors = (chains) =>
  connectorsForWallets([
    {
      groupName: "Recommended",
      wallets: [ArcanaRainbowConnector({ chains }), metaMaskWallet({ chains })]
    }
  ]);

export { connectors };

```

```
// Note:  
// This sample code is for 
// wagmi versions 1.x.x and auth-wagmi 2.0.0

import { configureChains, createConfig, WagmiConfig } from "wagmi";
import { polygon, mainnet, optimism, arbitrum } from "wagmi/chains";
import { publicProvider } from "wagmi/providers/public";
import { RainbowKitProvider } from "@rainbow-me/rainbowkit";
import { connectors } from "./wallet";
import { useAccount, useConnect } from 'wagmi'
import { Connect } from "./Connect";

const { chains, publicClient } = configureChains(
  [mainnet, polygon, optimism, arbitrum],
  [publicProvider()]
);

const wagmiEntity = createConfig({
  connectors: connectors(chains),
  autoConnect: true,
  publicClient,
});
...

```

```
// Note:  
// This sample code is for 
// wagmi versions <1.x.x and auth-wagmi <2.0.0

import "../styles/globals.css";
import "@rainbow-me/rainbowkit/styles.css";

import { configureChains, createClient, WagmiConfig } from "wagmi";
import { polygon, mainnet } from "wagmi/chains";
import { publicProvider } from "wagmi/providers/public";
import { RainbowKitProvider } from "@rainbow-me/rainbowkit";
import { connectors } from "../utils/wallet";

const { chains, provider } = configureChains(
  [mainnet, polygon],
  [publicProvider()]
);

const wagmiEntity = createClient({
  connectors: connectors(chains),
  autoConnect: true,
  provider,
});
...

```

Use `WagmiConfig` and `RainbowKitProvider` components in the app to enable social login through the configured providers in the RainbowKit app.

```
// Pass wagmi client configured with ArcanaRainbowKitConnector to the RainbowKit Context Provider
export default function App({ Component, pageProps }) {
  return (
    <WagmiConfig config={wagmiEntity}>
      <RainbowKitProvider chains={chains}>
        <Component {...pageProps} />
      </RainbowKitProvider>
    </WagmiConfig>
  );
}

```

```
// Pass wagmi client configured with ArcanaRainbowKitConnector to the RainbowKit Context Provider
export default function App({ Component, pageProps }) {
  return (
    <WagmiConfig client={wagmiEntity}>
      <RainbowKitProvider chains={chains}>
        <Component {...pageProps} />
      </RainbowKitProvider>
    </WagmiConfig>
  );
}

```

### Sign Transactions

Use `AuthProvider`, the EIP-1193 provider offered by the SDK, to call supported JSON/RPC functions and [Web3 wallet operations](../../auth/web3-ops/evm/) in the authenticated user's context.

**That's all!**

The 'RainbowKit' app is ready to onboard users and allow them to sign blockchain transactions.

## 3. Advanced Usage

`AuthProvider` Optional Parameters

Besides Client ID input parameter, you can optionally customize these settings in the `AuthProvider` constructor:

______________________________________________________________________

**`position`:** wallet position within the app context - `left`|`right`

**`theme`:** wallet theme - `light`|`dark`

**`connectOptions`:** [compact mode](../../concepts/plug-and-play-auth/#compact-modal) for the built-in plug-and-play login UI - `true`|`false`

```
connectOptions: {
      compact: true // default - false
},

```

______________________________________________________________________

See [`AuthProvider` constructor parameters](https://authsdk-ref-guide.netlify.app/interfaces/constructorparams) for details.

Wallet Customization

Manage the user experience for signing blockchain transactions by configuring SDK usage. Specify the [theme, branding](../../setup/config-dApp-with-db/#settings-overview) settings of the in-app built-in Arcana wallet UI. Use [wallet visibility](../../concepts/anwallet/walletvisibility/) and decide when to display the wallet UI in the app. Configure [keyspace](../../concepts/keyspace-types/) and enable the user experience of having the same wallet address across multiple apps integrated with the Arcana Auth SDK.

You can also replace the built-in wallet UI with a [custom wallet UI](../../setup/config-custom-wallet-ui/).

Custom Login UI

You can onboard users through a [custom login UI](../../concepts/custom-login-ui/) instead of the [built-in plug-and-play](../../concepts/plug-and-play-auth/) one. See [how to use custom login UI](../../auth/onboard/rainbow/rainbow-custom-ui/) and onboard users in a 'RainbowKit' app.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## See Also

**'RainbowKit'** integration example: See `sample-auth-rainbowkit`,`sample-auth-rainbow-viem` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

Arcana Auth Wagmi SDK Quick Links

- [Auth Wagmi SDK Reference](https://deploy-preview-28--wagmi-authsdk-ref-guide.netlify.app/)
- [Release notes](../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth-wagmi/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth-wagmi)

[Try Demo App](https://demo.arcana.network)

# Get Started: React-Native Apps

Integrate 'React-Native' apps with Arcana Auth React-Native SDK and onboard users via [social login](../../concepts/social-login/). Enable users to sign blockchain transactions with the in-app [Arcana wallet](../../concepts/anwallet/).

## Prerequisites

- App must be [registered](../../setup/config-auth/register-app/) via the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Optionally [configure auth settings](../../setup/config-auth/) such as [social login](../../concepts/social-login/), [wallet user experience](../../concepts/anwallet/), etc.

React-Native Version

We support React-Native [v0.71.8](https://reactnative.dev/versions) or higher

## 1. Install

```
npm i @arcana/auth-react-native
(cd ios && pod install)

```

Auto-Linking

You are **not required** to manually link this module, as it supports React Native auto-linking.

## 2. Integrate

```
import React, { useState } from "react";
import { Button, View } from "react-native";
import Auth from "@arcana/auth-react-native";

export default function App() {
  const authRef = React.useRef(null);

  return (
    <View >
      <Auth clientId="xar_test_xxx" theme="light" ref={authRef} />
    </View>
  );
}

```

### Onboard Users

```
// For logging in
const loginWithGoogle = () => {
  if(authRef !== null){
    authRef.current.loginWithSocial('google').then(() => {
      // logged in
    }).catch(err => {
      // already logged in
      // or error during login
    }) 
  }
}

```

### Sign Transactions

```
// For sending transaction
const sendTransaction = async data => {
  if(authRef !== null){
    return await authRef.current.sendTransaction(data);
  }
};

// For getting current account balance
const getBalance = async () => {
  if(authRef !== null){
    return await authRef.current.getBalance();
  }
};

```

```
// EIP 1193 request method
const request = async (method, params) => {
  if(authRef !== null){
    return await authRef.current.request({ method, params });
  }
};

```

## 3. Advanced Usage

`AuthProvider` Optional Parameters

Besides Client ID input parameter, you can optionally customize these settings in the `AuthProvider` constructor:

______________________________________________________________________

**`position`:** wallet position within the app context - `left`|`right`

**`theme`:** wallet theme - `light`|`dark`

**`connectOptions`:** [compact mode](../../concepts/plug-and-play-auth/#compact-modal) for the built-in plug-and-play login UI - `true`|`false`

```
connectOptions: {
      compact: true // default - false
},

```

______________________________________________________________________

See [`AuthProvider` constructor parameters](https://authsdk-ref-guide.netlify.app/interfaces/constructorparams) for details.

React-Native SDK Usage

**Google Login**

```
// For logging in
const loginWithGoogle = () => {
  if(authRef !== null){
    authRef.current.loginWithSocial('google').then(() => {
      // logged in
    }).catch(err => {
      // already logged in
      // or error during login
    }) 
  }
}

```

**Logout**

Add code to provide user log out option via the `logout` method or let authenticated users log out using the wallet UI logout option in the 'User Profile' tab.

```
// Logout User from session
const logout = () => {
  if(authRef !== null){
    authRef.current.logout().then(() => {
      // on logout
    });
  }
};

```

**Show/Hide Wallet**

Once the user logs into the app, they can instantly access the Arcana wallet. Developers can choose to show and hide the wallet as required by the app.

```
// For showing wallet
const showWallet = () => {
  if(authRef !== null){
    authRef.current.showWallet();
  }
}

// For hiding wallet
const hideWallet = () => {
  if(authRef !== null){
    authRef.current.hideWallet();
  }
}

```

```
// For getting logged in user info
const getUserInfo = async () => {
  if(authRef !== null){
    return authRef.current.getUserInfo();
  }
};

```

```
// For getting current account
const getAccount = async () => {
  if(authRef !== null){
    return await authRef.current.getAccount();
  }
};

```

```
return (
    <View >
      <Button
        title={"Get User Info"}
        onPress={() =>
          getUserInfo()
        }
      />
      <Button
        title={"Send Transaction"}
        onPress={() =>
          sendTransaction({ to: '', value: '', data: '' })
        }
      />
        <Button
        title={"Get Account"}
        onPress={() =>
          getAccount()
        }
      />

        <Button
        title={"Send Request"}
        onPress={() =>{
          sendRequest({ method:"", params:[] })
        }}
      />
      <Button
        title={"log out"}
        onPress={() => logout()}
      />
      <Auth
          clientId="xar_test_...."
          theme="dark"
          ref={authRef}
      />
    </View>
  );

```

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## See also

**'React-Native'** integration example: See `sample-auth-react-native` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

Arcana Auth React-Native SDK Quick Links

- [Release notes](../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth-react-native/releases)
- [Download auth-react-native](https://www.npmjs.com/package/@arcana/auth-react-native)

# Get Started: React/Next.js Apps

Integrate 'React/Next.js' apps with Arcana Auth SDK and onboard users via [social login](../../concepts/social-login/). Enable users to sign blockchain transactions with the in-app [Arcana wallet](../../concepts/anwallet/).

## Prerequisites

- App must be [registered](../../setup/config-auth/register-app/) via the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Optionally [configure auth settings](../../setup/config-auth/) such as [social login](../../concepts/social-login/), [wallet user experience](../../concepts/anwallet/), etc.

Supported Versions: React/NextJS, TypeScript

- React [18.00](https://github.com/facebook/react/blob/main/CHANGELOG.md#1800-march-29-2022) or higher
- TypeScript [5.00](https://github.com/microsoft/TypeScript/releases/tag/v5.0.2) or higher

## 1. Install SDKs

```
npm install --save @arcana/auth @arcana/auth-react

```

```
yarn add @arcana/auth  @arcana/auth-react

```

## 2. Integrate

```
import { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import { AuthProvider } from "@arcana/auth";
import { ProvideAuth } from "@arcana/auth-react";
import App from "./App";

const rootElement = document.getElementById("root");
const root = createRoot(rootElement);

const provider = new AuthProvider(
  "xar_live_d7c88d9b033d100e4200d21a5c4897b896e60063"
);

root.render(
  <StrictMode>
    <ProvideAuth provider={provider}>
      <App />
    </ProvideAuth>
  </StrictMode>
);

```

```
import React from "react";
import { Auth } from "@arcana/auth-react";

export default function App() {
  return (
    <div className="App">
      <h1>Sample Auth React App</h1>
      <Auth />
    </div>
  );

```

### Onboard Users

```
import { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import { AuthProvider } from "@arcana/auth";
import { ProvideAuth } from "@arcana/auth-react";

import App from "./App";

const rootElement = document.getElementById("root");
const root = createRoot(rootElement);
const provider = new AuthProvider(
  "xar_live_d7c88d9b033d100e4200d21a5c4897b896e60063",
  {
    network: "mainnet",
    theme: "light",
    connectOptions: {
      compact: true,
    },
    chainConfig: {
      chainId: "80001"
    }
  }
); //See SDK Reference Guide for optional parameters

root.render(
  <StrictMode>
    <ProvideAuth provider={provider}>
      <App />
    </ProvideAuth>
  </StrictMode>
);

```

```
import { Auth } from "@arcana/auth-react";

// Use <Auth/> to use the built-in, plug & play login UI
function App() {
  const [theme, setTheme] = React.useState("light");
  return (
    <div>
      <Auth theme={theme} />
    </div>
)}

export default App;

```

### Sign Transactions

Use `AuthProvider`, the EIP-1193 provider offered by the SDK, to call supported JSON/RPC functions and [Web3 wallet operations](../../auth/web3-ops/evm/) in the authenticated user's context.

**That's all!**

The 'React/Next.js' app is ready to onboard users and allow them to sign blockchain transactions.

## 3. Advanced Usage

`AuthProvider` Optional Parameters

Besides Client ID input parameter, you can optionally customize these settings in the `AuthProvider` constructor:

______________________________________________________________________

**`position`:** wallet position within the app context - `left`|`right`

**`theme`:** wallet theme - `light`|`dark`

**`connectOptions`:** [compact mode](../../concepts/plug-and-play-auth/#compact-modal) for the built-in plug-and-play login UI - `true`|`false`

```
connectOptions: {
      compact: true // default - false
},

```

______________________________________________________________________

See [`AuthProvider` constructor parameters](https://authsdk-ref-guide.netlify.app/interfaces/constructorparams) for details.

Wallet Customization

Manage the user experience for signing blockchain transactions by configuring SDK usage. Specify the [theme, branding](../../setup/config-dApp-with-db/#settings-overview) settings of the in-app built-in Arcana wallet UI. Use [wallet visibility](../../concepts/anwallet/walletvisibility/) and decide when to display the wallet UI in the app. Configure [keyspace](../../concepts/keyspace-types/) and enable the user experience of having the same wallet address across multiple apps integrated with the Arcana Auth SDK.

You can also replace the built-in wallet UI with a [custom wallet UI](../../setup/config-custom-wallet-ui/).

Custom Login UI

You can onboard users through a [custom login UI](../../concepts/custom-login-ui/) instead of the [built-in plug-and-play](../../concepts/plug-and-play-auth/) one. See [how to use custom login UI](../../auth/onboard/react-nextjs/custom-ui/) and onboard users in a 'React/Next.js' app.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## See Also

**'React/Next.js'** integration example: See `sample-auth-react, sample-auth-nextjs` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

Arcana Auth React SDK Quick Links

- [Arcana Auth React SDK Reference Guide](https://auth-react-sdk-ref-guide.netlify.app/)
- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Arcana Auth SDK Release notes](../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth-react/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth-react)

[Try Demo App](https://demo.arcana.network)

# Get Started: Solana Apps

Integrate 'Solana' apps with Arcana Auth SDK and onboard users via [social login](../../concepts/social-login/). Enable users to sign blockchain transactions with the in-app [Arcana wallet](../../concepts/anwallet/).

Solana chains are pre-configured and instantly accessible to authenticated users via the Arcana wallet.

## Prerequisites

- Register the Solana app as instructed in the [Solana Configuration Guide](../../setup/config-dApp-with-db-for-Solana/). Get a unique Client ID and use it for app integration.
- Configure social login providers to onboard users and customize the user experience for blockchain signing via the wallet settings.

## 1. Install

```
npm install --save @arcana/auth

```

```
yarn add @arcana/auth

```

## 2. Integrate

```
import { AuthProvider } from '@arcana/auth'

```

```
const auth = new AuthProvider(
  "xar_test_445007f942xxxxxxxxxxxxxxxxxx484cAfd2", // App client ID
  { 
    alwaysVisible: false,     // default: true, wallet always visible
    connectOptions: {
      compact: true           // default: false, regular plug-and-play login UI
    },
    position: 'left',         // default: right
    setWindowProvider: true,  // default: false, window.ethereum not set
    theme: 'light',           // default: dark
})

```

```
try {
  await auth.init()
} catch (e) {
  // Handle exception case
}

```

Initialize First!

The app must use `await` until the `init()` call is complete, before invoking any of the other Arcana Auth SDK functions listed in [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/).

Solana apps can use the `auth.provider` to make standard JSON RPC calls in the context of an authenticated user.

```
const provider = auth.provider;

```

Use the Solana provider for issuing Solana Web3 wallet operations in the context of an authenticated user.

```
const solanaP = auth.solana;

```

### Onboard Users

```
await auth.connect();

```

Plug-and-Play Login UI

### Sign Transactions

Use the standard EIP-1193 provider, `auth.provider`, for [issuing Solana JSON-RPC calls](../../auth/web3-ops/solana/#supported-jsonrpc-functions) in the context of the authenticated user. Use `auth.solana` Solana provider for [issuing supported Web3 wallet operations](../../auth/web3-ops/solana/#supported-web3-wallet-operations) on the Solana chain.

```
  const message = `Sign below to authenticate with CryptoCorgis to avoid digital dognappers`;
  const encodedMessage = new TextEncoder().encode(message);
  // To get a proper signature, the second parameter in signMessage call 
  // can be either "hex" or "utf8", depending on what kind of message we are signing. 
  // For plaintext, use "utf8"; 
  // For hex message, use "hex"
  try {
    const signature = await solanaP.signMessage(encodedMessage, "hex");
    window.solanaSig = signature;
    console.log(signature);
  } catch (e) {
    console.error(e);
  }

```

For Solana, the following Web3 wallet operations are supported:

- `signMessage`
- `signTransaction`
- `signAllTransactions`
- `signAndSendTransaction`

Refer to [other supported Web3 wallet operations](../../auth/web3-ops/solana/) for details.

**That's all!**

The 'Solana' app is ready to onboard users and allow them to sign blockchain transactions.

## 3. Advanced Usage

`AuthProvider` Optional Parameters

Besides Client ID input parameter, you can optionally customize these settings in the `AuthProvider` constructor:

______________________________________________________________________

**`position`:** wallet position within the app context - `left`|`right`

**`theme`:** wallet theme - `light`|`dark`

**`connectOptions`:** [compact mode](../../concepts/plug-and-play-auth/#compact-modal) for the built-in plug-and-play login UI - `true`|`false`

```
connectOptions: {
      compact: true // default - false
},

```

______________________________________________________________________

See [`AuthProvider` constructor parameters](https://authsdk-ref-guide.netlify.app/interfaces/constructorparams) for details.

Wallet Customization

Manage the user experience for signing blockchain transactions by configuring SDK usage. Specify the [theme, branding](../../setup/config-dApp-with-db/#settings-overview) settings of the in-app built-in Arcana wallet UI. Use [wallet visibility](../../concepts/anwallet/walletvisibility/) and decide when to display the wallet UI in the app. Configure [keyspace](../../concepts/keyspace-types/) and enable the user experience of having the same wallet address across multiple apps integrated with the Arcana Auth SDK.

You can also replace the built-in wallet UI with a [custom wallet UI](../../setup/config-custom-wallet-ui/).

Custom Login UI

You can onboard users through a [custom login UI](../../concepts/custom-login-ui/) instead of the [built-in plug-and-play](../../concepts/plug-and-play-auth/) one. See [how to use custom login UI](../../auth/onboard/vanilla/custom-ui/) and onboard users in a 'Solana' app.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## See Also

**'Solana'** integration example: See `sample-auth-solana` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

[Try Demo App](https://demo.arcana.network)

# Get Started: Unity Apps

Early Preview Release

This feature of the Arcana Auth SDK is available **only** for Arcana Testnet as an **early preview**. Use it with caution. We are actively working on adding more functionality and fixes before making a formal release.

Integrate Web3 'Unity' gaming apps with Arcana Auth SDK and onboard users via [social login](../../concepts/social-login/). Enable users to sign blockchain transactions with the in-app [Arcana wallet](../../concepts/anwallet/).

## Prerequisites

- [Register the app](../../setup/config-auth/register-app/) and configure auth usage settings via the Arcana Developer Dashboard. Get a unique Client ID before integrating the app.
- [Configure social login providers](../../setup/config-auth/) to onboard users and customize the user experience for blockchain signing via the wallet settings.

## 1. Unity Setup, Auth Install

- Install [NuGetForUnity](https://github.com/GlitchEnzo/NuGetForUnity).

- In the NuGet Toolbar at the top, click **NuGet > Manage NuGet packages**.

  Manage NuGet Packages

- Install the following packages by STA: `Nethereum.Web3`, `WebsocketSharp.Core`

- Use the Unity Editor Project Settings window to edit package settings for your project. Click **Edit > Project Settings > Package Manager**.

  - [Edit Project Settings](https://docs.unity3d.com/Manual/class-PackageManager.html) with URL **https://npm-registry.arcana.network/** and set the scope to `com.cysharp.unitask, dev.voltstro`

    Edit Project Settings

  - Add another new scoped registry with URL **https://unitynuget-registry.azurewebsites.net** and set the scope to `org.nuget`.

    Add Scoped Registry

- In the NuGet window, use the NuGet Toolbar at the top, and click **Window > Package Manager > Add Package by Name**.

  Add Package by Name

- Add the following packages: `com.cysharp.unitask`, \`\`dev.voltstro.unitywebbrowser.engine.cef\`

  - **Windows**: `dev.voltstro.unitywebbrowser.engine.cef.win.x64`
  - **Linux**: `dev.voltstro.unitywebbrowser.engine.cef.linux.x64`
  - **MacOS**: `dev.voltstro.unitywebbrowser.engine.cef.macos.x64`

See [Unity Web Browser package list](https://projects.voltstro.dev/UnityWebBrowser/latest/articles/user/packages/#package-list) for details.

- Download the Arcana Auth Unity SDK package: [https://npm-registry.arcana.network/](https://npm-registry.arcana.network/-/web/detail/arcana-auth-sdk). Unzip the contents and copy them to the **Assets** folder of the Unity Project.

- Search for **ArcanaSDK** prefab in the 'Project Window' of the Unity Editor. Click **Assets > ArcanaSDK > Prefabs > ArcanaSDK**. Drag this prefab into the project 'Hierarchy' and configure the prefab as shown here:

  Configure Arcana Prefab

## 2. Integrate

```
using ArcanaSDK;

await arcanaSDK.InitializeSDK(env, "unique_clientID_for_registed_app");

```

### Onboard Users

```
// After initializing the SDK

if (loginMethod == LoginMethod.Passwordless)
  arcanaSDK.LoginWithOTP(email);
else
  arcanaSDK.LoginWithSocial(loginMethod);

```

### Sign Transactions

Use `Request` method to initiate Web3 Wallet operation requests.

```
responseTextField.text = "";
if (parameters.text != null)
{
  response = (await arcanaSDK.Request(new RequestParams {
      Method = method.text,
      Params = JsonConvert.DeserializeObject<object[]>(parameters.text)
  })).ToString();
}
else
{
  response = (await arcanaSDK.Request(new RequestParams {
      Method = method.text,
  })).ToString();
}

```

**That's all!**

The 'Unity' app is ready to onboard users and allow them to sign blockchain transactions.

## 3. Advanced Usage

`AuthProvider` Optional Parameters

Besides Client ID input parameter, you can optionally customize these settings in the `AuthProvider` constructor:

______________________________________________________________________

**`position`:** wallet position within the app context - `left`|`right`

**`theme`:** wallet theme - `light`|`dark`

**`connectOptions`:** [compact mode](../../concepts/plug-and-play-auth/#compact-modal) for the built-in plug-and-play login UI - `true`|`false`

```
connectOptions: {
      compact: true // default - false
},

```

______________________________________________________________________

See [`AuthProvider` constructor parameters](https://authsdk-ref-guide.netlify.app/interfaces/constructorparams) for details.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## See also

**'Unity'** integration example: See `sample-auth-unity` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

# Get Started: HTML/CSS/JS Apps

Integrate 'HTML/CSS/JS' apps with Arcana Auth SDK and onboard users via [social login](../../concepts/social-login/). Enable users to sign blockchain transactions with the in-app [Arcana wallet](../../concepts/anwallet/).

## Prerequisites

- App must be [registered](../../setup/config-auth/register-app/) via the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Optionally [configure auth settings](../../setup/config-auth/) such as [social login](../../concepts/social-login/), [wallet user experience](../../concepts/anwallet/), etc.

## 1. Install

```
npm install --save @arcana/auth

```

```
yarn add @arcana/auth

```

## 2. Integrate

```
import { AuthProvider } from '@arcana/auth'

```

```
const auth = new AuthProvider(
  "xar_test_445007f942xxxxxxxxxxxxxxxxxx484cAfd2", // App client ID
)

```

```
try {
  await auth.init()
} catch (e) {
  // Handle exception case
}

```

Initialize First!

The app must use `await` until the `init()` call is complete, before invoking any of the other Arcana Auth SDK functions listed in the [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/).

### Onboard Users

```
await auth.connect();

```

Plug-and-Play Login UI

### Sign Transactions

Use `AuthProvider`, the EIP-1193 provider offered by the SDK, to call supported JSON/RPC functions and [Web3 wallet operations](../../auth/web3-ops/evm/) in the authenticated user's context.

**That's all!**

The 'HTML/CSS/JS' app is ready to onboard users and allow them to sign blockchain transactions.

## 3. Advanced Usage

`AuthProvider` Optional Parameters

Besides Client ID input parameter, you can optionally customize these settings in the `AuthProvider` constructor:

______________________________________________________________________

**`position`:** wallet position within the app context - `left`|`right`

**`theme`:** wallet theme - `light`|`dark`

**`connectOptions`:** [compact mode](../../concepts/plug-and-play-auth/#compact-modal) for the built-in plug-and-play login UI - `true`|`false`

```
connectOptions: {
      compact: true // default - false
},

```

______________________________________________________________________

See [`AuthProvider` constructor parameters](https://authsdk-ref-guide.netlify.app/interfaces/constructorparams) for details.

Wallet Customization

Manage the user experience for signing blockchain transactions by configuring SDK usage. Specify the [theme, branding](../../setup/config-dApp-with-db/#settings-overview) settings of the in-app built-in Arcana wallet UI. Use [wallet visibility](../../concepts/anwallet/walletvisibility/) and decide when to display the wallet UI in the app. Configure [keyspace](../../concepts/keyspace-types/) and enable the user experience of having the same wallet address across multiple apps integrated with the Arcana Auth SDK.

You can also replace the built-in wallet UI with a [custom wallet UI](../../setup/config-custom-wallet-ui/).

Custom Login UI

You can onboard users through a [custom login UI](../../concepts/custom-login-ui/) instead of the [built-in plug-and-play](../../concepts/plug-and-play-auth/) one. See [how to use custom login UI](../../auth/onboard/vanilla/custom-ui/) and onboard users in a 'HTML/CSS/JS' app.

Compact Login Modal

When using built-in plug-and-play login UI, you can select the [**compact** modal](../../concepts/plug-and-play-auth/#compact-modal) instead of the regular one.

Login UI Options

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## See Also

**'HTML/CSS/JS'** integration example: See `sample-auth-html-css-js` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

[Try Demo App](https://demo.arcana.network)

# Get Started: Vue Apps

Integrate 'Vue' apps with Arcana Auth SDK and onboard users via [social login](../../concepts/social-login/). Enable users to sign blockchain transactions with the in-app [Arcana wallet](../../concepts/anwallet/).

## Prerequisites

- App must be [registered](../../setup/config-auth/register-app/) via the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Optionally [configure auth settings](../../setup/config-auth/) such as [social login](../../concepts/social-login/), [wallet user experience](../../concepts/anwallet/), etc.

Supported Vue Version

We support apps using Vue [v3.3](https://www.npmjs.com/package/vue) or higher.

## 1. Install

```
npm install --save @arcana/auth

```

```
yarn add @arcana/auth

```

## 2. Integrate

```
import { AuthProvider } from '@arcana/auth'

```

```
const auth = new AuthProvider(
  "xar_test_445007f942xxxxxxxxxxxxxxxxxx484cAfd2", // App client ID
)

```

```
try {
  await auth.init()
} catch (e) {
  // Handle exception case
}

```

Initialize First!

The app must use `await` until the `init()` call is complete, before invoking any of the other Arcana Auth SDK functions listed in the [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/).

### Onboard Users

```
await auth.connect();

```

Plug-and-Play Login UI

### Sign Transactions

Use `AuthProvider`, the EIP-1193 provider offered by the SDK, to call supported JSON/RPC functions and [Web3 wallet operations](../../auth/web3-ops/evm/) in the authenticated user's context.

**That's all!**

The 'Vue' app is ready to onboard users and allow them to sign blockchain transactions.

## 3. Advanced Usage

`AuthProvider` Optional Parameters

Besides Client ID input parameter, you can optionally customize these settings in the `AuthProvider` constructor:

______________________________________________________________________

**`position`:** wallet position within the app context - `left`|`right`

**`theme`:** wallet theme - `light`|`dark`

**`connectOptions`:** [compact mode](../../concepts/plug-and-play-auth/#compact-modal) for the built-in plug-and-play login UI - `true`|`false`

```
connectOptions: {
      compact: true // default - false
},

```

______________________________________________________________________

See [`AuthProvider` constructor parameters](https://authsdk-ref-guide.netlify.app/interfaces/constructorparams) for details.

Wallet Customization

Manage the user experience for signing blockchain transactions by configuring SDK usage. Specify the [theme, branding](../../setup/config-dApp-with-db/#settings-overview) settings of the in-app built-in Arcana wallet UI. Use [wallet visibility](../../concepts/anwallet/walletvisibility/) and decide when to display the wallet UI in the app. Configure [keyspace](../../concepts/keyspace-types/) and enable the user experience of having the same wallet address across multiple apps integrated with the Arcana Auth SDK.

You can also replace the built-in wallet UI with a [custom wallet UI](../../setup/config-custom-wallet-ui/).

Custom Login UI

You can onboard users through a [custom login UI](../../concepts/custom-login-ui/) instead of the [built-in plug-and-play](../../concepts/plug-and-play-auth/) one. See [how to use custom login UI](../../auth/onboard/vanilla/custom-ui/) and onboard users in a 'Vue' app.

Compact Login Modal

When using built-in plug-and-play login UI, you can select the [**compact** modal](../../concepts/plug-and-play-auth/#compact-modal) instead of the regular one.

Login UI Options

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## See Also

**'Vue'** integration example: See `'`sample-auth-vue`'` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

[Try Demo App](https://demo.arcana.network)

# Get Started: Wagmi Apps

[Wagmi](https://www.wagmi.sh/) is an open-source collection of React Hooks that enables developers to interact with the Ethereum blockchain.

Integrate ['Wagmi' apps](https://www.wagmi.sh/) with Arcana Auth SDK and onboard users via [social login](../../concepts/social-login/). Enable users to sign blockchain transactions with the in-app [Arcana wallet](../../concepts/anwallet/).

## Prerequisites

- App must be [registered](../../setup/config-auth/register-app/) via the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Optionally [configure auth settings](../../setup/config-auth/) such as [social login](../../concepts/social-login/), [wallet user experience](../../concepts/anwallet/), etc.

## 1. Install SDKs

**Wagmi 2.0**

```
npm install --save @arcana/auth-wagmi@3.0.0 @arcana/auth@1.0.12

```

**Wagmi 1.0**

```
npm install --save @arcana/auth-wagmi@2.0.0 @arcana/auth

```

**Wagmi 2.0**

```
yarn add @arcana/auth-wagmi@3.0.0 @arcana/auth@1.0.12

```

**Wagmi 1.0**

```
yarn add @arcana/auth-wagmi@2.0.0 @arcana/auth

```

## 2. Integrate

```
import { AuthProvider } from "@arcana/auth";
import { ArcanaConnector } from "@arcana/auth-wagmi"

const auth = new AuthProvider('your-client-id');

const connector = new ArcanaConnector({ auth });

```

```
//
// For apps using Wagmi versions v2.a.b and auth-wagmi v3.x.y
//

import { http, createConfig } from 'wagmi'
import { mainnet, sepolia } from 'wagmi/chains'
import { coinbaseWallet, injected, walletConnect } from 'wagmi/connectors'
import { AuthProvider } from '@arcana/auth'
import { ArcanaConnector } from "@arcana/auth-wagmi"

let auth: AuthProvider | null;

if (!auth) {
  auth = new AuthProvider(
    "Your-app-Client-ID"
  );
}

const connector = new ArcanaConnector({ auth });

export const config = createConfig({
  chains: [mainnet, sepolia],
  connectors: [
    injected(),
    coinbaseWallet({ appName: 'Create Wagmi' }),
    walletConnect({ projectId: import.meta.env.VITE_WC_PROJECT_ID }),
    connector(),
  ],
  transports: {
    [mainnet.id]: http(),
    [sepolia.id]: http(),
  },
})

declare module 'wagmi' {
  interface Register {
    config: typeof config
  }
}
...

```

```
//   
// For apps using Wagmi versions v1.x.y and auth-wagmi v2.a.b
//

import { configureChains, createConfig, WagmiConfig } from "wagmi";
import { publicProvider } from "wagmi/providers/public";
import { polygon, polygonAmoy } from "wagmi/chains";
import { useAccount, useConnect, useDisconnect, useBalance } from 'wagmi'
import "../styles/globals.css";
import { AuthProvider } from '@arcana/auth'
import { ArcanaConnector } from "@arcana/auth-wagmi"

let auth: AuthProvider | null;

if (!auth) {
  auth = new AuthProvider(
    "Your-app-Client-ID"
  );
}

const { chains, provider, webSocketProvider } = configureChains(
  [mainnet, polygon, polygonAmoy],
  [publicProvider()],
  { targetQuorum: 1 }
);

export const connector = (chains: Chain[]) => {
  return new ArcanaConnector({
    chains,
    options: {
      auth: auth,
    },
  });
};

const { chains, publicClient } = configureChains(
  [polygon, polygonAmoy],
  [publicProvider()]
);

export const wagmiEntity = createConfig({
  autoConnect: true,
  connectors: [connector(chains)],
  publicClient,
});
...

```

### Onboard Users

```
//
// For apps using Wagmi versions v2.a.b and auth-wagmi v3.x.y
//
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
import { Buffer } from 'buffer'
import React from 'react'
import ReactDOM from 'react-dom/client'
import { WagmiProvider } from 'wagmi'

import App from './App.tsx'
import { config } from './wagmi.ts'

import './index.css'

globalThis.Buffer = Buffer

const queryClient = new QueryClient()

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <WagmiProvider config={config}>
      <QueryClientProvider client={queryClient}>
        <App />
      </QueryClientProvider>
    </WagmiProvider>
  </React.StrictMode>,
)

```

```
//
// For apps using Wagmi versions v1.a.b and auth-wagmi v2.x.y
//
function App({ Component, pageProps }: AppProps) {
  return (
    <WagmiConfig config={wagmiEntity}>
      <Component {...pageProps} />
    </WagmiConfig>
  );
}

```

### Sign Transactions

Use `AuthProvider`, the EIP-1193 provider offered by the SDK, to call supported JSON/RPC functions and [Web3 wallet operations](../../auth/web3-ops/evm/) in the authenticated user's context.

**That's all!**

The 'Wagmi' app is ready to onboard users and allow them to sign blockchain transactions.

## 3. Advanced Usage

`AuthProvider` Optional Parameters

Besides Client ID input parameter, you can optionally customize these settings in the `AuthProvider` constructor:

______________________________________________________________________

**`position`:** wallet position within the app context - `left`|`right`

**`theme`:** wallet theme - `light`|`dark`

**`connectOptions`:** [compact mode](../../concepts/plug-and-play-auth/#compact-modal) for the built-in plug-and-play login UI - `true`|`false`

```
connectOptions: {
      compact: true // default - false
},

```

______________________________________________________________________

See [`AuthProvider` constructor parameters](https://authsdk-ref-guide.netlify.app/interfaces/constructorparams) for details.

Wallet Customization

Manage the user experience for signing blockchain transactions by configuring SDK usage. Specify the [theme, branding](../../setup/config-dApp-with-db/#settings-overview) settings of the in-app built-in Arcana wallet UI. Use [wallet visibility](../../concepts/anwallet/walletvisibility/) and decide when to display the wallet UI in the app. Configure [keyspace](../../concepts/keyspace-types/) and enable the user experience of having the same wallet address across multiple apps integrated with the Arcana Auth SDK.

You can also replace the built-in wallet UI with a [custom wallet UI](../../setup/config-custom-wallet-ui/).

Custom Login UI

You can onboard users through a [custom login UI](../../concepts/custom-login-ui/) instead of the [built-in plug-and-play](../../concepts/plug-and-play-auth/) one. See [how to use custom login UI](../../auth/onboard/wagmi/wagmi-custom-ui/) and onboard users in a 'Wagmi' app.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## See Also

**'Wagmi'** integration example: See `sample-auth-wagmi-2`, `sample-auth-wagmi-viem`, `sample-auth-wagmi` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

Arcana Auth Wagmi SDK Quick Links

- [Auth Wagmi SDK Reference](https://deploy-preview-28--wagmi-authsdk-ref-guide.netlify.app/)
- [Release notes](../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth-wagmi/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth-wagmi)

[Try Demo App](https://demo.arcana.network)

# Get Started: WalletConnect Apps

[WalletConnect](https://walletconnect.com/) is a Web3 framework to connect an app with various wallet options.

Integrate 'WalletConnect' apps with Arcana Auth SDK and onboard users via [social login](../../concepts/social-login/). Enable users to sign blockchain transactions with the in-app [Arcana wallet](../../concepts/anwallet/).

## Prerequisites

- App must be [registered](../../setup/config-auth/register-app/) via the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Optionally [configure auth settings](../../setup/config-auth/) such as [social login](../../concepts/social-login/), [wallet user experience](../../concepts/anwallet/), etc.

Supported WalletConnect, Wagmi Versions

- [WalletConnect 1.7.8](https://walletconnect.com/)
- [Wagmi v2.0](https://wagmi.sh/) or higher

## 1. Install

**Wagmi 2.0**

```
npm install --save @arcana/auth-wagmi@3.0.0 @arcana/auth@1.0.12

```

**Wagmi 1.0**

```
npm install --save @arcana/auth-wagmi@2.0.0 @arcana/auth

```

**Wagmi 2.0**

```
yarn add @arcana/auth-wagmi@3.0.0 @arcana/auth@1.0.12

```

**Wagmi 1.0**

```
yarn add @arcana/auth-wagmi@2.0.0 @arcana/auth

```

## 2. Integrate

```
// Set up Arcana Auth 

import { AuthProvider } from "@arcana/auth";

let auth: AuthProvider | null;

const getAuthProvider = () => {
  if (!auth) {
    auth = new AuthProvider(
      "xar_test_b2dde12aad64eb35d72b2c80926338e178b1fa3f"
    );
  }
  return auth;
};

export { getAuthProvider };

```

```
//This example uses Arcana Wallet connector and Coinbase Wallet

import { http, createConfig } from 'wagmi'
import { mainnet, sepolia } from 'wagmi/chains'
import { coinbaseWallet, injected, walletConnect } from 'wagmi/connectors'
import { ArcanaConnector } from "@arcana/auth-wagmi";
import { getAuthProvider } from './arcanaConnector';

export const config = createConfig({
  chains: [mainnet, sepolia],
  connectors: [
    injected(),
    coinbaseWallet({ appName: 'Create Wagmi' }),
    walletConnect({
      projectId: '3fcc6bba6f1de962d911bb5b5c3dba68', //WalletConnect ProjectID
    }),
    ArcanaConnector(
      {
        auth: getAuthProvider(),
      }
    )
  ],
  transports: {
    [mainnet.id]: http(),
    [sepolia.id]: http(),
  },
})

declare module 'wagmi' {
  interface Register {
    config: typeof config
  }
}

```

### Onboard Users

```
//Use "`auth-wagmi` version > v2.0.0"
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
import { Buffer } from 'buffer'
import React from 'react'
import ReactDOM from 'react-dom/client'
import { WagmiProvider } from 'wagmi'
import App from './App.tsx'
import { config } from './wagmi.ts'

import './index.css'

globalThis.Buffer = Buffer

const queryClient = new QueryClient()

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <WagmiProvider config={config}>
      <QueryClientProvider client={queryClient}>
        <App />
      </QueryClientProvider>
    </WagmiProvider>
  </React.StrictMode>,
)

```

### Sign Transactions

Use `AuthProvider`, the EIP-1193 provider offered by the SDK, to call supported JSON/RPC functions and [Web3 wallet operations](../../auth/web3-ops/evm/) in the authenticated user's context.

**That's all!**

The 'WalletConnect' app is ready to onboard users and allow them to sign blockchain transactions.

## 3. Advanced Usage

`AuthProvider` Optional Parameters

Besides Client ID input parameter, you can optionally customize these settings in the `AuthProvider` constructor:

______________________________________________________________________

**`position`:** wallet position within the app context - `left`|`right`

**`theme`:** wallet theme - `light`|`dark`

**`connectOptions`:** [compact mode](../../concepts/plug-and-play-auth/#compact-modal) for the built-in plug-and-play login UI - `true`|`false`

```
connectOptions: {
      compact: true // default - false
},

```

______________________________________________________________________

See [`AuthProvider` constructor parameters](https://authsdk-ref-guide.netlify.app/interfaces/constructorparams) for details.

Custom Login UI

You can onboard users through a [custom login UI](../../concepts/custom-login-ui/) instead of the [built-in plug-and-play](../../concepts/plug-and-play-auth/) one. See [how to use custom login UI](../../auth/onboard/walletconnect/walletconnect-custom-ui/) and onboard users in a 'WalletConnect' app.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## See Also

**'WalletConnect'** integration example: See `sample-auth-walletconnect` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

Arcana Auth Wagmi SDK Quick Links

- [Auth Wagmi SDK Reference](https://deploy-preview-28--wagmi-authsdk-ref-guide.netlify.app/)
- [Release notes](../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth-wagmi/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth-wagmi)

[Try Demo App](https://demo.arcana.network)

# Get Started: Web3-React Apps

[Web3-React](https://www.npmjs.com/package/web3-react) is a React framework for Ethereum that connects Web3 apps to multiple wallets and chains.

Integrate Web3 apps with Arcana Auth SDK and onboard users via [social login](../../concepts/social-login/). Enable users to sign blockchain transactions with the in-app [Arcana wallet](../../concepts/anwallet/).

## Prerequisites

- App must be [registered](../../setup/config-auth/register-app/) via the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- Optionally [configure auth settings](../../setup/config-auth/) such as [social login](../../concepts/social-login/), [wallet user experience](../../concepts/anwallet/), etc.

Web3-React Version

We support apps using Web3-react [v8.2.0](https://www.npmjs.com/package/@web3-react/core/v/8.2.0) or higher.

## 1. Install SDKs

```
npm install --save @arcana/auth-web3-react @arcana/auth

```

```
yarn add @arcana/auth-web3-react @arcana/auth

```

## 2. Integrate

```
import { initializeConnector } from "@web3-react/core";
import { ArcanaConnector } from "@arcana/auth-web3-react";
import { AuthProvider } from "@arcana/auth";
import { URLS } from "../chains";

const auth = new AuthProvider(
  "xar_test_b2ddexxxxxxxxxxxxxxxxxxxx8b1fa3f"  //App client ID via Dashboard
);
export const [arcanaConnect, hooks] = initializeConnector<ArcanaConnector>(
  (actions) =>
    new ArcanaConnector(auth, {
      actions,
    })
);
...

```

### Onboard Users

```
import { useEffect, useState } from "react";

import { MAINNET_CHAINS } from "../../chains";
import { hooks, arcanaConnect } from "../../connectors/arcanaWallet";
import { Card } from "../Card";

const CHAIN_IDS = Object.keys(MAINNET_CHAINS).map(Number);

const {
  useChainId,
  useAccounts,
  useIsActivating,
  useIsActive,
  useProvider,
  useENSNames,
} = hooks;

export default function ArcanaConnectCard() {
  const chainId = useChainId();
  const accounts = useAccounts();
  const isActivating = useIsActivating();

  const isActive = useIsActive();

  const provider = useProvider();
  const ENSNames = useENSNames(provider);

  const [error, setError] = useState(undefined);

  // attempt to connect eagerly on mount
  useEffect(() => {
    arcanaConnect.connectEagerly().catch((error) => {
      console.debug("Failed to connect eagerly to arcanaConnect", error);
    });
  }, []);

  return (
    <Card
      connector={arcanaConnect}
      activeChainId={chainId}
      chainIds={CHAIN_IDS}
      isActivating={isActivating}
      isActive={isActive}
      error={error}
      setError={setError}
      accounts={accounts}
      provider={provider}
      ENSNames={ENSNames}
    />
  );
}

```

### Sign Transactions

Use `AuthProvider`, the EIP-1193 provider offered by the SDK, to call supported JSON/RPC functions and [Web3 wallet operations](../../auth/web3-ops/evm/) in the authenticated user's context.

**That's all!**

The 'Web3-React' app is ready to onboard users and allow them to sign blockchain transactions.

## 3. Advanced Usage

`AuthProvider` Optional Parameters

Besides Client ID input parameter, you can optionally customize these settings in the `AuthProvider` constructor:

______________________________________________________________________

**`position`:** wallet position within the app context - `left`|`right`

**`theme`:** wallet theme - `light`|`dark`

**`connectOptions`:** [compact mode](../../concepts/plug-and-play-auth/#compact-modal) for the built-in plug-and-play login UI - `true`|`false`

```
connectOptions: {
      compact: true // default - false
},

```

______________________________________________________________________

See [`AuthProvider` constructor parameters](https://authsdk-ref-guide.netlify.app/interfaces/constructorparams) for details.

Custom Login UI

You can onboard users through a [custom login UI](../../concepts/custom-login-ui/) instead of the [built-in plug-and-play](../../concepts/plug-and-play-auth/) one. See [how to use custom login UI](../../auth/onboard/web3-react/web3-react-custom-ui/) and onboard users in a 'Web3-React' app.

Arcana JWT Token

Upon successful authentication, Arcana Auth SDK returns a unique JWT token to the app called the [Arcana JWT Token](../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `loginToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../concepts/jwt-token-validation/) and subsequently generate another token for app use if required.

In the future, the Arcana JWT Token will be deprecated. Use `userDIDToken` to verify user.

Upon successful authentication, Arcana Auth SDK returns a unique DID token to the app called the [Arcana DID Token](../../concepts/an-jwt-token/). App developers can access this token via `getUser()` method and refer to the `userDIDToken` field of the [`UserInfo`](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) object.

Developers can use this token to [verify the user](../../concepts/an-did-token/#verify-did-token) and subsequently generate another token for app use.

## See Also

**'Web3-React'** integration example: See `sample-auth-web3-react` submodule in [SDK Example GitHub repository.](https://github.com/arcana-network/auth-examples)

Arcana Auth SDK Quick Links

- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)
- [Release notes](../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth)

Arcana Auth Web3 React SDK Quick Links

- [Release notes](../../relnotes/latest-auth-release-note/)
- [Changelog](https://github.com/arcana-network/auth-web3-react/releases)
- [Download SDK](https://www.npmjs.com/package/@arcana/auth-web3-react)

**Product Update Date: 22 May, 2025**

**Version: 1.0.12**

**Download and Install [Auth SDK](../../auth/sdk-installation/)**

The product consists of:

1. Arcana Auth SDK

   - [`auth`](https://www.npmjs.com/package/@arcana/auth) Version: **1.0.12** Release Date: **02 Jul 2024 13:57:09 UTC**

   - [`auth-react`](https://www.npmjs.com/package/@arcana/auth-react)

   - [`auth-wagmi`](https://www.npmjs.com/package/@arcana/auth-wagmi)

   - [`auth-web3-react`](https://www.npmjs.com/package/@arcana/auth-web3-react)

   - [`arcana_auth_flutter`](https://pub.dev/packages/arcana_auth_flutter)

   - [`auth-react-native`](https://www.npmjs.com/package/@arcana/auth-react-native)

   - [`arcana-auth-sdk`](https://npm-registry.arcana.network/)

1. [Arcana Developer Dashboard](https://dashboard.arcana.network/)

1. [Arcana wallet UI](https://github.com/arcana-network/wallet-ui)

1. [Arcana Auth-Core SDK](https://www.npmjs.com/package/@arcana/auth-core)

## What is New?

______________________________________________________________________

- **New Onboarding Options:** Apps integrating with the Arcana Auth SDK can now allow users to onboard via [Passkey](../../concepts/authtype/auth-passkeys/) or via new [supported social login providers](../../web3-stack/auth/): Telegram and Apple. See how to [onboard users via passkeys](../../auth/passkeys-auth/) for details. Developers must first [set up Passkeys](../../setup/config-auth-passkeys/), and configure Telegram, Apple Settings through the dashboard before adding code in the app to onboard the user via these mechanisms. [Learn more...](../../setup/)
- **Additional branding Customizations:** Apps can now customize the wallet UI with more theme options. You can also rebrand the OTP email for passwordless onboarding. [Learn more...](../../setup/config-wallet/config-wallet-branding/)
- Bug fixes and performance enhancements related to user login and polyfilling.

## What has changed?

______________________________________________________________________

To migrate to the latest release, re-install the SDK. This release does not require you to pay any **usage fee**.

[Changelog](https://github.com/arcana-network/auth/releases/latest)

## Get Started

______________________________________________________________________

- [Arcana Auth SDK Quick Start Guides](../../quick-start/wagmi-quick-start/)

- [Unity Auth Integration Example](https://github.com/arcana-network/auth-unity/tree/main/UnitySampleProject)

- [Integration examples](https://github.com/arcana-network/auth-examples)

## Previous Releases

Are you using an older version of the Arcana Auth SDK?

Refer to the [release notes archive](../archives/) and [Migration Guides](../../migration/archives/). Upgrade to the latest version.

## Questions?

______________________________________________________________________

Refer to the [Arcana Auth FAQ](../../faq/faq-gen/), [Troubleshooting Guide](../../troubleshooting/), and other developer resources.

Can't find what you are looking for? Contact [Arcana Support](../../support/).

**Release Date: 15 Jan 2025 12:23:07 UTC**

**Version: v0.0.3**

**Download and Install [CA SDK](../../ca/ca-sdk-installation/)**

## What is New?

This major SDK release supports chain abstracted transaction for the following chains:

- BSC chain, BNB token
- Fuel chain

Web3 apps integrating with the SDK do not need any integration code changes if they are using BSC chain for chain abstracted transactions.

For Fuel, the integration code will need some updates.

Refer to the code below for details on how to enable Fuel in a Web3 app and utilize the [Fuel connector](https://github.com/FuelLabs/fuel-connectors/wiki) for chain abstracted transactions.

```
import { CA } from '@arcana/ca-sdk';
const provider = window.ethereum;
const ca = new CA();
//Set the EVM provider  
ca.setEVMProvider(provider);

//Initialize ca
await ca.init();

//connector refers to https://github.com/FuelLabs/fuel-connectors/wiki
await ca.setFuelConnector(connector);
const { provider, connector: CAconnector } = await ca.getFuelWithCA();

const address = CAconnector.currentAccount()!;
const account = new Account(address, provider, CAconnector);

//chain abstraction enabled transfer
await account.transfer(
    "0xE78655DfAd552fc3658c01bfb427b9EAb0c628F54e60b54fDA16c95aaAdE797A",
    1000000,
    "0xa0265fb5c32f6e8db3197af3c7eb05c48ae373605b8165b6f4a51c5b0ba4812e",
);

```

Check out the complete list of supported [chains and tokens](../../web3-stack/ca_stack/).

See [Arcana CA SDK Reference](https://ca-sdk-ref-guide.netlify.app/) for details.

[Changelog](https://github.com/arcana-network/ca-sdk/releases/latest)

## Get Started

- [Arcana CA SDK Quick Start Guide](../../quick-start/ca-quick-start/)
- [Integration example](https://github.com/arcana-network/ca-sdk/tree/main/example)
- [Arcana CA SDK Reference](https://ca-sdk-ref-guide.netlify.app/)

## Previous Releases

Are you using an older version of the Arcana CA SDK?

Refer to the [release notes archive](../archives/ca-index/). Upgrade to the latest version.

## Questions?

Can't find what you are looking for? Contact [Arcana Support](../../support/).

**Release Date: 10 Feb 2025 12:23:07 UTC**

**Version: v0.0.4**

**Download and Install [CA Wagmi SDK](../../ca/ca-sdk-installation/)**

## What is New?

______________________________________________________________________

This is a major release of the Arcana CA Wagmi SDK with usage changes.

- **Installation change:** In addition to the `ca-wagmi` SDK, also install `ca-sdk`.
- **`CAProvider` change:** The `CAProvider` requires `client` and `network` (optional) params. Create a new `CA` object and specify it as the `client` parameter when creating the `CAProvider` component.
- **New hook:** Use [`useGetMyIntent(page))`](https://ca-wagmi-sdk-ref-guide.netlify.app/functions/usegetmyintents) to get a list of intents created in response to user's requests for funds.

Check out the complete list of supported [chains and tokens](../../web3-stack/ca_stack/).

See [Arcana CA Wagmi SDK Reference](https://ca-wagmi-sdk-ref-guide.netlify.app/) for details.

[Changelog](https://github.com/arcana-network/ca-wagmi/releases/latest)

## Get Started

______________________________________________________________________

- [Arcana CA Wagmi SDK Quick Start Guide](../../quick-start/ca-wagmi-quick-start/)
- [Integration example](https://github.com/arcana-network/ca-wagmi-example)
- [Arcana CA Wagmi SDK Reference](https://ca-wagmi-sdk-ref-guide.netlify.app/)

## Previous Releases

Are you using an older version of the Arcana CA Wagmi SDK?

Refer to the [release notes archive](../archives/ca-index/). Upgrade to the latest version.

## Questions?

______________________________________________________________________

Can't find what you are looking for? Contact [Arcana Support](../../support/).

# Release Notes Arcana Auth (Testnet)

**Version: v0.3.0**

**Release Date: December 2022**

This release of the Arcana Auth SDK product consists of the following components:

- [Arcana Auth SDK v0.0.3](https://www.npmjs.com/package/@arcana/auth/v/0.3.0)
- Arcana Developer Dashboard
- Arcana wallet UI

## What's New?

______________________________________________________________________

### NFT Support

A new wallet tab is now available to manage and view details related to the NFTs owned by the wallet address.

- View any NFT of the type image, audio, or video
- Transfer NFTs from within the wallet
- Add NFTs to the wallet by searching from a list of popular collections on Ethereum Mainnet

Refer to the [documentation on managing NFT Assets](../../user-guides/wallet-ui/use-wallet-to-manage-nfts/).

View NFT Assets

### Combined notification UI

This release has a new UI for blockchain transaction notifications. This combined notification UI in the Arcana wallet lists the following type of blockchain transaction activity:

- Send transactions for native as well as custom ERC20 tokens
- Send transactions for NFTs
- Smart contract deployment
- Smart contract interaction

See the [notifications tab](../../user-guides/wallet-ui/use-wallet-ui/) for details.

Activity Tab

#### Add Tokens Programmatically

Arcana wallet now supports the programmatic addition of custom tokens by application developers via the `eth_watchAsset` JSON RPC function.

## Changes

______________________________________________________________________

- The Arcana Storage SDK is no longer supported. If you were using the Storage SDK in your application, contact the Arcana support team.
- The activity tab was earlier located next to the assets tab in the Arcana wallet UI. All the information displayed in the activity tab earlier can now be accessed via the newly added notifications tab.

## Bug Fixes

______________________________________________________________________

- The logout issue related to the passwordless authentication has been fixed

Use Latest Release

If you were using the Arcana Auth SDK v0.2.2 release or earlier, we highly recommend that you refer to the [Arcana Auth SDK 0.3.0 Migration Guide](../../migration/beta-auth-v0.3.0-migration/).

______________________________________________________________________

## Get Started

______________________________________________________________________

*Ready to dive in?*

See Arcana Auth SDK Quick Start Guides for details.

Check out the sample dApp integration example for apps using React, Next.js, and [Vue](https://github.com/arcana-network/basic-storage-wallet-integration) frameworks in [auth-examples](https://github.com/arcana-network/auth-examples) repository.

______________________________________________________________________

## Questions?

______________________________________________________________________

Refer to the [Arcana Auth FAQ](../../faq/faq-gen/), [Troubleshooting Guide](../../troubleshooting/), and other developer resources, or contact [Arcana Support](../../support/).

# CA SDK Release Note

**Release Date: Jan 3, 2025**

Version: **v0.0.2**

## What is New?

______________________________________________________________________

**Unified Balance:** Integrate Web3 apps with the CA-SDK to enable unified balance for users. Unified balance lets users view combined balance in the wallet and beat liquidity fragmentation via Arcana's chain abstraction. Users can spend unified balance on any chain. [Learn more...](../../concepts/ca/unified-balance/)

See supported [chains and tokens](../../web3-stack/ca_stack/).

[Changelog](https://github.com/arcana-network/ca-sdk/releases/latest)

## Get Started

______________________________________________________________________

- [Arcana CA SDK Quick Start Guides](../../quick-start/ca-quick-start/)
- [Integration example](https://github.com/arcana-network/ca-sdk/tree/main/example)
- [Arcana CA SDK Reference](https://ca-sdk-ref-guide.netlify.app/)

## Previous Releases

Are you using an older version of the Arcana CA SDK?

Refer to the [release notes archive](../archives/ca-index/). Upgrade to the latest version.

## Questions?

______________________________________________________________________

Can't find what you are looking for? Contact [Arcana Support](../../support/).

# CA SDK Release Note

**Release Date: Jan 15, 2025**

Version: **v0.0.3**

## What is New?

______________________________________________________________________

Use **Unified Balance:** for chain abstracted transactions across these newly supported chains:

- Linea
- Scroll

Check out the complete list of supported [chains and tokens](../../web3-stack/ca_stack/).

[Changelog](https://github.com/arcana-network/ca-sdk/releases/latest)

## Get Started

______________________________________________________________________

- [Arcana CA SDK Quick Start Guides](../../quick-start/ca-quick-start/)
- [Integration example](https://github.com/arcana-network/ca-sdk/tree/main/example)
- [Arcana CA SDK Reference](https://ca-sdk-ref-guide.netlify.app/)

## Previous Releases

Are you using an older version of the Arcana CA SDK?

Refer to the [release notes archive](../archives/ca-index/). Upgrade to the latest version.

## Questions?

______________________________________________________________________

Can't find what you are looking for? Contact [Arcana Support](../../support/).

# CA SDK Release Note

**Release Date: 17 Feb, 2025**

**Version: v0.0.5**

## What is New?

______________________________________________________________________

This is a minor update release with the following changes:

1. Earlier, to instantiate a `CA` object, you had to pass in the `provider`. Now, there is no input parameter to the constructor.
1. A new `setEVMProvider` method is added to the `CA` class. This method can be used to set the EVM provider later.

```
let provider: window.ethereum;
const ca = new CA(provider);

```

```
let provider: window.ethereum;
const ca = new CA();
ca.setEVMProvider(provider);

```

Check out the complete list of supported [chains and tokens](../../web3-stack/ca_stack/).

[Changelog](https://github.com/arcana-network/ca-sdk/releases/latest)

## Get Started

______________________________________________________________________

- [Arcana CA SDK Quick Start Guide](../../quick-start/ca-quick-start/)
- [Integration example](https://github.com/arcana-network/ca-sdk/tree/main/example)
- [Arcana CA SDK Reference](https://ca-sdk-ref-guide.netlify.app/)

## Previous Releases

Are you using an older version of the Arcana CA SDK?

Refer to the [release notes archive](../archives/ca-index/). Upgrade to the latest version.

## Questions?

______________________________________________________________________

Can't find what you are looking for? Contact [Arcana Support](../../support/).

# CA SDK Release Note

**Release Date: 14 May, 2025**

**Version: v0.0.7**

## What is New?

______________________________________________________________________

This is a minor update release with support for the Avalanche chain and a few bug fixes, improvements.

```
let provider = window.ethereum;

const ca = new CA();
ca.setEVMProvider(provider);

```

Check out the complete list of supported [chains and tokens](../../web3-stack/ca_stack/).

[Changelog](https://github.com/arcana-network/ca-sdk/releases/latest)

## Get Started

______________________________________________________________________

- [Arcana CA SDK Quick Start Guide](../../quick-start/ca-quick-start/)
- [Integration example](https://github.com/arcana-network/ca-sdk/tree/main/example)
- [Arcana CA SDK Reference](https://ca-sdk-ref-guide.netlify.app/)

## Previous Releases

Are you using an older version of the Arcana CA SDK?

Refer to the [release notes archive](../archives/ca-index/). Upgrade to the latest version.

## Questions?

______________________________________________________________________

Can't find what you are looking for? Contact [Arcana Support](../../support/).

# CA SDK Release Note

**Release Date: 30 Jun 2025 10:16:25 UTC**

**Version: v1.0.3**

**Download and Install [CA SDK](../../ca/ca-sdk-installation/)**

## What is New?

This major SDK release contains refactored, optimized code and several usage improvements. It requires some changes to the integration code that uses the following SDK methods.

- [`transfer`](./#transfer)
- [`bridge`](./#bridge)
- [`request`](./#request)

### `transfer`

Use `transfer` to issue a chain abstracted blockchain transaction. Get the handler to simulate the transfer execution for intent details.

```
const handler = await ca.transfer({
to: "0x...",
amount: 5,
chainID: 10,
token: "eth",
});

// Execute the transfer
const hash = await handler.exec();

// Simulate the transfer, returns intent data and token info
const response = await handler.simulate();

```

```
await ca.transfer().to("0x...").amount(5).chain(10).token("eth").exec()

```

### `bridge`

Use `bridge` to issue a chain abstracted blockchain transaction. Get the handler to simulate the bridge execution for intent details.

```
const handler = await ca.bridge({
token: "usdt",
amount: 10,
chainID: 137,
});

// Execute the bridge
await handler.exec();

// Simulate the bridge, returns intent data and token info
const response = await handler.simulate();

```

```
await ca.bridge().token("usdt").amount(10).chain(137).exec();

```

### `getEVMProviderWithCA`

The new [`getEVMProviderWithCA`](https://ca-sdk-ref-guide.netlify.app/#quick-start) method retrieves the chain abstraction enabled EIP-1193 provider. Use this provider to issue `request`\] with `eth_sendTransaction` for chain abstracted transactions.

```
let provider = window.ethereum;

const ca = new CA();
ca.setEVMProvider(provider);
const providerWithCA = ca.getEVMProviderWithCA();  // Get EIP-1193 provider first

```

### `request`

Get a chain abstraction enabled EIP-1193 provider with `getEVMProviderWithCA`. Use this provider to issue chain abstracted `request` with `eth_sendTransaction`.

```
let provider = window.ethereum;

const ca = new CA();
ca.setEVMProvider(provider);
const providerWithCA = ca.getEVMProviderWithCA();  // Get EIP-1193 provider first

await providerWithCA.request({   // Then use EIP-1193 provider to issue request
    method: "eth_sendTransaction",
    params: [{
        to: "0xEa46Fb4b4Dc7755BA29D09Ef2a57C67bab383A2f", 
        from: "0x7f521A827Ce5e93f0C6D773525c0282a21466f8d",
        value: "0x001"
    }],
})

```

```
let provider = window.ethereum;

const ca = new CA();
ca.setEVMProvider(provider);

await ca.request({  //This has changed, there is no request method implemented for CA class
    method: "eth_sendTransaction",
    params: [{
        to: "0xEa46Fb4b4Dc7755BA29D09Ef2a57C67bab383A2f", 
        from: "0x7f521A827Ce5e93f0C6D773525c0282a21466f8d",
        value: "0x001"
    }],
})

```

Check out the complete list of supported [chains and tokens](../../web3-stack/ca_stack/).

See [Arcana CA SDK Reference](https://ca-sdk-ref-guide.netlify.app/) for details.

[Changelog](https://github.com/arcana-network/ca-sdk/releases/latest)

## Get Started

- [Arcana CA SDK Quick Start Guide](../../quick-start/ca-quick-start/)
- [Integration example](https://github.com/arcana-network/ca-sdk/tree/main/example)
- [Arcana CA SDK Reference](https://ca-sdk-ref-guide.netlify.app/)

## Previous Releases

Are you using an older version of the Arcana CA SDK?

Refer to the [release notes archive](../archives/ca-index/). Upgrade to the latest version.

## Questions?

Can't find what you are looking for? Contact [Arcana Support](../../support/).

# CA Wagmi SDK Release Note

**Release Date: Feb 17, 2025**

Version: **v0.0.5**

## What is New?

______________________________________________________________________

This is the first release of the Arcana CA Wagmi SDK.

Wagmi-based Web3 apps can now use Arcana CA Wagmi SDK to:

- Let users send transactions across any supported chain without switching networks
- Access a [unified balance](../../concepts/ca/unified-balance/) view through the [`useBalance`](https://ca-wagmi-sdk-ref-guide.netlify.app/#md:usebalance) hook
- Enable cross-chain functionality transparently with zero code changes within Web3 apps using the standard [`useSendTransaction`](https://wagmi.sh/react/api/hooks/useSendTransaction) and [`useWriteContract`](https://wagmi.sh/react/api/hooks/useWriteContract) hooks

Check out the complete list of supported [chains and tokens](../../web3-stack/ca_stack/).

[Changelog](https://github.com/arcana-network/ca-wagmi/releases/latest)

## Get Started

______________________________________________________________________

- [Arcana CA Wagmi SDK Quick Start Guide](../../quick-start/ca-wagmi-quick-start/)
- [Integration example](https://github.com/arcana-network/ca-wagmi-example)
- [Arcana CA Wagmi SDK Reference](https://ca-wagmi-sdk-ref-guide.netlify.app/)

## Previous Releases

This is the first release of the Arcana CA Wagmi SDK.

## Questions?

______________________________________________________________________

Can't find what you are looking for? Contact [Arcana Support](../../support/).

# CA Wagmi SDK Release Note

**Release Date: May 12, 2025**

Version: **v0.0.6**

### What is New?

______________________________________________________________________

This release of Arcana CA Wagmi SDK includes enhancements, and bug fix. A few APIs have changed.

- Supports unified balance and chain abstraction through [`sendTransactionAsync`](https://wagmi.sh/react/api/hooks/useSendTransaction#mutate-async) and [`writeContractAsync`](https://wagmi.sh/react/api/hooks/useWriteContract#mutate-async) replacement functions.
- The `useBalance()` function is replaced by `useBalanceModal()`. See [usage details](https://docs.arcana.network/quick-start/ca-wagmi-quick-start/#usebalancemodal).
- New hook added: `useBalance({ symbol: string })` to get the specified token balance across the supported chains.
- Added `transfer` and `bridge` functions to the hook `useCAFn()` for enabling chain abstracted functionality.
- Added checks to disable chain abstraction and allow regular behavior for wallet transactions if the user denies the sign in with Arcana at the start of the transaction.
- Other changes: UI enhancements, improved documentation.

Check out the complete list of supported [chains and tokens](../../web3-stack/ca_stack/).

[Changelog](https://github.com/arcana-network/ca-wagmi/releases/latest)

## Get Started

______________________________________________________________________

- [Arcana CA Wagmi SDK Quick Start Guide](../../quick-start/ca-wagmi-quick-start/)
- [Integration example](https://github.com/arcana-network/ca-wagmi-example)
- [Arcana CA Wagmi SDK Reference](https://ca-wagmi-sdk-ref-guide.netlify.app/)

## Previous Releases

Are you using an older version of the Arcana CA Wagmi SDK?

Refer to the [release notes archive](../archives/ca-index/). Upgrade to the latest version.

## Questions?

______________________________________________________________________

Can't find what you are looking for? Contact [Arcana Support](../../support/).

# Arcana Auth: Release Notes

**Release Date: May 27, 2024**

Version: **1.0.12**

- Arcana Auth SDK

  - Web Apps
    - [`auth`](https://www.npmjs.com/package/@arcana/auth)
    - [`auth-react`](https://www.npmjs.com/package/@arcana/auth-react)
    - [`auth-wagmi`](https://www.npmjs.com/package/@arcana/auth-wagmi)
    - [`auth-web3-react`](https://www.npmjs.com/package/@arcana/auth-web3-react)
  - Mobile Apps
    - [`arcana_auth_flutter`](https://pub.dev/packages/arcana_auth_flutter)
    - [`auth-react-native`](https://www.npmjs.com/package/@arcana/auth-react-native)
  - Gaming Apps
    - [`arcana-auth-sdk`](https://npm-registry.arcana.network/)

- [Arcana Developer Dashboard](https://dashboard.arcana.network/)

- [Arcana wallet UI](https://github.com/arcana-network/wallet-ui)

In addition to the Arcana Auth SDK, now we also provide Arcana Auth-Core SDK for greater flexibility in using authentication features and custom wallet UI support.

- [Arcana Auth-Core SDK](https://www.npmjs.com/package/@arcana/auth-core)

## What is New?

______________________________________________________________________

- No change to the Arcana Auth SDK. See [previous Release notes](../rn-main-auth-v1.0.10/) for details.
- New updated [`auth-wagmi`](https://www.npmjs.com/package/@arcana/auth-wagmi) now supports the latest Wagmi 2.x.y SDK.
- New **off-ramping** feature in the Arcana wallet allows users to sell crypto or convert blockchain assets to Fiat via selected supported off-ramping providers. See [how to buy/sell crypto through Fiat](../../user-guides/wallet-ui/use-wallet-ui/#buysell-crypto) for details.

## What has changed?

______________________________________________________________________

This release has **no usage changes** in the Arcana Auth SDK.

To use the latest Arcana wallet off-ramp feature, Web3 app users can refresh the wallet or re-login to the app.

Apps using the Wagmi SDK need to migrate to the latest Arcana Auth Wagmi SDK release. Re-install and upgrade the [`auth-wagmi`](https://www.npmjs.com/package/@arcana/auth-wagmi) package and update the integration code to use the new config settings for the `WagmiProvider`. See [Wagmi Quick Start Guide](../../quick-start/wagmi-quick-start/) for details.

## Get Started

______________________________________________________________________

*Ready to dive in?*

Check out:

- [Arcana Auth Wagmi SDK Quick Start Guides](../../quick-start/wagmi-quick-start/)

- [Unity Auth Integration Example](https://github.com/arcana-network/auth-unity/tree/main/UnitySampleProject)

- [`sample-auth-wagmi-2` integration example](https://github.com/arcana-network/auth-examples)

- [Other integration examples](https://github.com/arcana-network/auth-examples)

## Previous Releases

Are you using an older version of the Arcana Auth SDK?

Refer to the [release notes archive](../archives/) and [Migration Guides](../../migration/archives/). Upgrade to the latest version.

## Questions?

______________________________________________________________________

See [Arcana Auth FAQ](../../faq/faq-gen/), [Troubleshooting Guide](../../troubleshooting/), and other developer resources, or contact [Arcana Support](../../support/).

# Arcana Auth: Release Notes

**Release Date: Apr 19, 2023**

(*Mainnet Update on May 3, 2023*)

The latest release of the Arcana Auth SDK consists of the following components:

- [Arcana Auth SDK v1.0.3](https://www.npmjs.com/package/@arcana/auth/v/1.0.3)
- [Arcana Developer Dashboard](https://dashboard.arcana.network/)
- Arcana wallet UI

No Arcana Auth SDK upgrade required

Note, in the latest Arcana Auth SDK release, there is **no change** in the Arcana Auth SDK package. Developers can continue to use Arcana Auth SDK v1.0.3 release.

## New Product Features

______________________________________________________________________

### Multi-Factor Authentication (MFA)

The latest Arcana Auth SDK provides enhanced wallet security for more robust user authentication through multi-factor authentication. Web3 app users can choose to enable it when they log into an app. Once enabled, it cannot be turned off. For details, see [how Arcana MFA](../../concepts/mfa/) works in apps that integrate with the Arcana Auth SDK.

See the [MFA user's guide](../../user-guides/mfa/mfa-ug/) to learn more about how the app users can enable MFA for their app accounts and use the enhanced wallet security.

### Billing & Invoices

Arcana Auth SDK now supports [billing and invoicing features](../../concepts/billing/) for Arcana Mainnet usage. Developers can use Arcana Developer Dashboard to enter billing information and payment methods and to see any pending invoices or past payment details.

## Product Enhancements

______________________________________________________________________

### Better Login Performance

Users can now log in to Web3 apps even quicker than before with the recent speed boost in the latest Arcana Auth SDK release.

### Wallet Balance Precision

The Arcana wallet UI now displays the wallet balance numeric value with the precision of 4 decimal places instead of 2 earlier.

## Bug Fixes

______________________________________________________________________

- The specified RPC URL for the wallet blockchain was not getting used when `AuthProvider` was instantiated. It is fixed and the specified `chainConfig` values are used instead of the default ones.

  ```
  const auth = new AuthProvider(
    "xar_dev_2cbfe3fc82840d8f4191935e1811b0c2e33619f8",
    {
      network: "dev",
      chainConfig: {
        chainId: CHAIN.ETHEREUM_GOERLI,
        rpcUrl: "https://goerli.blockpi.network/v1/rpc/public "
      },
      alwaysVisible: true,
      position: "right",
      theme: "dark"
    }
  );

  ```

- While deleting an app from the Arcana Developer Dashboard, the developer can now see the app name in the text before confirming the delete operation.

- An issue with creating the Arcana Mainnet configuration profile by copying the Testnet profile due to logo copy failure has been fixed.

- An issue with updating and saving a new blockchain configuration using the wallet UI has been fixed.

- Deleted apps continued to show up in the 'Manage Apps' screen of the Arcana Developer Dashboard. This issue is now fixed.

## Get Started

______________________________________________________________________

*Ready to dive in?*

See Arcana Auth SDK Quick Start Guides.

Check out the sample dApp integration example for apps using React, Next.js, and [Vue](https://github.com/arcana-network/basic-storage-wallet-integration) frameworks in [auth-examples](https://github.com/arcana-network/auth-examples) repository.

## Use Latest Arcana Auth SDK

______________________________________________________________________

If you have integrated the app with the Arcana Auth SDK v1.0.3 package already, then **you are all set.**

But if you are using an older version of the Arcana Auth SDK prior to v1.0.3 then refer to the [Migration Guides](../../migration/archives/) and upgrade to the Arcana Auth SDK v1.0.3 release.

## Questions?

______________________________________________________________________

Refer to the [Arcana Auth FAQ](../../faq/faq-gen/), [Troubleshooting Guide](../../troubleshooting/), and other developer resources, or contact [Arcana Support](../../support/).

# Release Notes Arcana Auth (Mainnet)

**Version: v1.0.0**

**Release Date: February 1, 2023**

This release of the Arcana Auth SDK consists of the following components:

- [Arcana Auth SDK v1.0.0](https://www.npmjs.com/package/@arcana/auth/v/1.0.0)
- Arcana Developer Dashboard
- Arcana wallet UI

## New Product Features

______________________________________________________________________

### Brand new look: Arcana Developer Dashboard

Check out the newly redesigned Arcana Developer Dashboard. It allows Web3 app developers to register apps with Arcana , and configure user onboarding and wallet settings before integrating with the Arcana Auth SDK.

### Application Configuration Profiles

Developers can now choose to deploy applications on the Arcana Testnet or the Mainnet. You can start with the default 'Testnet' app configuration profile and once the application is tested and ready to deploy, deploy it on the Arcana Mainnet.

An under-development application can be deployed on the Arcana Testnet. At the same time, a tested and stable version can be deployed on the Arcana Mainnet where the app users can log in and utilize the app.

Developer Dashboard

- Register and configure Web3 applications

- Create, delete, and manage application configurations for 'Testnet' and 'Mainnet'

  - Copy settings or create a fresh 'Mainnet' profile
  - While editing, toggle between 'Testnet' and 'Mainnet' configuration profiles
  - Each profile can be edited and managed independently

- A new unique **Client ID** is associated with the 'Mainnet' configuration profile

  An-note

  Do remember to use the correct Client ID for integrating with the Arcana Auth SDKwhen you deploy your application on the Mainnet.

See [how to pre-configure wallet chains via the dashboard](../../setup/config-wallet-chains/) for details.

### App-specific and Global Keys

- App-specific keys are the default, developers can configure it to [global keyspace type](../../setup/config-dApp-with-db/#configure-keyspace)
- Developers must submit a verification form and seek approval for enabling global keys
- Global keys make for a better user experience whereby users see the same wallet address across when they log into any app in the Arcana ecosystem. Users must ensure that they do not sign any malicious transactions of any fraudulent app. To mitigate this risk, Arcana requires developers to submit a verification form before the global keys feature is enabled for an app.

### Monitor Application Usage Metrics

- Both Testnet and Mainnet Usage are now tracked for monthly active users (MAU). The application dashboard screen displays usage metrics.
- 'Testnet' configuration profile screen displays Testnet usage
- 'Mainnet' configuration profile screen displays Mainnet usage
- No charges are levied for using Arcana Testnet. Billing for Arcana Mainnet usage will be calculated at the end of every month.

See [Arcana Developer Dashboard User Guide](../../setup/config-dApp-with-db/#monitor-usage) for details.

Usage Metrics

### Wallet Enhancements

Auto-refresh of the account balance amount is now supported.

### State-of-the-art DKG

- Secure, self-sovereign user identity management via asynchronous, distributed key generation protocol
- On the road to decentralized key generation: Two of the DKG nodes are run by Comdex and LugaNodes.

### Audits

Arcana smart contracts and ADKG subsystem have been audited by Certik. See [Arcana Audit Reports](https://github.com/arcana-network/audit-reports/) for details.

______________________________________________________________________

## Get Started

______________________________________________________________________

*Ready to dive in?*

See Arcana Auth SDK Quick Start Guides for details.

Check out the sample dApp integration example for apps using React, Next.js, and [Vue](https://github.com/arcana-network/basic-storage-wallet-integration) frameworks in [auth-examples](https://github.com/arcana-network/auth-examples) repository.

## Migrate to v1.0.0

______________________________________________________________________

Are you using an older version of the Arcana Auth SDK? Use the [Migration Guides](../../migration/archives/) and upgrade to the latest version.

______________________________________________________________________

## Questions?

______________________________________________________________________

Refer to the [Arcana Auth FAQ](../../faq/faq-gen/), [Troubleshooting Guide](../../troubleshooting/), and other developer resources, or contact [Arcana Support](../../support/).

# Release Notes Arcana Auth (Mainnet)

**Version: v1.0.1**

**Release Date: February 10, 2023**

This release of the Arcana Auth SDK consists of the following components:

- [Arcana Auth SDK v1.0.1](https://www.npmjs.com/package/@arcana/auth/v/1.0.1)
- Arcana Developer Dashboard
- Arcana wallet UI

## What's New?

______________________________________________________________________

In this release, the features or usage has not changed in the Arcana Auth SDK.

## Bug Fixes

______________________________________________________________________

In the previous release, v1.0.0 of the Arcana Auth SDK, the default setting for the `network` parameter (optional) in the `AuthProvider` constructor was 'mainnet'.

By default, when a developer registers an application using the Arcana Developer Dashboard, only the 'Testnet' configuration profile is created. The **Client ID** available on the dashboard corresponds to Arcana Testnet. **No 'Mainnet' configuration profile available by default**. The developer must creates it after registering an app.

This was creating an initialization mismatch issue in cases where **developers chose to not create a 'Mainnet' configuration profile** using the Arcana Developer Dashboard but continue to deploy the app on Arcana Testnet.

In this use case, the default 'Testnet' configuration settings specified via the Arcana Developer Dashboardwere not compatible with the default `network` setting in the Arcana Auth SDK, which pointed to 'mainnet'. As a result, some of the new developers were facing issues while integrating with the Arcana Auth SDK v1.0.0 as they tried to deploy the app on the Arcana Testnet. The configured social providers did not show up in the Auth UI when they created the `AuthProvider` and specified the Arcana Testnet **Client ID** without any `network` setting. This caused mismatched default \`network\`\` value, 'mainnet', to take effect for the Arcana Auth SDK usage.

As a workaround, the developer had to override the optional parameter `network` as 'testnet' to ensure the correct functioning of the authentication feature when only the 'Testnet' configuration profile was available for a registered application.

The latest release v1.0.1 of the Arcana Auth SDK handles this use case by setting the default value of the optional `network` parameter in the `AuthProvider` constructor as 'testnet'.

______________________________________________________________________

## Get Started

______________________________________________________________________

*Ready to dive in?*

See Arcana Auth SDK Quick Start Guides for details.

Check out the sample dApp integration example for apps using React, Next.js, and [Vue](https://github.com/arcana-network/basic-storage-wallet-integration) frameworks in [auth-examples](https://github.com/arcana-network/auth-examples) repository.

## Migrate to v1.0.1

______________________________________________________________________

Are you using an older version of the Arcana Auth SDK? Use the [Guides](../../migration/archives/) and upgrade to the latest version.

## Questions?

______________________________________________________________________

Refer to the [Arcana Auth FAQ](../../faq/faq-gen/), [Troubleshooting Guide](../../troubleshooting/), and other developer resources, or contact [Arcana Support](../../support/).

# Arcana Auth: Release Notes

**Release Date: Mar 15, 2024**

Version: **v1.0.10**

- Arcana Auth SDK

  - Web Apps
    - [`auth`](https://www.npmjs.com/package/@arcana/auth)
    - [`auth-react`](https://www.npmjs.com/package/@arcana/auth-react)
    - [`auth-wagmi`](https://www.npmjs.com/package/@arcana/auth-wagmi)
    - [`auth-web3-react`](https://www.npmjs.com/package/@arcana/auth-web3-react)
  - Mobile Apps
    - [`arcana_auth_flutter`](https://pub.dev/packages/arcana_auth_flutter)
    - [`auth-react-native`](https://www.npmjs.com/package/@arcana/auth-react-native)
  - Gaming Apps
    - [`arcana-auth-sdk`](https://npm-registry.arcana.network/)

- [Arcana Developer Dashboard](https://dashboard.arcana.network/)

- [Arcana wallet UI](https://github.com/arcana-network/wallet-ui)

In addition to the Arcana Auth SDK, now we also provide Arcana Auth-Core SDK for greater flexibility in using authentication features and custom wallet UI support.

- [Arcana Auth-Core SDK](https://www.npmjs.com/package/@arcana/auth-core)

## What is New?

______________________________________________________________________

- Support for MultiversX chain. It is available as a pre-configured chain in the Arcana wallet
- New SDK: Arcana Auth Unity SDK - See [Auth Unity SDK Quick Start Guide](../../quick-start/unity-quick-start/).
- Minor enhancements and bug fixes. See [changelog](https://github.com/arcana-network/auth/releases/tag/v1.0.12).

## What has changed?

______________________________________________________________________

This release has **no usage changes**. To migrate to the latest release, re-install the SDK.

## Get Started

______________________________________________________________________

*Ready to dive in?*

Check out:

- Quick Start Guides

- [Unity Auth Integration Example](https://github.com/arcana-network/auth-unity/tree/main/UnitySampleProject)

- [Integration examples](https://github.com/arcana-network/auth-examples)

## Previous Releases

Are you using an older version of the Arcana Auth SDK?

Refer to the [release notes archive](../archives/) and [Migration Guides](../../migration/archives/). Upgrade to the latest version.

## Questions?

______________________________________________________________________

Refer to the [Arcana Auth FAQ](../../faq/faq-gen/), [Troubleshooting Guide](../../troubleshooting/), and other developer resources, or contact [Arcana Support](../../support/).

# Arcana Auth: Release Notes

**Release Date: July 3, 2024**

Version: **v1.0.11**

- Arcana Auth SDK

  - Web Apps
    - [`auth`](https://www.npmjs.com/package/@arcana/auth)
    - [`auth-react`](https://www.npmjs.com/package/@arcana/auth-react)
    - [`auth-wagmi`](https://www.npmjs.com/package/@arcana/auth-wagmi)
    - [`auth-web3-react`](https://www.npmjs.com/package/@arcana/auth-web3-react)
  - Mobile Apps
    - [`arcana_auth_flutter`](https://pub.dev/packages/arcana_auth_flutter)
    - [`auth-react-native`](https://www.npmjs.com/package/@arcana/auth-react-native)
  - Gaming Apps
    - [`arcana-auth-sdk`](https://npm-registry.arcana.network/)

- [Arcana Developer Dashboard](https://dashboard.arcana.network/)

- [Arcana wallet UI](https://github.com/arcana-network/wallet-ui)

In addition to the Arcana Auth SDK, now we also provide Arcana Auth-Core SDK for greater flexibility in using authentication features and custom wallet UI support.

- [Arcana Auth-Core SDK](https://www.npmjs.com/package/@arcana/auth-core)

## What is New?

______________________________________________________________________

- Added support for apps that authenticate users via [Custom Auth](../../concepts/authtype/custom-auth/). Learn [how to configure Custom Auth settings](../../setup/config-custom-auth/) in the Arcana Developer Dashboard. Assign keys to authenticated users for signing blockchain transactions in apps that use custom authentication servers by following these [step-by-step instructions](../../auth/custom-auth/).
- New **Login Session Management** feature in the Arcana Developer Dashboard allows developers to specify whether a user session persists if the browser is closed. This enhances user experience and makes session security configurable. Learn more about [supported session types](../../concepts/session_type/) and [configuration settings](../../setup/config-dApp-with-db/#login-session-management).
- The [`UserInfo`structure](https://authsdk-ref-guide.netlify.app/interfaces/userinfo) now provides a [DID identifier](../../concepts/an-did-token/) for user verification. The `loginToken` will be deprecated in a future release.
- Bug fixes and performance enhancements related to user login.

## What has changed?

______________________________________________________________________

This release has **no usage changes**. To migrate to the latest release, re-install and upgrade to the latest SDKs.

## Get Started

______________________________________________________________________

*Ready to dive in?*

Check out:

- Arcana Auth SDK Quick Start Guides

- [Unity Auth Integration Example](https://github.com/arcana-network/auth-unity/tree/main/UnitySampleProject)

- [Integration examples](https://github.com/arcana-network/auth-examples)

## Previous Releases

Are you using an older version of the Arcana Auth SDK?

Refer to the [release notes archive](../archives/) and [Migration Guides](../../migration/archives/). Upgrade to the latest version.

## Questions?

______________________________________________________________________

Refer to the [Arcana Auth FAQ](../../faq/faq-gen/), [Troubleshooting Guide](../../troubleshooting/), and other developer resources, or contact [Arcana Support](../../support/).

# Arcana Auth: Release Notes

**Product Update Date: 22 May, 2025**

**Version: 1.0.12**

**Download and Install [Auth SDK](../../auth/sdk-installation/)**

The product consists of:

1. Arcana Auth SDK

   - [`auth`](https://www.npmjs.com/package/@arcana/auth) Version: **1.0.12** Release Date: **02 Jul 2024 13:57:09 UTC**

   - [`auth-react`](https://www.npmjs.com/package/@arcana/auth-react)

   - [`auth-wagmi`](https://www.npmjs.com/package/@arcana/auth-wagmi)

   - [`auth-web3-react`](https://www.npmjs.com/package/@arcana/auth-web3-react)

   - [`arcana_auth_flutter`](https://pub.dev/packages/arcana_auth_flutter)

   - [`auth-react-native`](https://www.npmjs.com/package/@arcana/auth-react-native)

   - [`arcana-auth-sdk`](https://npm-registry.arcana.network/)

1. [Arcana Developer Dashboard](https://dashboard.arcana.network/)

1. [Arcana wallet UI](https://github.com/arcana-network/wallet-ui)

1. [Arcana Auth-Core SDK](https://www.npmjs.com/package/@arcana/auth-core)

## What is New?

______________________________________________________________________

- **New Onboarding Options:** Apps integrating with the Arcana Auth SDK can now allow users to onboard via [Passkey](../../concepts/authtype/auth-passkeys/) or via new [supported social login providers](../../web3-stack/auth/): Telegram and Apple. See how to [onboard users via passkeys](../../auth/passkeys-auth/) for details. Developers must first [set up Passkeys](../../setup/config-auth-passkeys/), and configure Telegram, Apple Settings through the dashboard before adding code in the app to onboard the user via these mechanisms. [Learn more...](../../setup/)
- **Additional branding Customizations:** Apps can now customize the wallet UI with more theme options. You can also rebrand the OTP email for passwordless onboarding. [Learn more...](../../setup/config-wallet/config-wallet-branding/)
- Bug fixes and performance enhancements related to user login and polyfilling.

## What has changed?

______________________________________________________________________

To migrate to the latest release, re-install the SDK. This release does not require you to pay any **usage fee**.

[Changelog](https://github.com/arcana-network/auth/releases/latest)

## Get Started

______________________________________________________________________

- [Arcana Auth SDK Quick Start Guides](../../quick-start/wagmi-quick-start/)

- [Unity Auth Integration Example](https://github.com/arcana-network/auth-unity/tree/main/UnitySampleProject)

- [Integration examples](https://github.com/arcana-network/auth-examples)

## Previous Releases

Are you using an older version of the Arcana Auth SDK?

Refer to the [release notes archive](../archives/) and [Migration Guides](../../migration/archives/). Upgrade to the latest version.

## Questions?

______________________________________________________________________

Refer to the [Arcana Auth FAQ](../../faq/faq-gen/), [Troubleshooting Guide](../../troubleshooting/), and other developer resources.

Can't find what you are looking for? Contact [Arcana Support](../../support/).

# Release Notes Arcana Auth (Mainnet)

**Version: v1.0.2**

**Release Date: February 21, 2023**

This release of the Arcana Auth SDK consists of the following components:

- [Arcana Auth SDK v1.0.2](https://www.npmjs.com/package/@arcana/auth/v/1.0.2)
- Arcana Developer Dashboard
- Arcana wallet UI

## New Product Features

______________________________________________________________________

### Fiat On-ramp Providers

Arcana wallet supports fiat on-ramping that allows wallet users to buy cryptocurrency (native and ERC20 tokens) from any of the supported providers:

- [Transak](https://transak.com/)

### App Address -> Client ID

Each registered Web3 app is associated with a unique Arcana identifier. Earlier, it was referred to as **App Address**. Now it is referred to as **Client ID** in the documentation and on the Arcana Developer Dashboard screen.

The format of the **Client ID** has also changed but it does not impact Arcana Auth SDK usage. Developers can continue to use the existing **App Address** with the new Arcana Auth SDK. If the app is integrated using the following Arcana Auth SDK versions, there is **no need to re-register the app**:

- v1.0.1
- v1.0.0

If the app is using an older version of the Arcana Auth SDK, refer to the migration guide and upgrade to the latest version.

### Minimized Wallet Widget Update

The circular widget displayed when a wallet was minimized by clicking the 'x' icon on the top right of the wallet in its maximized state has changed. In the current release, the minimized wallet state is displayed in the form of a smaller widget.

| Minimized Wallet Widget v1.0.1 | Minimized Wallet Widget v1.0.2 | | --- | --- | | | |

### Arcana Auth SDK package additions: Wagmi & RainbowKit support

Typical React/Next.js apps integrate with the Arcana Auth SDK by installing the `auth` and `auth-react` npm packages and instantiating the `AuthProvider` and `ProviderAuth` before using them in the app. See [how to integrate a React app](../../auth/integrate/react-nextjs/) for details.

The React/Next.js apps that use [Wagmi](https://wagmi.sh/) can be integrated with the Arcana Auth SDK by installing the `auth-wagmi` package and instantiating the `ArcanaConnector` wrapper component. For details, see [how to integrate a React app that uses Wagmi](../../auth/integrate/wagmi/) guide.

Similarly, for React apps using the [RainbowKit framework](https://www.rainbowkit.com/), see [how to integrate a React app that uses RainbowKit](../../auth/integrate/rainbow/) guide.

Using `auth-wagmi`

Earlier, to integrate the Arcana Auth SDK with a Web3 app that uses [`wagmi`](https://wagmi.sh/) or [RainbowKit](https://www.rainbowkit.com/) wallet connectors, developers were required to directly install the [`auth-wagmi`](https://www.npmjs.com/package/@arcana/auth-wagmi) package and create the `ArcanaConnector`. This has changed for auth-wagmi v0.0.5 onward. Developers are now required to **also** install the [`auth`](https://www.npmjs.com/package/@arcana/auth) package along with the [`auth-wagmi`](https://www.npmjs.com/package/@arcana/auth-wagmi) package.

## Bug Fixes

______________________________________________________________________

**Securing Local/Session store partition**

In the previous release, the embedded wallet UI displayed for an authenticated user in the context of an application was also accessible in a different app's context, if the same tab was used to browse a different app.

Once a user authenticates and logs in to an app, say **app A**, using a browser and then before logging out of **app A**, then types a new app URL in the same browser tab for accessing **app B**, the user was able to access the wallet associated with **app A** in the context of **app B** without explicit sign-in into **app B**.

This issue is fixed in the current release. The user will have to log in to the new app before they can access the wallet UI.

______________________________________________________________________

## Get Started

______________________________________________________________________

*Ready to dive in?*

See Arcana Auth SDK Quick Start Guides for details.

Check out the sample dApp integration example for apps using React, Next.js, and [Vue](https://github.com/arcana-network/basic-storage-wallet-integration) frameworks in [auth-examples](https://github.com/arcana-network/auth-examples) repository.

## Migrate to v1.0.2

______________________________________________________________________

Are you using an older version of the Arcana Auth SDK? Use the [Migration Guides](../../migration/archives/) and upgrade to the latest version.

## Questions?

______________________________________________________________________

Refer to the [Arcana Auth FAQ](../../faq/faq-gen/), [Troubleshooting Guide](../../troubleshooting/), or contact [Arcana Support](../../support/).

# Release Notes Arcana Auth (Mainnet)

**Version: v1.0.3**

**Release Date: March 8, 2023**

This release of the Arcana Auth SDK consists of the following components:

- [Arcana Auth SDK v1.0.3](https://www.npmjs.com/package/@arcana/auth/v/1.0.3)
- Arcana Developer Dashboard
- Arcana wallet UI

## New Product Features

______________________________________________________________________

### Social Provider: AWS Cognito

Arcana Auth SDK now allows Web3 apps to configure AWS Cognito as the social provider for user authentication. See [how to onboard users via Cognito](../../auth/onboard/vanilla/custom-ui/build-idm/cognito-oauth/) for details.

### New API: showWallet()

Developers can use the newly added `showWallet()` function in the Arcana Auth SDK to display the in-built Arcana wallet UI. The `showWallet()` function can be called in the application context after the `AuthProvider` is created and initialized using the `init` function. Once the app is deployed and the user logs in, the `showWallet` function call displays the wallet UI.

## Product Enhancements

______________________________________________________________________

### Better Login Performance

The Arcana Auth SDK has been updated for better login performance powered by an improved [ADKG subsystem](https://github.com/arcana-network/adkg/releases).

## Bug Fixes

______________________________________________________________________

**Wallet UI Display on Mobile**

In the earlier releases, the built-in Arcana wallet UI **did not** utilize the entire mobile screen width. This has been fixed now.

______________________________________________________________________

## Get Started

______________________________________________________________________

*Ready to dive in?*

See Arcana Auth SDK Quick Start Guides for details.

Check out the sample dApp integration example for apps using React, Next.js, and [Vue](https://github.com/arcana-network/basic-storage-wallet-integration) frameworks in [auth-examples](https://github.com/arcana-network/auth-examples) repository.

## Migrate to v1.0.3

______________________________________________________________________

Are you using an older version of the Arcana Auth SDK? Use the [Migration Guides](../../migration/archives/) and upgrade to the latest version.

## Questions?

______________________________________________________________________

Refer to the [Arcana Auth FAQ](../../faq/faq-gen/), [Troubleshooting Guide](../../troubleshooting/), or contact [Arcana Support](../../support/).

# Arcana Auth: Release Notes

**Release Date: May 23, 2023**

The latest release of the Arcana Auth SDK consists of the following components:

- Arcana Auth SDK

  - [`auth`](https://www.npmjs.com/package/@arcana/auth)
  - [`auth-react`](https://www.npmjs.com/package/@arcana/auth-react)
  - [`auth-wagmi`](https://www.npmjs.com/package/@arcana/auth-wagmi)
  - [`auth-web3-react`](https://www.npmjs.com/package/@arcana/auth-web3-react)

- [Arcana Developer Dashboard](https://dashboard.arcana.network/)

- [Arcana wallet UI](https://github.com/arcana-network/wallet-ui)

## New Product Features

______________________________________________________________________

### Automatically Fetch NFTs

Previously, the Arcana wallet did not automatically display the NFTs owned by the wallet address. The user was required to manually add the NFT information (the contract address, token ID) to display the NFT assets in the Arcana wallet. In this release, the Arcana wallet automatically fetches the NFTs belonging to the wallet address for the selected blockchain network.

Auto-fetching NFTs

This feature works only for the NFTs that are minted using the supported blockchains. The Arcana wallet supports auto-fetching of NFTs for the following chains:

**Mainnet**

```
* Arbitrum
* Avalanche
* Base
* Binance Smart Chain
* Ethereum
* Fantom
* Flare
* Gnosis
* Optimism
* Polygon
* Rollux
* Syscoin

```

**Testnet**

```
* Ethereum Goerli
* Avalanche Fuji

```

For a full list of chains supported by Ankr APIs, see [here](https://www.ankr.com/docs/advanced-api/overview/#chains-supported).

For the NFTs minted on the non-supported blockchains, the Arcana wallet user can manually add them. See the [Arcana wallet User's Guide](../../user-guides/wallet-ui/use-wallet-to-manage-nfts/#manage-nfts) for details.

### Web3-React App Support

The latest release of the Arcana Auth SDK supports Web3-React apps.

The newly released `auth-web3-react` package can be installed along with the `auth` package and Web3-React apps can be integrated for onboarding users just like other wallet connectors such as Wagmi and RainbowKit.

Web3-React apps can use either the [built-in plug-and-play login UI](../../auth/onboard/web3-react/web3-react-pnp-ui/) or [build their own custom UI](../../auth/onboard/web3-react/web3-react-custom-ui/) and use Arcana Auth SDK functions to onboard users via the configured authentication providers.

## Product Enhancements

### Custom Login UI

In addition to the plug-and-play authentication feature that allows developers to use the built-in login UI to onboard users, now custom login UI support is available in the Arcana Auth SDK. App developers can build a custom login UI in their app and it can be wired to onboard users through the authentication providers configured via the Arcana Developer Dashboard.

Web3 app developers now have more flexibility in how they authenticate and onboard users into their apps. In the Arcana Auth SDK, developers can now build a custom login UI instead of using the default, built-in plug-and-play login UI. This allows app developers to design a login interface that matches their app's style and branding. The custom login UI can be used to onboard users through the app's custom login process by calling the authentication providers set up in the Arcana Developer Dashboard.

Select the app type and refer to the instructions for enabling [custom login UI to onboard users](../../auth/onboard/vanilla/custom-ui/).

______________________________________________________________________

### Chain Management

Now developers can configure the blockchains as per the app requirements and set one of them as the default chain using the Arcana Developer Dashboard. Once a user authenticates, the wallet is displayed and it shows these app developer-configured chains in the drop-down list with one of them set as the default.

Previously, the Arcana Auth SDK supported a hardcoded set of chains with one of them set as the default chain. The developer could only add and switch chains programmatically [as long as it was a supported chain](../../web3-stack/chains/). The `wallet_addEthereumChain` and `wallet_switchEthereumChain` JSON-RPC calls could be used by devs to add and switch chains. They could change the default chain through the `chainConfig` option in the `AuthProvider`. In the latest release of the Arcana Auth SDK, app developers have more flexibility in specifying the list of chains that are supported for a Web3 app and also set one of them as the default. This can be achieved programmatically and also through the Arcana Developer Dashboard settings.

The wallet user can also add any new [supported chain](../../web3-stack/chains/) through the Arcana wallet UI. Only the chains configured by the app developer persist across the user login sessions.

Chain Configuration Example

**Example I**

Dashboard setting for App A: `Polygon, Ethereum, Shardeum, Arbitrum (default selection)`

`chainConfig` option in the `AuthProvider`: `Shardeum`

In this case, the Arcana wallet UI will display `Shardeum` as the default and other chains in the dropdown list as Polygon, Ethereum, and Arbitrum.

**Example II**

Dashboard setting for App A: `Polygon, Ethereum, Shardeum, Arbitrum (default selection)`

`chainConfig` option in the `AuthProvider`: `Avalanche`

In this case, the Arcana wallet UI will display `Arbitrum` as the default and other chains in the dropdown list as Polygon, Ethereum, and Shardeum.

### Transaction Notification Summary

When a blockchain transaction is triggered via the Web3 app for the user's wallet, the Arcana Auth SDK brings up a transaction notification in the app's context displaying the transaction details and options for the wallet user to accept or reject it.

Previously, the transaction notification view provided all the transaction details based on the transaction type. In the latest release, the notification now shows a summary of the transaction by default, with options for the user to accept or reject the transaction. To view more details, the user can click on the '^' symbol in the top right corner of the transaction summary. In certain cases, like 'Send Token' or 'Sign Transaction', the detailed notification also shows the gas fees and allows the user to edit the gas amount before approving the transaction if needed.

### Buy Fiat via Onramp.money

The Arcana wallet allows users to buy cryptocurrency. In this release, a new provider ['Onramp Money'](https://onramp.money/) is also supported. For details, see [supported on-ramping providers for the wallet](../../user-guides/wallet-ui/use-wallet-ui/#fiat-on-ramp).

### Usage Update: `AuthProvider`

- **`setWindowProvider`**: A new parameter is now supported in the `AuthProvider` constructor for explicitly setting the `window.ethereum` to the provider in the app's context. Previously, it was set by default. In the latest release, by default, it is **not set**. The developer must specify `setWindowProvider=true` while instantiating the `AuthProvider` to ensure that `window.ethereum` is set when `AuthProvider` is instantiated. See [Arcana Auth SDK Usage Guide](../../auth/auth-usage-guide/) for details.
- **`network`**: Previously, to deploy an app integrated with the Arcana Auth SDK on the Arcana Mainnet, developers were required to specify the `network` parameter in the `AuthProvider` constructor as the 'mainnet'. This is no longer mandatory. The Client ID value itself is sufficient to specify whether the deployment is meant for the Arcana Testnet or Mainnet.

## Bug Fixes

______________________________________________________________________

- The issue with loading the Arcana Developer Dashboard login screen when the Phantom wallet extension was enabled in the browser is fixed in this release.

## Get Started

______________________________________________________________________

*Ready to dive in?*

See Arcana Auth SDK Quick Start Guides.

Check out the sample dApp integration example for apps using React, Next.js, and [Vue](https://github.com/arcana-network/basic-storage-wallet-integration) frameworks in [auth-examples](https://github.com/arcana-network/auth-examples) repository.

## Upgrade to the Latest Arcana Auth SDK

______________________________________________________________________

If you have integrated the app with the Arcana Auth SDK v1.0.3 package you can choose to either continue to use it with the latest Arcana Auth SDK release or upgrade.

To use the new product features, enhancements and bug-fixes we **highly recommend** that you follow the [migration guide](../../migration/main-auth-v1.0.4-migration/) for a swift upgrade.

Please note, in case are using an older version of the Arcana Auth SDK prior to v1.0.3 then refer to the [Migration Guides](../../migration/archives/) and make requisite changes to upgrade to the latest version.

## Questions?

______________________________________________________________________

Refer to the [Arcana Auth FAQ](../../faq/faq-gen/), [Troubleshooting Guide](../../troubleshooting/), and other developer resources, or contact [Arcana Support](../../support/).

# Arcana Auth: Release Notes

**Release Date: June 12, 2023**

The latest release of the Arcana Auth SDK consists of the following components:

- Arcana Auth SDK

  - [`auth`](https://www.npmjs.com/package/@arcana/auth)
  - [`auth-react`](https://www.npmjs.com/package/@arcana/auth-react)
  - [`auth-wagmi`](https://www.npmjs.com/package/@arcana/auth-wagmi)
  - [`auth-web3-react`](https://www.npmjs.com/package/@arcana/auth-web3-react)

- [Arcana Developer Dashboard](https://dashboard.arcana.network/)

- [Arcana wallet UI](https://github.com/arcana-network/wallet-ui)

## New Product Features

______________________________________________________________________

### Auth for Mobile Apps

The Arcana Auth SDK now allows mobile apps built using Flutter and React-Native frameworks to onboard users through the Arcana Auth SDK and sign blockchain transactions.

Flutter app developers must install the `arcana_auth_flutter` package and refer to the [Arcana Auth Quick Start Guide for Flutter Apps](../../quick-start/flutter-quick-start/) to integrate Web3 Flutter apps with the Arcana Auth SDK.

React-Native app developers must install the `auth-react-native` package and refer to the [Arcana Auth Quick Start Guide for React-Native Apps](../../quick-start/react-native-quick-start/) to integrate Web3 React-Native apps with the Arcana Auth SDK.

### White-labeled Auth

The new white-labeled auth feature allows Web3 app developers to configure the Arcana Auth SDK and disable the built-in Arcana wallet UI. Developers can replace it with a custom wallet UI and build necessary interfaces to call the Web3 wallet operations themselves along with notification UI for requesting user approval for signing a blockchain transaction. See [how to plug in a custom wallet UI](../../auth/custom-wallet-ui/) and use the white-labeled auth feature.

### Steam OAuth Support

Web3 applications that integrate with the Arcana Auth SDK can now onboard users via [Steam OAuth](https://partner.steamgames.com/doc/webapi_overview/oauth). See [how to configure Steam as an onboarding option](../../setup/config-social/steam-oauth/) section for more details. After configuring one or more authentication providers through the Arcana Developer Dashboard, applications can onboard users with a single line of code using `loginWithSocial` call. Developers can use the built-in plug-and-play login UI feature of the Arcana Auth SDK or use a custom login UI and allow users to onboard the app using Steam. Select the app type for instructions on how to onboard users with Steam.

### Firebase Auth Support

Besides Cognito custom authentication, the Arcana Auth SDK now also allows apps to onboard users via Firebase. To enable Firebase, developers must:

- [Configure Firebase settings](../../setup/config-idm/firebase-auth/) in the Arcana Developer Dashboard
- [Install and integrate the app](../../auth/integrate/vanilla-html-css-js/) with the Arcana Auth SDK
- Make sure that the app is also integrated with the Firebase SDKs and that the required Firebase services are configured.
- Use a custom login UI to initiate Firebase login and listen for user authentication success event from Firebase.
- Pass on the Firebase token to the Arcana Auth SDK user onboarding function - `loginWithBearer` and allow authenticated users to sign blockchain transactions.

Refer to the [Firebase auth integration example](https://github.com/arcana-network/auth-examples) for details.

______________________________________________________________________

## Get Started

______________________________________________________________________

*Ready to dive in?*

See Arcana Auth SDK Quick Start Guides.

Check out the sample dApp integration example for apps using React, Next.js, and [Vue](https://github.com/arcana-network/basic-storage-wallet-integration) frameworks in [auth-examples](https://github.com/arcana-network/auth-examples) repository.

## Upgrade to the Latest Arcana Auth SDK

______________________________________________________________________

If you have integrated the app with the Arcana Auth SDK v1.0.11 package you can choose to either continue to use it with the latest Arcana Auth SDK release.

To enable Steam or Firebase authentication, you must upgrade to the v1.0.5 or later. To upgrade. follow the [migration guide](../../migration/main-auth-v1.0.5-migration/).

Please note, in case are using an older version of the Arcana Auth SDK prior to v1.0.11 then refer to the appropriate [Migration Guides](../../migration/archives/) and upgrade to the latest version.

## Previous Releases

See the [release notes archive](../archives/) for details.

## Questions?

______________________________________________________________________

Refer to the [Arcana Auth FAQ](../../faq/faq-gen/), [Troubleshooting Guide](../../troubleshooting/), and other developer resources, or contact [Arcana Support](../../support/).

# Arcana Auth: Release Notes

**Release Date: July 12, 2023**

The latest release of the Arcana Auth SDK product consists of the following components:

- Arcana Auth SDK

  - [`auth`](https://www.npmjs.com/package/@arcana/auth)
  - [`auth-react`](https://www.npmjs.com/package/@arcana/auth-react)
  - [`auth-wagmi`](https://www.npmjs.com/package/@arcana/auth-wagmi)
  - [`auth-web3-react`](https://www.npmjs.com/package/@arcana/auth-web3-react)

- [Arcana Developer Dashboard](https://dashboard.arcana.network/)

- [Arcana wallet UI](https://github.com/arcana-network/wallet-ui)

## Enhancements

______________________________________________________________________

### Third-party Cookies

Earlier, the Arcana Auth SDK had issues if the browser incognito mode was used or if third-party cookies were disabled in the browser settings. The latest enhancements include support for both these cases.

Also, it is no longer required for a user to re-login in case the browser is refreshed in a 30-minute window since the last login. Developers can use the `canReconnect` and `reconnect` methods of the `AuthProvider` to enable this automatic re-login for the user, in a secure manner.

See [usage guide](../../auth/auth-usage-guide/#usage) for more details.

### Support for Wagmi 1.x.y and Viem

The [`auth-wagmi` package](https://www.npmjs.com/package/@arcana/auth-wagmi) is now upgraded to version 2.0.0 and supports the latest Wagmi release v1.3.9 which uses Viem. For details, see [Wagmi 1.x.y migration guide](https://wagmi.sh/core/guides/migrate-from-v1-to-v2) and [sample integration code 'sample-auth-rainbow-viem'](https://github.com/arcana-network/auth-examples).

### Wagmi/RainbowKit App Connect

When using the `auth-wagmi` package for RainbowKit apps, it is recommended that developers specify the `name` field as 'Login with Email/Social' and put the Arcana logo as shown in the code below.

utils/getArcanaAuth.js

```
import { AuthProvider } from "@arcana/auth";

let auth = null;

export const getAuthProvider = () => {
  if (!auth) {
    auth = new AuthProvider(
      "xar_dev_19527cdf585cd31d0bd06bfc1b008accea781404"
    );
  }
  return auth;
};

```

utils/wallet.js

```
import { getAuthProvider } from "./getArcanaAuth";
import { ArcanaConnector } from "@arcana/auth-wagmi";
import { newArcanaLogo } from "./logo";

export const ArcanaRainbowConnector = ({ chains }) => {
  return {
    id: "arcana-auth",
    name: "Login with Email/Social",
    iconUrl: newArcanaLogo,
    iconBackground: "#101010",
    createConnector: () => {
      const connector = new ArcanaConnector({
        chains,
        options: {
      auth: getAuthProvider(),
        }
      });
      return {
        connector,
      };
    },
  };
};

```

Sample App: RainbowKit

For more details, see [sample RainbowKit app integration with Auth](https://github.com/arcana-network/auth-wagmi/tree/main/examples/rainbowkit-integration).

______________________________________________________________________

## Get Started

______________________________________________________________________

*Ready to dive in?*

See Arcana Auth SDK Quick Start Guides.

Check out the [sample dApp integration examples](https://github.com/arcana-network/auth-examples) for various dApp types, wallet connectors and frameworks.

## Upgrade to the Latest Arcana Auth SDK

______________________________________________________________________

If you have integrated the app with the Arcana Auth SDK v1.0.11 package you can choose to either continue to use it with the latest Arcana Auth SDK release.

To enable Steam or Firebase authentication, you must upgrade to the release v1.0.5 or higher. To upgrade, follow the [migration guide](../../migration/main-auth-v1.0.6-migration/).

Please note, in case are using an older version of the Arcana Auth SDK prior to v1.0.11 then refer to the appropriate [Migration Guides](../../migration/archives/) and upgrade to the latest version.

## Previous Releases

See the [release notes archive](../archives/) for details.

## Questions?

______________________________________________________________________

Refer to the [Arcana Auth FAQ](../../faq/faq-gen/), [Troubleshooting Guide](../../troubleshooting/), and other developer resources, or contact [Arcana Support](../../support/).

# Arcana Auth: Release Notes

**Release Date: August 8, 2023**

The latest release of the Arcana Auth SDK product consists of the following components:

- Arcana Auth SDK

  - [`auth`](https://www.npmjs.com/package/@arcana/auth)
  - [`auth-react`](https://www.npmjs.com/package/@arcana/auth-react)
  - [`auth-wagmi`](https://www.npmjs.com/package/@arcana/auth-wagmi)
  - [`auth-web3-react`](https://www.npmjs.com/package/@arcana/auth-web3-react)

- [Arcana Developer Dashboard](https://dashboard.arcana.network/)

- [Arcana wallet UI](https://github.com/arcana-network/wallet-ui)

## What has changed?

This is a minor release with enhancements and bug fixes only.

- Enhancements

  - Improved Gas Fees Estimation
  - Better error handling

- Bug Fixes

  - Gas Fees were not displayed correctly in the Arcana wallet UI
  - EIP1559 related fixes
  - MFA restore bug fix in the Arcana wallet

______________________________________________________________________

## Get Started

______________________________________________________________________

*Ready to dive in?*

See Arcana Auth SDK Quick Start Guides.

Check out the [sample dApp integration examples](https://github.com/arcana-network/auth-examples) for various dApp types, wallet connectors and frameworks.

## Upgrade to the Latest Arcana Auth SDK

______________________________________________________________________

If you have integrated the app with the Arcana Auth SDK v1.0.11 package you can choose to either continue to use it with the latest Arcana Auth SDK release.

Please note, in case are using an older version of the Arcana Auth SDK prior to v1.0.11 then refer to the appropriate [Migration Guides](../../migration/archives/) and upgrade to the latest version.

## Previous Releases

See the [release notes archive](../archives/) for details.

## Questions?

______________________________________________________________________

Refer to the [Arcana Auth FAQ](../../faq/faq-gen/), [Troubleshooting Guide](../../troubleshooting/), and other developer resources, or contact [Arcana Support](../../support/).

# Arcana Auth: Release Notes

**Release Date: September 20, 2023**

Version: **1.0.12**

The Arcana Auth SDK product consists of the following components:

- Arcana Auth SDK

  - Web Apps
    - [`auth`](https://www.npmjs.com/package/@arcana/auth)
    - [`auth-react`](https://www.npmjs.com/package/@arcana/auth-react)
    - [`auth-wagmi`](https://www.npmjs.com/package/@arcana/auth-wagmi)
    - [`auth-web3-react`](https://www.npmjs.com/package/@arcana/auth-web3-react)
  - Mobile Apps
    - [`arcana_auth_flutter`](https://pub.dev/packages/arcana_auth_flutter)
    - [`auth-react-native`](https://www.npmjs.com/package/@arcana/auth-react-native)

- [Arcana Developer Dashboard](https://dashboard.arcana.network/)

- [Arcana wallet UI](https://github.com/arcana-network/wallet-ui)

## What has changed?

This is a minor release with enhancements and bug fixes only.

### Enhancements

**Arcana JWT Token**

The Arcana Auth SDK now returns an [Arcana JWT Token](../../concepts/an-jwt-token/) to the app after successful user login.

**Compact Login UI**

Developers can choose to select a more compact built-in login UI modal that displays all the available, configured login mechanisms for the user to choose from. Set `compact: true` as the `connectOptions` while creating a new `AuthProvider` as shown in the code snippet below:

```
import { AuthProvider, CHAIN } from '@arcana/auth'

interface ChainConfig {
  chainId: CHAIN
  rpcUrl?: string
}

const auth = new AuthProvider(`${clientId}`, {
  position: 'left',        // default - right
  theme: 'light',          // default - dark
  alwaysVisible: false,    // default - true
  setWindowProvider: true, // default - false
  connectOptions: {
    compact: true // default - false
  },
  chainConfig: {
    chainId: CHAIN.POLYGON_MAINNET,
    rpcUrl: '',
  },
})

await auth.init()

```

Compact Login UI

For more details, see [`AuthProvider` constructor parameters](https://authsdk-ref-guide.netlify.app/interfaces/constructorparams).

### Bug Fixes

**Email Validation**

The email entered by the user in the built-in login UI modal is now validated before initiating a user log in.

______________________________________________________________________

## Get Started

______________________________________________________________________

*Ready to dive in?*

SeeArcana Auth SDK Quick Start Guides.

Check out the [sample dApp integration examples](https://github.com/arcana-network/auth-examples) for various dApp types, wallet connectors and frameworks.

## Upgrade to the Latest Arcana Auth SDK

______________________________________________________________________

If you have integrated the app with the Arcana Auth SDK v1.0.11 package you can choose to either continue to use it with the latest Arcana Auth SDK release.

Please note, in case are using an older version of the Arcana Auth SDK prior to v1.0.11 then refer to the appropriate [Migration Guides](../../migration/archives/) and upgrade to the latest version.

## Previous Releases

See the [release notes archive](../archives/) for details.

## Questions?

______________________________________________________________________

Refer to the [Arcana Auth FAQ](../../faq/faq-gen/), [Troubleshooting Guide](../../troubleshooting/), and other developer resources, or contact [Arcana Support](../../support/).

# Arcana Auth: Release Notes

**Release Date: Feb 5, 2024**

Version: **v1.0.9**

- Arcana Auth SDK

  - Web Apps
    - [`auth`](https://www.npmjs.com/package/@arcana/auth)
    - [`auth-react`](https://www.npmjs.com/package/@arcana/auth-react)
    - [`auth-wagmi`](https://www.npmjs.com/package/@arcana/auth-wagmi)
    - [`auth-web3-react`](https://www.npmjs.com/package/@arcana/auth-web3-react)
  - Mobile Apps
    - [`arcana_auth_flutter`](https://pub.dev/packages/arcana_auth_flutter)
    - [`auth-react-native`](https://www.npmjs.com/package/@arcana/auth-react-native)

- [Arcana Developer Dashboard](https://dashboard.arcana.network/)

- [Arcana wallet UI](https://github.com/arcana-network/wallet-ui)

In addition to the Arcana Auth SDK, now we also provide Arcana Auth-Core SDK for greater flexibility in using authentication features and custom wallet UI support.

- [Arcana Auth-Core SDK](https://www.npmjs.com/package/@arcana/auth-core)

## What is New?

______________________________________________________________________

This is a major release that supports non-EVM blockchains (Solana). New product features include a brand new SDK that offers maximum customization. Also, besides bug fixes it contains some enhancements related to security besides bug fixes.

- Non-EVM Chain Support: Solana - See [Solana Apps Quick Start Guide](../../quick-start/solana-quick-start/).
- Passwordless Login with OTP: Use [`loginWithOTPStart`](https://authsdk-ref-guide.netlify.app/classes/authprovider#loginWithOTPStart), and [`loginWithOTPComplete`](https://authsdk-ref-guide.netlify.app/classes/authprovider#loginWithOTPComplete) instead of [`loginWithLink`](https://authsdk-ref-guide.netlify.app/classes/authprovider#loginWithLink) (deprecated)
- New SDK: Arcana Auth-Core SDK - See [Auth Core SDK Quick Start Guide](../../quick-start/auth-core-quick-start/).
- Security enhancements and bug fixes. See [changelog](https://github.com/arcana-network/auth/releases/tag/v1.0.12).

## What has changed?

______________________________________________________________________

### Global Keys

This release wonâ€™t affect Web3 apps that rely on app-specific keys (default).

If the app developer selects [global keys](../../concepts/keyspace-types/) while configuring the app via the Arcana Developer Dashboard, the social auth settings for enabling the social login providers are **no longer** required.

Apps can choose to enable global keys on the Testnet as well as the Mainnet.

### New User Orientation

Earlier, when a user logged into the Web3 app integrated with the Arcana Auth SDK, the new user would instantly see the Arcana wallet in the app context. Now, a new orientation wizard pops up for the very first user login. Newcomers to Web3 or those unfamiliar with wallets can find value in the orientation wizard. Upon logging into the app, users can opt to skip it or swiftly get familiar with the layout of Arcana wallet, understanding where specific information is located.

Wallet Starter Tips

## Get Started

______________________________________________________________________

*Ready to dive in?*

SeeArcana Auth SDK Quick Start Guides.

Check out the [sample dApp integration examples](https://github.com/arcana-network/auth-examples) for various dApp types, wallet connectors and frameworks.

## Previous Releases

Using an older version of the Arcana Auth SDK?

Refer to the [release notes archive](../archives/) and [Migration Guides](../../migration/archives/). Upgrade to the latest version.

## Questions?

______________________________________________________________________

Refer to the [Arcana Auth FAQ](../../faq/faq-gen/), [Troubleshooting Guide](../../troubleshooting/), and other developer resources, or contact [Arcana Support](../../support/).

# Release Notes Archives

[Auth v1.0.12](../rn-main-auth-v1.0.12/)

[Auth v1.0.11](../rn-main-auth-v1.0.11/)

[Release May 27th, 2024](../rn-main-auth-May27-24/)

[Auth v1.0.10](../rn-main-auth-v1.0.10/)

[Auth v1.0.9](../rn-main-auth-v1.0.9/)

[Auth v1.0.8](../rn-main-auth-v1.0.8/)

[Auth v1.0.7](../rn-main-auth-v1.0.7/)

[Auth v1.0.6](../rn-main-auth-v1.0.6/)

[Auth v1.0.5](../rn-main-auth-v1.0.5/)

[Auth v1.0.4](../rn-main-auth-v1.0.4/)

[Dashboard update May 3, 2023](../rn-main-auth-May3-23/)

[Auth v1.0.3](../rn-main-auth-v1.0.3/)

[Auth v1.0.2](../rn-main-auth-v1.0.2/)

[Auth v1.0.1](../rn-main-auth-v1.0.1/)

[Auth v1.0.0](../rn-main-auth-v1.0.0/)

[Auth v0.3.0](../rn-beta-auth-v0.3.0/)

# Archives: CA SDK

[CA v1.0.3](../../rn-ca-v1.0.3/) [CA v0.0.7](../../rn-ca-v0.0.7/) [CA v0.0.5](../../rn-ca-v0.0.5/) [CA v0.0.3](../../rn-ca-v0.0.3/) [CA v0.0.2](../../rn-ca-v0.0.2/)

[CA v0.0.6](../../rn-ca-wagmi-sdk-v0.0.6/) [CA v0.0.5](../../rn-ca-wagmi-sdk-v0.0.5/)

## Social Providers

[Apple](config-social/apple-oauth/) [Discord](config-social/discord-oauth/) [GitHub](config-social/github-oauth/) [Google](config-social/google-oauth/) [Steam](config-social/steam-oauth/) [Telegram](config-social/telegram-oauth/) [Twitch](config-social/twitch-oauth/) [Twitter](config-social/twitter-oauth/)

## IAM Providers

[Cognito](config-idm/cognito-oauth/) [Firebase](config-idm/firebase-auth/)

Apps using IAM Providers

Apps usually use Arcana Auth SDK for user onboarding and blockchain transaction signing. Authentication providers must be set up in the Arcana Developer Dashboard before integrating with the SDK.

Some apps might use third-party IAM providers like AWS Cognito for authentication but still use Arcana Auth SDK to access Arcana wallet. The setup is different since third-party IAM providers support authentication verifiers like Google directly.

Developers only need to set up the IAM provider in the Arcana Developer Dashboard. They don't need to configure authentication verifiers that work directly with the IAM providers. Use the IAM provider's console, like Cognito Developer Console, to set up authentication verifiers like Google, not the Arcana Developer Dashboard.

## Other Login Options

[Passkeys](config-auth-passkeys/) [Custom Auth](config-custom-auth/)

Passwordless Login

By default, passwordless login is always available for any application that integrates with the Arcana Auth SDK. Unlike social login providers, the passwordless option is enabled by default and requires no configuration.

# Passkeys Auth Setup

Learn how to configure user login via [Passkeys](../../concepts/authtype/auth-passkeys/) for apps that integrate with the Arcana Auth SDK and allow authenticated users to sign blockchain transactions.

## Prerequisites

To log into the Arcana Developer Dashboard, youâ€™ll need an account with a supported social login or use email for passwordless access.

- Google
- GitHub
- Twitch
- Discord

Use <https://dashboard.arcana.network> to log in with one of the available options.

Developer Dashboard Login Page

Aggregate Login

The [aggregate login](../../concepts/aggregatelogin/) feature in the Arcana Auth SDK merges login identities from social providers into one Arcana account if the email ID is the same across these providers. Developers can log into the Arcana Developer Dashboard using any supported provider and still access the same Arcana account and app settings.

## 1. Register App

Log into the Arcana Developer Dashboard to register the app. Create a new app. Jump to the next section if the app is already registered.

## 2. Configure Passkeys

In the 'Manage Apps' screen, click **Configure** in the LHS navigation. Select **Social Auth** and scroll down until you see the section **Passkeys** on the RHS.

Navigate to Passkey Auth Settings

Specify the **Domain** of the [relying party](../../concepts/authtype/auth-passkeys/#domain). **Save** the Passkeys settings in the dashboard.

Specify Domain

## What's Next?

After configuring passkeys based login, developers must [integrate the Web3 app](../../auth/custom-auth/) with the Arcana Auth SDK, then use `loginWithPasskeys` to onboard users securely via passkey. Use the `AuthProvider` to issue JSON/RPC functions and Web3 wallet operations from within the app context for authenticated users.

## See Also

- [Dashboard User's Guide](../config-dApp-with-db/)
- [How do passkeys work?](../../concepts/authtype/auth-passkeys/)

# Custom Auth Setup

Learn how to configure [Custom Auth](../../concepts/authtype/custom-auth/) for using the Arcana Auth SDK in apps that use custom user authentication and allow authenticated users to sign blockchain transactions.

## Prerequisites

To log into the Arcana Developer Dashboard, youâ€™ll need an account with a supported social login or use email for passwordless access.

- Google
- GitHub
- Twitch
- Discord

Use <https://dashboard.arcana.network> to log in with one of the available options.

Developer Dashboard Login Page

Aggregate Login

The [aggregate login](../../concepts/aggregatelogin/) feature in the Arcana Auth SDK merges login identities from social providers into one Arcana account if the email ID is the same across these providers. Developers can log into the Arcana Developer Dashboard using any supported provider and still access the same Arcana account and app settings.

## 1. Register App

Log into the Arcana Developer Dashboard to register the app. Create a new app. Jump to the next section if the app is already registered.

## 2. Configure Custom Auth

In the 'Manage Apps' screen, click **Configure** in the LHS navigation. Select **Social Auth** and scroll down to the section **Custom Auth**.

Update Custom Auth Settings

Provide inputs for the Custom Auth settings:

- **JWKS Endpoint**: This is a read-only URL exposed by the Custom Auth server or any other server that manages the cryptographic keys or JSON Web Keys (JWK) as per the [IETF RFC7517](https://datatracker.ietf.org/doc/html/rfc7517) standard.
- **User Identifier String**: Select the type of user identifier that the developer will share while integrating the app with the Arcana Auth SDK, as part of input parameters `CustomProviderParams` in the `loginWithCustomProvider()` function call. Choose one of the `sub`, `email` or a `custom` string.
- **Issuer**: A string identifier representing the principal who issued the JWT.
- **Audience**: A string identifier representing the recipient that the JWT is intended for.
- **JWT Validation (Optional)**: Specify one or more key, value pairs of attributes/claims that can be used to verify the JWT provided as the input parameter `CustomProviderParams` in the `loginWithCustomProvider()` function call.

Click **Save** after specifying the Custom Auth settings in the dashboard.

## 3. Get Custom Provider ID

In addition to the Client ID, every registered app configured for using Custom Auth is also allocated a unique **custom provider identifier**. It is displayed in the dashboard once the Custom Auth settings are updated. Make a note of the custom provider identifier.

Both, the Client ID assigned to the app after registration and the custom provider identifier is required later for [integrating the app using Custom Auth with the Arcana Auth SDK](../../auth/custom-auth/).

## What's Next?

After configuring, [integrate the Web3 app using Custom Auth](../../auth/custom-auth/) with the Auth SDK, use `loginWithCustomProvider` to assign keys to authenticated users securely. Then use the `AuthProvider` to issue JSON/RPC functions and Web3 wallet operations from within the app context.

## See Also

- [Dashboard User's Guide](../config-dApp-with-db/)
- [How does Custom Auth work?](../../concepts/authtype/custom-auth/)

# Custom Wallet UI Setup

Learn how to configure a custom wallet UI instead of the default, built-in wallet UI before using the Arcana Auth SDK to enable [social login](../../concepts/social-login/) and allow authenticated users to sign blockchain transactions.

## Prerequisites

To log into the Arcana Developer Dashboard, youâ€™ll need an account with a supported social login or use email for passwordless access.

- Google
- GitHub
- Twitch
- Discord

## 1. Dashboard Login

Use <https://dashboard.arcana.network> to log in with one of the available options.

Developer Dashboard Login Page

Aggregate Login

The [aggregate login](../../concepts/aggregatelogin/) feature in the Arcana Auth SDK merges login identities from social providers into one Arcana account if the email ID is the same across these providers. Developers can log into the Arcana Developer Dashboard using any supported provider and still access the same Arcana account and app settings.

## 2. Select Custom Wallet UI to Register

Use the dashboard to create a new app entry and [register the app](../config-auth/register-app/). While specifying the new app name and other details, specify the **Wallet UI Mode** setting as 'Custom UI'. By default, it is set to use the built-in, Arcana wallet UI. Then click the 'Create' button to confirm app registration. Once registered, you cannot change the **Wallet UI Mode** setting.

Choose Custom Wallet UI

Click **Create** after specifying the custom wallet UI option to register the app.

## What's Next?

[Configure the app](../config-auth/) to enable social login providers, manage chains and wallet user experience for signing blockchain transactions. Integrate the app with the SDK and onboard users. Issue [supported JSON/RPC and Web3 wallet operations](../../auth/web3-ops/evm/) in the authenticated user's context. Allow the users to sign blockchain transactions.

## See Also

- [Dashboard User's Guide](../config-dApp-with-db/)

# Solana Setup

This guide explains how to activate Solana, a [non-EVM blockchain](../../concepts/non-evm-chains/) in a Web3 app and allow users to sign blockchain transactions using the Arcana wallet.

Use the Arcana Developer Dashboard to first configure user onboarding settings, select Solana and tailor the blockchain signing experience for an app and then integrate the app with the Arcana Auth SDK.

## Prerequisites

To log into the Arcana Developer Dashboard, youâ€™ll need an account with a supported social login or use email for passwordless access.

- Google
- GitHub
- Twitch
- Discord

Use <https://dashboard.arcana.network> to log in with one of the available options.

Developer Dashboard Login Page

Aggregate Login

The [aggregate login](../../concepts/aggregatelogin/) feature in the Arcana Auth SDK merges login identities from social providers into one Arcana account if the email ID is the same across these providers. Developers can log into the Arcana Developer Dashboard using any supported provider and still access the same Arcana account and app settings.

## Register App

To register an app that uses the Solana network, create a new app and select the chain type as **Solana**. Select one of the Solana chains as the default chain.

Non-EVM Chains

When registering an app through Arcana Developer Dashboard, the choice of chain type (EVM, Solana, MultiversX, Near) is final. App developers can't change it later. They can switch the default chain within the same type. For example, a Solana app on Testnet can switch to Solana Mainnet or Solana Dev but not to MultiversX or an EVM chain.

Register Solana App

## Configure App

Refer to the [Arcana Developer Dashboard User's Guide](../config-dApp-with-db/) for details on how to configure the branding, social authentication providers and other settings. In this section, you will learn how to configure the Solana network for the app via the **Chain Management** configuration section.

### Manage Solana chains

In the *Manage Apps* screen select the requisite configuration profile to bring up the app dashboard page. In the LHS click **Configure** and select **Chain Management**.

You will see the available Solana chains that will be displayed when a user logs in and accesses the Arcana wallet.

### Default Chain

You can select one of the Solana networks and set it as the default chain. The default chain is shown as the selected chain in the Arcana wallet displayed in the app's context.

### Edit Chain

To edit a Solana chain's RPC URL or the blockchain explorer URL, select the chain, click **edit** and update the required fields.

Edit Solana Chain Settings

For more details on using the dashboard to delete an app, switch between different applications, change configuration profile, monitor usage, etc., see [Arcana Developer Dashboard User's Guide](../config-dApp-with-db/).

## Next Steps

After setting up Solana chains using the Arcana Developer Dashboard, you can begin integrating Solana app with the Arcana Auth SDK. See [Solana Quick Start Guide](../../quick-start/solana-quick-start/) for instructions on how to install and integrate the Arcana Auth SDK with your app. Once integrated, you can add code to onboard users and initiate Web3 wallet operations using the Solana network. Refer to the sample code [here](../../auth/web3-ops/solana/).

## See Also

- [Solana Quick Start Guide](../../quick-start/solana-quick-start/)
- [Web3 Wallet Operations for Solana](../../auth/web3-ops/solana/)
- [Integrating Solana App FAQ](../../faq/faq-solana/)
- [Solana App Integration Example](https://github.com/arcana-network/auth-examples)

# Unity Setup

This guide explains how to configure a Unity Web3 app and allow users to sign blockchain transactions using the Arcana wallet.

Use the Arcana Developer Dashboard to first configure user onboarding settings for the Unity app and then integrate the app with the Arcana Auth Unity SDK.

## Prerequisites

To log into the Arcana Developer Dashboard, youâ€™ll need an account with a supported social login or use email for passwordless access.

- Google
- GitHub
- Twitch
- Discord

Use <https://dashboard.arcana.network> to log in with one of the available options.

Developer Dashboard Login Page

Aggregate Login

The [aggregate login](../../concepts/aggregatelogin/) feature in the Arcana Auth SDK merges login identities from social providers into one Arcana account if the email ID is the same across these providers. Developers can log into the Arcana Developer Dashboard using any supported provider and still access the same Arcana account and app settings.

## Register App

To register a Web3 Unity app, log into the Arcana Developer Dashboard, create a new app and select the chain that must show up as the default chain in the wallet.

See [how to register a new App](../config-auth/register-app/) for details.

## Configure App

Refer to the [Arcana Developer Dashboard User's Guide](../config-dApp-with-db/) and configure the branding, social authentication providers and other settings.

## Unity Settings, SDK Installation

- Install [NuGetForUnity](https://github.com/GlitchEnzo/NuGetForUnity).

- In the NuGet Toolbar at the top, click **NuGet > Manage NuGet packages**.

  Manage NuGet Packages

- Install the following packages by STA: `Nethereum.Web3`, `WebsocketSharp.Core`

- Use the Unity Editor Project Settings window to edit package settings for your project. Click **Edit > Project Settings > Package Manager**.

  - [Edit Project Settings](https://docs.unity3d.com/Manual/class-PackageManager.html) with URL **https://npm-registry.arcana.network/** and set the scope to `com.cysharp.unitask, dev.voltstro`

    Edit Project Settings

  - Add another new scoped registry with URL **https://unitynuget-registry.azurewebsites.net** and set the scope to `org.nuget`.

    Add Scoped Registry

- In the NuGet window, use the NuGet Toolbar at the top, and click **Window > Package Manager > Add Package by Name**.

  Add Package by Name

- Add the following packages: `com.cysharp.unitask`, \`\`dev.voltstro.unitywebbrowser.engine.cef\`

  - **Windows**: `dev.voltstro.unitywebbrowser.engine.cef.win.x64`
  - **Linux**: `dev.voltstro.unitywebbrowser.engine.cef.linux.x64`
  - **MacOS**: `dev.voltstro.unitywebbrowser.engine.cef.macos.x64`

See [Unity Web Browser package list](https://projects.voltstro.dev/UnityWebBrowser/latest/articles/user/packages/#package-list) for details.

- Download the Arcana Auth Unity SDK package: [https://npm-registry.arcana.network/](https://npm-registry.arcana.network/-/web/detail/arcana-auth-sdk). Unzip the contents and copy them to the **Assets** folder of the Unity Project.

- Search for **ArcanaSDK** prefab in the 'Project Window' of the Unity Editor. Click **Assets > ArcanaSDK > Prefabs > ArcanaSDK**. Drag this prefab into the project 'Hierarchy' and configure the prefab as shown here:

  Configure Arcana Prefab

## Next Steps

After integrating an app with the Arcana Auth Unity SDK, developers can add code to [onboard users](../../auth/onboard/unity/) and [enable Web3 wallet operations](../../auth/web3-ops/unity-wallet-ops/) for authenticated users to sign transactions.

## See Also

- [Unity Auth Integration Example](https://github.com/arcana-network/auth-unity/tree/main/UnitySampleProject)

- Arcana Auth Unity SDK Quick Links

  - [Release notes](../../relnotes/latest-auth-release-note/)
  - [Changelog](https://github.com/arcana-network/auth-unity/releases)
  - [Download SDK](https://npm-registry.arcana.network/)

# MultiversX Setup

This guide explains how to use the Arcana Developer Dashboard and set up MultiversX network, a [non-EVM blockchain network](../../concepts/non-evm-chains/) so that MultiversX is pre-configured out of the box for Arcana wallet users.

## Prerequisites

To log into the Arcana Developer Dashboard, youâ€™ll need an account with a supported social login or use email for passwordless access.

- Google
- GitHub
- Twitch
- Discord

Use <https://dashboard.arcana.network> to log in with one of the available options.

Developer Dashboard Login Page

Aggregate Login

The [aggregate login](../../concepts/aggregatelogin/) feature in the Arcana Auth SDK merges login identities from social providers into one Arcana account if the email ID is the same across these providers. Developers can log into the Arcana Developer Dashboard using any supported provider and still access the same Arcana account and app settings.

## Register App

Log into the Arcana Developer Dashboard to register the app. Create a new app and select the chain type as **MultiversX**.

Non-EVM Chains

When registering an app through Arcana Developer Dashboard, the choice of chain type (EVM, Solana, MultiversX, Near) is final. App developers can't change it later. They can switch the default chain within the same type. For example, a Solana app on Testnet can switch to Solana Mainnet or Solana Dev but not to MultiversX or an EVM chain.

MultiversX Shard Selection

MultiversX uses [adaptive state sharding](https://docs.multiversx.com/technology/adaptive-state-sharding/) for horizontal scaling. Shards allow it to process far more transactions through parallelization, improving transaction throughput and efficiency.

Choose your shard once when registering a MultiversX app on the Arcana Developer Dashboard. It cannot be changed later.

By default, Arcana uses 'Shard 0' to deploy all app contracts and allocate wallet addresses for users. The benefit is that when addresses from the same shard interact with contracts on the same shard, latencies are much lower than in cross-shard interactions.

Register MultiversX App

## Configure App

The chain type and the default chain are already pre-configured during the app registration. Use the **Chain Management** configuration section to configure the MultiversX chains.

### Manage MultiversX chains

In the *Manage Apps* screen select the requisite configuration profile to bring up the app dashboard page. In the LHS click **Configure** and select **Chain Management**.

Select one of the available MultiversX chains displayed on the screen. You can mark it as default or edit the chain settings.

### Default Chain

Choose a chain and select the '...' displayed against the entry in the dashboard. A drop down menu will show up. Choose *Set as default* to mark that chain as the default chain.

By selecting a chain as the default, developers ensure that the same chain is automatically configured and displayed in the wallet when the user logs into the app. The authenticated user can instantly sign blockchain transactions on MultiversX, from within the app context, without having to configure the wallet.

### Edit Chain

To edit a MultiversX chain's RPC URL or the blockchain explorer URL, select the chain, click '...' and select **edit** option to update the required fields.

Edit MultiversX Chain Settings

For more details on how to configure other settings such as branding, social authentication providers, delete a registered app to re-register on a different chain type, monitor app usage, etc., see [Arcana Developer Dashboard User's Guide](../config-dApp-with-db/).

## Next Steps

After setting up MultiversX chains through the Arcana Developer Dashboard, you can begin integrating MultiversX app with the Arcana Auth SDK. See [MultiversX Quick Start Guide](../../quick-start/mvx-quick-start/) for instructions on how to install and integrate the Arcana Auth SDK with your app. Once integrated, you can add code to onboard users and initiate [Web3 wallet operations using the MultiversX network](../../auth/web3-ops/mvx/).

## See Also

- [MultiversX Quick Start Guide](../../quick-start/mvx-quick-start/)
- [Web3 Wallet Operations for MultiversX](../../auth/web3-ops/mvx/)
- [Integrating MultiversX App FAQ](../../faq/faq-mvx/)
- [MultiversX App Integration Example](https://github.com/arcana-network/auth-examples)

# Near Setup

This guide explains how to use the Arcana Developer Dashboard and set up Near blockchain network, a [non-EVM blockchain network](../../concepts/non-evm-chains/) so that the Arcana wallet users can seamlessly start using the Near networks.

## Prerequisites

To log into the Arcana Developer Dashboard, youâ€™ll need an account with a supported social login or use email for passwordless access.

- Google
- GitHub
- Twitch
- Discord

Use <https://dashboard.arcana.network> to log in with one of the available options.

Developer Dashboard Login Page

Aggregate Login

The [aggregate login](../../concepts/aggregatelogin/) feature in the Arcana Auth SDK merges login identities from social providers into one Arcana account if the email ID is the same across these providers. Developers can log into the Arcana Developer Dashboard using any supported provider and still access the same Arcana account and app settings.

## Register App

Log into the Arcana Developer Dashboard to register the app. Create a new app and select the chain type as **Near**.

Non-EVM Chains

When registering an app through Arcana Developer Dashboard, the choice of chain type (EVM, Solana, MultiversX, Near) is final. App developers can't change it later. They can switch the default chain within the same type. For example, a Solana app on Testnet can switch to Solana Mainnet or Solana Dev but not to MultiversX or an EVM chain.

Register Near App

## Configure App

The chain type and the default chain are already pre-configured during the app registration. Use the **Chain Management** configuration section to configure the Near chains.

### Manage Near chains

In the *Manage Apps* screen select the requisite configuration profile to bring up the app dashboard page. In the LHS click **Configure** and select **Chain Management**.

Select one of the available Near chains displayed on the screen. You can mark it as default or edit the chain settings.

### Default Chain

Choose a chain and select the '...' displayed against the entry in the dashboard. A dropdown menu will show up. Choose *Set as default* to mark that chain as the default chain.

By selecting a chain as the default, developers ensure that the same chain is automatically configured and displayed in the wallet when the user logs into the app. The authenticated user can instantly sign blockchain transactions on Near, from within the app context, without having to configure the wallet.

### Edit Chain

To edit a Near chain's RPC URL or the blockchain explorer URL, select the chain, click '...' and select **edit** option to update the required fields.

Edit Near Chain Settings

For more details on how to configure other settings such as branding, social authentication providers, delete a registered app to re-register on a different chain type, monitor app usage, etc., see [Arcana Developer Dashboard User's Guide](../config-dApp-with-db/).

## Next Steps

After setting up Near chains through the Arcana Developer Dashboard, you can begin integrating Near app with the Arcana Auth SDK. See [Near Quick Start Guide](../../quick-start/near-quick-start/) for instructions on how to install and integrate the Arcana Auth SDK with your app. Once integrated, you can add code to onboard users and initiate [Web3 wallet operations using the Near network](../../auth/web3-ops/near/).

## See Also

- [Near Quick Start Guide](../../quick-start/near-quick-start/)
- [Web3 Wallet Operations for Near](../../auth/web3-ops/near/)
- [Integrating Near App FAQ](../../faq/faq-near/)
- [Near App Integration Example](https://github.com/arcana-network/auth-examples)

# Dashboard Users Guide

The Arcana Developer Dashboard helps Web3 developers set up the Arcana Auth SDK configuration.

Log in, register your app, grab your unique Client ID, configure authentication settings, then install the Arcana Auth SDK and integrate it with the Web3 app.

Arcana Developer Dashboard

This guide covers how to:

- Log into the dashboard

- Register a Web3 app with Arcana

- Get Client ID

- Manage Configuration Profiles

  - Testnet/Mainnet
  - Switching configuration Profiles

- Configure Auth Settings

  - Branding
  - Social Login Providers
  - Chain Management
  - Wallet Customization
  - Login Session Management
  - Keyspace Type

- Switch application

- Monitor usage and billing

- Delete a registered app

## Prerequisites

To log into the Arcana Developer Dashboard, youâ€™ll need an account with a supported social login or use email for passwordless access.

- Google
- GitHub
- Twitch
- Discord

## Dashboard Login

Use <https://dashboard.arcana.network> to log in with one of the available options.

Developer Dashboard Login Page

Aggregate Login

The [aggregate login](../../concepts/aggregatelogin/) feature in the Arcana Auth SDK merges login identities from social providers into one Arcana account if the email ID is the same across these providers. Developers can log into the Arcana Developer Dashboard using any supported provider and still access the same Arcana account and app settings.

## Register Application

After logging into the dashboard, the *Manage Apps* screen is displayed. It contains one app card per registered app. The app card contains a summary of app usage statistics and buttons to view and edit the [configuration profiles](../../concepts/config-profiles/) for Testnet and Mainnet settings.

Manage Apps

To register the app, create a new app entry by clicking on the *Create New App* wizard.

Register by Creating New App

Provide the following inputs to register the app:

- App name
- Chain Type: EVM, Solana, MultiversX, Near
- Default Blockchain
- Wallet UI Mode

Add a unique name for the app. It can be edited later. After registration, a unique Client ID is associated with each app name. This Client ID does not change if the app name is edited later.

All emails related to a registered app billing or user login will mention the latest app name as displayed in the dashboard. Once an app is deleted, the Client ID is no longer valid. Creating a new app with the same name and registering it with Arcana will result in a new Client ID associated with the app.

Edit App Name

Click on the pen icon next to the app name. Click `Enter` in the editable text field to save the changes.

During registration, developers must choose between EVM chains or non-EVM chains supported by the app. The pre-configured chain list in the Arcana wallet will display only the configured chains.

Non-EVM Chains

When registering an app through Arcana Developer Dashboard, the choice of chain type (EVM, Solana, MultiversX, Near) is final. App developers can't change it later. They can switch the default chain within the same type. For example, a Solana app on Testnet can switch to Solana Mainnet or Solana Dev but not to MultiversX or an EVM chain.

Based on your chain type selection, you will see a list of supported chains. Choose one as the default. This default chain will appear as the current, active chain in the Arcana wallet when the user logs into the app integrated with the Arcana Auth SDK.

The [wallet UI mode](../../concepts/anwallet/walletuimodes/) setting allows the developers to choose whether they want to use the default, built-in Arcana wallet UI or build a custom wallet UI for the app users.

One Time Setting

The **Custom Wallet UI** option selected during app registration is a **one-time setting**. Once selected, the app cannot use the built-in Arcana wallet UI at all. Developers must create a custom wallet UI and plug in the requisite Web3 wallet operations.

Global Keyspace Not Supported

If the **Custom Wallet UI** option is selected during app registration, the app is assigned app-specific keys by default. The app configuration does not have the option to configure global [keyspace](../../concepts/keyspace-types/).

View Wallet UI Mode

Once specified during app-registration, the Wallet UI mode setting can be viewed later via the **Configure > Arcana Wallet** settings section in the app configuration profile.

Wallet UI Mode Setting

After providing all the required inputs, click **Create** to register the app.

Register dApp

The app is registered, and a unique Client ID is assigned. By default, every newly registered app is associated with a [Testnet configuration profile](../../concepts/config-profiles/).

New App Dashboard

## Get Client ID

After successful registration, the default Testnet configuration profile settings are displayed in the dashboard.

The Client ID assigned to the app is displayed on the top right. Note that the Client ID differs in Testnet and Mainnet configuration profiles.

To access the Mainnet Client ID, click dropdown on the top RHS and choose Mainnet. Copy the Mainnet Client ID displayed on the dashboard.

When deploying an app on the Arcana Mainnet, use the Client ID associated with the Mainnet configuration profile.

Get Client ID

## Manage Configuration Profiles

Each registered app is displayed in the 'Manage Apps' dashboard. A [Testnet configuration profile](../../concepts/config-profiles/) is associated with each app by default. The 'Mainnet' button is disabled for a newly registered app. For Mainnet deployment, the developer must create a new Mainnet profile.

Testnet vs. Mainnet Settings

Both Testnet and Mainnet configuration profiles are maintained separately. Each profile is associated with a unique **Client ID**.

To view Testnet configuration settings, click the 'Testnet' button on the app card in the 'Manage Apps' screen. The usage metrics page will open. A dropdown labeled 'Testnet' at the top right confirms you're viewing the app's Testnet settings.

App Configuration Settings

### Testnet

To view or edit the Testnet configuration settings, browse the 'Manage Apps' screen, locate the app card, and click 'Testnet.'

Testnet Client ID

### Mainnet

Browse the 'Manage Apps' screen to find your app card. If the 'Mainnet' configuration profile exists, the 'Mainnet' button will be enabled. Click 'Mainnet' to view the application usage metrics and the 'Mainnet' profile. If the button is disabled, the 'Mainnet' profile hasn't been created yet. To create it, view the 'Testnet' profile by clicking the app card. On the usage metrics page, find the dropdown in the top right, click it, and select 'Mainnet' to create the configuration profile.

Select Testnet/Mainnet Settings

Selecting 'Mainnet' for the first time opens a pop-up with two options to create the 'Mainnet' configuration profile:

- Copy Testnet Profile
- Create a new Mainnet Profile.

Switch to Mainnet Settings

Use one of these options to create the 'Mainnet' profile. A new **Client ID** is assigned to the Mainnet configuration profile. To deploy the app on Mainnet, this new **Client ID** must be updated in the integration code. [Learn more...](../../deploy/migrate-testnet-mainnet/)

Update Redirect URIs

After creating the 'Mainnet' profile, developers **must** also update the social login provider 'Redirect URI' settings via the respective provider developer consoles or dashboards.

Copy the 'Redirect URI' displayed for the 'Mainnet' profile and update this value in the social login provider's developer console. For e.g., for Google, update the Redirect URI in the Google Developer Console. [Learn more...](../config-social/google-oauth/)

Example: Copying Google Profile

If Google is enabled in your app's 'Testnet' profile, then during the configuration of the social login provider through the Google Developer console, the Testnet redirect URI was added. Copy the 'Mainnet' profile redirect URI value from the Arcana Developer Dashboard and update them in the Google Console OAuth settings.

Ensure you add the 'Mainnet' redirect URI value for the other social login providers enabled in the 'Testnet' profile. This is required for enabling your app to use the Arcana Mainnet.

The figure below shows how the 'redirect URI' differs from the Testnet Settings where Google and Twitch were configured, and the 'Testnet' profile was copied to create a 'Mainnet' profile.

Mainnet Redirect URI

### Switch Profile

When both Testnet and Mainnet profiles are linked to the app, switch profiles using one of the following options:

- On the Manage Apps page, click Testnet or Mainnet to change the configuration profile view.
- On the app settings page, use the dropdown in the top right to switch between Testnet and Mainnet.

If the Mainnet profile isnâ€™t created, use the dropdown on the 'Testnet' page to create it. After creation, the dashboard will automatically switch to the Mainnet settings.

App Settings: Switch to Testnet/Mainnet Profile

Manage Apps: Switch to Testnet/Mainnet Profile

## Configuration Settings

To configure Arcana wallet usage settings, the app must be registered. Click on the registered app card in the 'Manage Apps' screen to view the configuration settings and edit them.

### Settings Overview

Click **Configure** in the LHS navigation pane of the Arcana Developer Dashboard to view the following configuration categories:

Auth Settings

The **Branding** settings control the look and feel of the embedded Arcana wallet displayed in an app's context.

- Upload Logo
- Wallet Theme

See [how to configure branding](../config-wallet/config-wallet-branding/) for details.

Branding Settings

The **Social Auth** settings manage the user onboarding experience and control which social login providers are available for app login.

- Social Auth
- Identity Access Managers
- Custom Auth

Developers can enable one or more providers for app login. Passwordless login is automatically enabled for all registered apps. See [how to configure authentication providers](../config-auth/), for details.

Redirect URI

The Redirect URI field in the **Social Auth** section of the dashboard lists an auto-generated URL. This URL value is used as input when configuring the social login providers.

Social Auth Settings

The **Chain Management** settings control which chains will be displayed as the default active chain in the wallet from the list of pre-configured chains available out of the box for apps that integrate with the Arcana Auth SDK.

Chain Management Settings

- Add Chains
- Edit Chains
- Set Default Chain

Set Default Chain

For details, see [how to manage chains](../config-wallet-chains/).

The **Arcana wallet** settings display whether the app is registered using the built-in, default wallet UI or a custom UI. It also allows for domain restriction whereby the Arcana wallet can be loaded successfully within an app's context.

- Wallet Domain
- Wallet UI

See [wallet UI configuration](../config-wallet/config-wallet-settings/) for details.

Wallet Settings

The login session management settings display whether the app is configured to use [persistent or non-persistent session](../../concepts/session_type/) (default) type.

For the persistent session, the developers can view and update the specified time for which the authenticated user login session is persisted (in minutes). Once a user closes the browser and reopens within this specified period, the user is automatically logged in. [Learn more...](./#login-session-management)

Session Management

Not available for Custom Wallet UI

Apps that are registered with the *Custom Wallet UI* option are not allowed to configure keyspace settings. By default, such apps can only use the app-specific keys.

The following **Keyspace** settings control whether the wallet address for the user remains the same across all the apps that are integrated with the Arcana Auth SDK or are unique for each app.

- App-Specific Keys (default)
- Global Keys

Learn more about [App-specific and global keys](../../concepts/keyspace-types/) and how to set up [keyspace](./#configure-keyspace).

Keyspace: Global/App-Specific Keys

**Save** the configuration settings to make sure the setting changes take effect.

Save Configuration Updates

### Branding

To view and edit the look and feel of the embedded Arcana wallet, use **Manage Apps > App Card > Testnet/Mainnet Configuration** to view the app settings. In the LHS menu, click **Configure > Branding**.

See [how to configure branding](../config-wallet/config-wallet-branding/) for details.

### Social Auth

To view and edit the [social login](../../concepts/social-login/) provider's settings for a registered app, use **Manage Apps > App Card > Testnet/Mainnet Configuration** to view the app settings. In the LHS menu, click **Configure > Social Auth**.

The dashboard screen will display all the user onboarding options and configuration settings to enable them. Note that each user onboarding option may have different settings. Select the onboarding option and provide the required configuration values.

See [how to configure social login](../) for details.

Login Providers: Social, IAM, Custom

Besides the social login providers, Arcana Auth SDK also supports [IAM Providers](../config-idm/) and [Custom Auth](../config-custom-auth/) options to onboard users.

### Chain Management

Arcana Auth SDK provides a subset of supported blockchains out of the box, and these chains are displayed in the in-app Arcana wallet by default. Developers can configure this list of supported, pre-configured chains in the Arcana wallet and pick up one of the chains as the default active chain in the wallet.

To view and edit the wallet chains, click **Manage Apps > App Card > Testnet/Mainnet Configuration** to bring up the app usage metrics page in the dashboard. In the LHS menu, click **Configure > Chain Management**.

An-note

Arcana Auth SDK supports both EVM and non-EVM chains. When registering the app using the dashboard, the decision to use EVM or non-EVM chains must be made.

If the EVM chain type is selected during app registration, then the pre-configured chain list will consist of only the EVM-compatible chains as available options. Similarly, if a non-EVM chain, Solana, is selected during app registration, the chain options displayed will be only those belonging to the Solana ecosystem. Developers can switch chains from among the ones that are displayed. Switching from an EVM chain to a non-EVM chain is impossible once an app is registered.

For details, see [how to manage chains](../config-wallet-chains/).

#### Configure Non-EVM Chains

Use the dashboard to enable [non-EVM chains](../../concepts/non-evm-chains/) in your Web3 apps.

- [Solana](../config-dApp-with-db-for-Solana/)
- [MultiversX](../config-dApp-with-db-for-mvx/)
- [Near](../config-dApp-with-db-for-near/)

### Arcana Wallet Customization

To view and edit the wallet settings, click **Manage Apps > App Card > Testnet/Mainnet Configuration** and bring up the app usage metrics page in the dashboard. In the LHS menu, click **Configure > Arcana Wallet**.

See [how to configure wallet settings](../config-wallet/config-wallet-settings/) for details.

### Login Session Management

To view and edit the login session management settings, click **Manage Apps > App Card > Testnet/Mainnet Configuration** and bring up the app usage metrics page in the dashboard. In the LHS menu, click **Configure > Login Session Management**.

Choose between persistent and non-persistent session types to manage whether the user must re-login to the app after closing the browser or they are automatically logged in within a specified window of time.

In the *Manage Apps* screen, select the app card, and click on the configuration profile to view setting details. You will see the app configuration settings dashboard screen. In the LHS navigation, select **Configure > Session Management** settings.

Session Management

You can view and change the session type or the *Require login after* time setting later as well. Apps that require the user to be immediately logged out automatically, if they close the browser window without explicitly logging out, should choose the default **Non-Persistent** setting.

Persistent Session

When selecting the persistent session type, specify the 'Require log in after\` value. This setting is not required for non-persistent sessions. The specified time determines how long the session persists, allowing users to close and reopen the browser without needing to log in again.

Session Management

### Configure Keyspace

To view and edit the keyspace settings for the app, click **Manage Apps > App Card > Testnet/Mainnet Configuration** and bring up the app usage metrics page in the dashboard. In the LHS menu, click **Configure > Keyspace**.

Arcana offers two types of keyspace options for keys assigned to the Web3 apps: [App-specific and Global Keys](../../concepts/keyspace-types/).

**App-specific** keys are the default.

Keyspace Options

## Switch Application

To switch viewing configuration settings from one application configuration profile screen to another, click on the dropdown next to the application name in the LHS navigation. You will see other registered applications in your account. Select another app name in the dropdown to view its configuration settings.

'Manage Apps' is the last entry in the dropdown. Click 'Manage Apps' to access the dashboard landing page with the app cards. Switch to another app by clicking on the app card.

Switch Application

## Monitor Usage

Developers can monitor their registered application usage statistics via the Arcana Developer Dashboard. The *Manage Apps* screen displays the account-level usage metrics for all the applications registered in the developer account. Click on the app card to drill down into the application-specific usage details.

### Account Usage Metrics

The *Manage Apps* screen displays Monthly Active Users (MAU) for the developer account. This is an aggregate score across all applications registered for a developer account and configured to use the Arcana Mainnet. Any application using the 'Testnet' is not billed or included in the overall account usage statistic.

App Usage Metrics

Mainnet Billing

The billing data only applies to Mainnet usage and will be available in the forthcoming releases.

### Usage per Application

Arcana maintains per-application usage statistics separately for the 'Testnet' and 'Mainnet' configuration profiles.

The *Manage Apps* dashboard screen lists all registered applications as cards. Each application card displays the 'Total Users' statistic. This refers to the monthly active application users utilizing the Arcana Testnet/Mainnet. To view per-application usage details, click on the app card and select 'Testnet' or 'Mainnet' profile to see the following statistics:

- Number of logged-in users

Use the 'Daily' and 'Monthly' tabs to see the respective usage statistics.

Daily/Monthly Usage

Use the dropdown in the top right of the application dashboard screen to select Testnet/Mainnet usage details.

Testnet/Mainnet Usage Statistics

## Billing

Arcana tracks the Mainnet app usage in terms of MAU for every developer account. At the end of every month, an invoice is generated. The chargeable amount against the invoice is auto-deducted using the payment method configured by the developer in their profile section.

To begin using the Arcana Auth SDK, the app developers don't need to update the profile details, including the billing information. The developer must provide the billing details via the profile section of the Arcana Developer Dashboard once the app uses up all the available free tiers of Arcana Mainnet usage. Otherwise, the registered apps will be suspended and users will not be allowed to log in to any registered app using the developer account.

For details on current pricing and free tier limits, contact our [Arcana support](../../support/).

### Payment Method Setup

Click on the user icon on the top right of the Arcana Developer Dashboard screen. Select **Profile** in the dropdown.

Payment Method Setup

You will see the developer's Arcana account profile details. The developer account **name** and **public identifier** (email) are automatically retrieved based on the account used to log into the Arcana Developer Dashboard.

Developers must update the following profile details and then click **Save**.

- Organization
- Billing Address Details
- Payment Method

Billing Details

Payment Method

By default, the 'Payment Method' section is disabled. It is enabled once the billing address details are configured.

### View Invoices

Click on the user icon on the top right of the Arcana Developer Dashboard screen. Select **Invoices** in the dropdown.

View Invoices

On the **Invoices** page, you will see the details of the current pending dues, followed by the billing history of previous invoices that can be downloaded for reference.

Invoice Details

### View Billing Notifications

Click the bell icon to view all notifications for the developer account. Check the [billing notifications](../../concepts/billing/#billing-notifications) list for details.

Billing Notifications

## Delete Application

To de-register an application, delete the entry in the 'Manage Apps' screen of the Arcana Developer Dashboard.

Dashboard: Manage Apps

Select the application you wish to de-register and click on the delete icon. Confirm delete action.

Delete/De-register App

## See Also

- [Configure Social Login](../)
- [Configure Wallet Settings](../config-wallet/)
- [Manage Chains](../config-wallet-chains/)
- [Configure Custom Auth Settings](../config-custom-auth/)

# Manage Chains

This guide will show you how to handle the list of chains that your app users can use to sign blockchain transactions.

Arcana Auth SDK works with all EVM-compatible blockchain networks and selected [non-EVM chains](../../concepts/non-evm-chains/).

Only a subset of all the supported chains is available as the [pre-configured list](../../web3-stack/chains/) displayed in the Arcana Developer Dashboard. Developers can use and tweak this pre-configured list and control which chains are available out of the box in the Arcana wallet UI once a user logs into the app integrated with the Arcana Auth SDK. Ethereum is selected as the active chain in the list by default. Developers can change the active chain that shows up as the **selected chain** in the wallet UI.

Developers can programmatically add supported chains and issue blockchain transactions in the app seeking the user's approval. Authenticated users can also add any supported blockchain network that is not already displayed in the Arcana wallet UI. User-made changes to the wallet chain list are effective only for the current session. However, any additional supported chains added to this pre-configured list by the app developer are always available to the wallet users.

## Prerequisites

- Make sure you can access the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- The [app must be registered](../config-auth/register-app/) using the [Arcana Developer Dashboard](../../concepts/dashboard/).

*Follow these steps to manage the list of pre-configured chains displayed in the in-app Arcana wallet.*

## 1: Dashboard Log-in

Log in to the Arcana Developer Dashboard and click your registered app entry from the 'Manage Apps' screen. Click **Configure** in the LHS navigation area. Select **Chain Management** to configure the default subset of supported chains.

Dashboard: Chain Management

The chain configuration UI is displayed:

Chain Management Settings

## 2: Review Chain Settings

Developers can enable either EVM chains or non-EVM chains in the context of a Web3 app integrated with Arcana Auth SDK. The **chain type** selection is a one-time setting during app registration and cannot be reconfigured later. While reviewing chains, you can see whether the app is configured to use EVM chains or only the non-EVM chains.

### EVM Chains

Browse the EVM chains displayed in the pre-configured list of chains in the dashboard. Select the active chain. The chain marked active is displayed as the pre-selected chain in the wallet UI once the user logs in.

Pre-configured EVM Chains

Developers can add other EVM chains to the out-of-the-box, pre-configured list. This list governs the list of chains available and displayed in the Arcana wallet UI for the authenticated users. By default, for non-EVM chain type, **Ethereum** is set as the active chain.

Pre-configured EVM Chains

### Non-EVM Chains

The following [non-EVM chains](../../concepts/non-evm-chains/) are supported and displayed in the list of pre-configured chains in the Arcana Developer Dashboard.

- Solana
- MultiversX
- Near

The selection of non-EVM or EVM chain types for an app is made at the time of app registration. Only the chains belonging to the selected non-EVM chain type are available in the pre-configured list of chains displayed in the dashboard.

The Testnet is selected as the default chain. Developers can change the default chain to say the 'Dev' network or the Mainnet. If the 'EVM' chain type is selected during the app registration, then the developer or wallet user can switch the active app chain from one EVM chain to another at a later point in time. However, the same is not possible across EVM and non-EVM chains or between two non-EVM chain types.

Once an app is registered for a non-EVM chain, the default active chain can be switched to one of the networks available for that particular chain type. For example, if Solana is selected as the chain type, then only the following network options are available: Solana, Solana Testnet, Solana Dev.

#### Solana

Solana Pre-configured Chains

See [how to set up Solana](../config-dApp-with-db-for-Solana/) and [Solana Quick Start Guide](../../quick-start/solana-quick-start/) for more details.

#### MultiversX

MultiversX Pre-configured Chains

See [how to set up MultiversX](../config-dApp-with-db-for-mvx/) and [MultiversX Quick Start Guide](../../quick-start/mvx-quick-start/) for more details.

#### Near

Near Pre-configured Chains

See [how to set up Near](../config-dApp-with-db-for-near/) and [Near Quick Start Guide](../../quick-start/near-quick-start/) for more details.

## 3: Default Active Chain

When a user logs into the wallet, the default active chain is selected. To switch to a different default chain, select the new chain in the Arcana Developer Dashboard, click "..." ellipses and choose 'set as default' option. The figure below illustrates Polygon as the default active chain.

Set Polygon as the Active Chain

Non-EVM Chains

If the chain type selected during app registration is a non-EVM chain type, then you will not see any EVM-compatible chains displayed in the dashboard.

Once a non-EVM chain type is selected, developers can further choose one as the default active chain from amongst the network options displayed in the dashboard for that chain type.

## 4: Add Chain

### EVM Chains

Click the **Add Chain** button on the top right of the 'Chain Management' dashboard screen. Any newly added chain is automatically set as the default chain displayed in the wallet UI.

To add a blockchain, specify the following details and click **Save**.

- Network Name
- Chain Id
- Currency Symbol
- RPC URL
- Block Explorer URL
- Testnet/Mainnet Chain Type

Add New Chain

Once you click **Save**, the newly added chain will be displayed in the dashboard and also shown in the wallet UI once a user logs into the app.

Dashboard: Newly Added Chain

Wallet: Newly added Chain

### Non-EVM Chains

In the current release, only some selected non-EVM chains, such as [Solana](../config-dApp-with-db-for-Solana/), [MultiversX](../config-dApp-with-db-for-mvx/), and [Near](../config-dApp-with-db-for-near/) are supported and available in the pre-configured chain list. Other non-EVM chains will be supported in the upcoming releases.

**Developers cannot arbitrarily add any other non-EVM chains to this pre-configured list of chains, either through the dashboard or programmatically**.

To learn more about the list of supported chains, see [supported blockchains](../../web3-stack/chains/).

**That's all!**

## What's Next?

Besides managing the pre-configured list of chains via the Arcana Developer Dashboard configuration settings, a developer can also add other supported EVM-compatible chains programmatically to the wallet via the `wallet_addEthereumChain` method. To do that, the app must be integrated with the Arcana Auth SDK and the `AuthProvider` initialized before calling any of the SDK functions.

For details refer to the [Arcana Auth SDK Usage Guide](../../auth/auth-usage-guide/#wallet_addethereumchain).

## See also

- [Arcana Auth SDK Errors](../../auth/auth-error-msg/)
- [Arcana Auth SDK Usage Guide](../../auth/auth-usage-guide/)
- [Configure Solana Chains](../config-dApp-with-db-for-Solana/)
- [Configure MultiversX Chains](../config-dApp-with-db-for-mvx/)
- [Configure Near Chains](../config-dApp-with-db-for-near/)
- [Auth SDK Reference](https://authsdk-ref-guide.netlify.app/)

# Dashboard Usage Errors

The Arcana Developer Dashboard is used to register the Web3 app, configure Arcana Auth SDK usage settings before installing and integrating the SDK with the Web3 app.

This guide lists common dashboard usage errors and potential causes.

## Error Messages

| Error | Description | | --- | --- | | Login providers are disabled as you have chosen Global keys. | Developers are not required to specify social login provider configuration if global keyspace option is selected. | | Error occurred while saving keyspace. Try again or contact support! | When switching between keyspace type there was some error in saving the current settings. | | Error occurred while submitting the form. Try again or contact support! | Check the various form input fields and ensure all required fields are filled in appropriately. | | Error occurred while saving the IAM auth credentials. | Error while saving the configuration settings for social auth configuration such as Cognito or Firebase. | | Error occurred while saving the social auth. | Check social login provider settings. There may be an issue between dashboard and the backend while saving those settings. | | Error occurred while saving the wallet configurations. | There may be some issue in saving the settings from the dashboard to the backend. | | Unable to delete the app at the moment. Please try again or contact support. | The dashboard is not able to get a confirmation of app settings deletion from the backend. | | Error occurred while creating mainnet app. | The dashboard is not able to communicate with the backend and get a success status for app creation request. | | No Card Added. | For billing, user must add payment details. After free MAU are exhausted, billing will resume on a monthly basis. | | Unable to copy. Please try again or contact support. | Issue with the redirect UI setting in the dashboard. Either the setting was not provided or failed to be saved in app settings due to a backend issue. | | Can't delete Default chain. | Chains that are pre-configured in the wallet cannot be deleted. New supported chains can be added and set as default. While deleting a default some error occurred while saving the settings at the backend. |

# Overview

## Auth Settings

[Social Providers](../) [IAM Providers](../config-idm/) [Passkeys](../config-auth-passkeys/)

[Manage Chains](../config-wallet-chains/)

[Wallet UX](../config-wallet/)

[Gaming: Unity Setup](../config-dApp-with-db-for-Unity/)

______________________________________________________________________

## Advanced

[Custom Auth](../config-custom-auth/) [Custom Wallet UI](../config-custom-wallet-ui/)

# Register App

Learn how to register a Web3 app through the [Arcana Developer Dashboard](../../../concepts/dashboard/) before using the Arcana Auth SDK to enable social login and allow users to sign blockchain transactions via the Arcana wallet.

## Prerequisites

To log into the Arcana Developer Dashboard, youâ€™ll need an account with a supported social login or use email for passwordless access.

- Google
- GitHub
- Twitch
- Discord

## Steps

### 1. Dashboard Login

Use <https://dashboard.arcana.network> to log in with one of the available options.

Developer Dashboard Login Page

Aggregate Login

The [aggregate login](../../../concepts/aggregatelogin/) feature in the Arcana Auth SDK merges login identities from social providers into one Arcana account if the email ID is the same across these providers. Developers can log into the Arcana Developer Dashboard using any supported provider and still access the same Arcana account and app settings.

### 2. Create a New App

After logging into the dashboard, the *Manage Apps* screen is displayed. It contains one app card per registered app. The app card contains a summary of app usage statistics and buttons to view and edit the [configuration profiles](../../../concepts/config-profiles/) for Testnet and Mainnet settings.

Manage Apps

To register the app, create a new app entry by clicking on the *Create New App* wizard.

Register by Creating New App

Provide the following inputs to register the app:

- App name
- Chain Type: EVM, Solana, MultiversX, Near
- Default Blockchain
- Wallet UI Mode

Add a unique name for the app. It can be edited later. After registration, a unique Client ID is associated with each app name. This Client ID does not change if the app name is edited later.

All emails related to a registered app billing or user login will mention the latest app name as displayed in the dashboard. Once an app is deleted, the Client ID is no longer valid. Creating a new app with the same name and registering it with Arcana will result in a new Client ID associated with the app.

Edit App Name

Click on the pen icon next to the app name. Click `Enter` in the editable text field to save the changes.

During registration, developers must choose between EVM chains or non-EVM chains supported by the app. The pre-configured chain list in the Arcana wallet will display only the configured chains.

Non-EVM Chains

When registering an app through Arcana Developer Dashboard, the choice of chain type (EVM, Solana, MultiversX, Near) is final. App developers can't change it later. They can switch the default chain within the same type. For example, a Solana app on Testnet can switch to Solana Mainnet or Solana Dev but not to MultiversX or an EVM chain.

Based on your chain type selection, you will see a list of supported chains. Choose one as the default. This default chain will appear as the current, active chain in the Arcana wallet when the user logs into the app integrated with the Arcana Auth SDK.

The [wallet UI mode](../../../concepts/anwallet/walletuimodes/) setting allows the developers to choose whether they want to use the default, built-in Arcana wallet UI or build a custom wallet UI for the app users.

One Time Setting

The **Custom Wallet UI** option selected during app registration is a **one-time setting**. Once selected, the app cannot use the built-in Arcana wallet UI at all. Developers must create a custom wallet UI and plug in the requisite Web3 wallet operations.

Global Keyspace Not Supported

If the **Custom Wallet UI** option is selected during app registration, the app is assigned app-specific keys by default. The app configuration does not have the option to configure global [keyspace](../../../concepts/keyspace-types/).

View Wallet UI Mode

Once specified during app-registration, the Wallet UI mode setting can be viewed later via the **Configure > Arcana Wallet** settings section in the app configuration profile.

Wallet UI Mode Setting

After providing all the required inputs, click **Create** to register the app.

Register dApp

The app is registered, and a unique Client ID is assigned. By default, every newly registered app is associated with a [Testnet configuration profile](../../../concepts/config-profiles/).

New App Dashboard

Save Client ID

Each registered app is assigned a unique **Client ID**. It is displayed on the top right of the dashboard screen. It is required during Web3 app integration with the Arcana

Arcana Client ID for Registered App

The [Testnet Client ID](../../../deploy/deploy-app/) differs from the [Mainnet Client ID](../../../deploy/migrate-testnet-mainnet/).

## What's next?

After registering the app, [configure the user onboarding](../) settings and [integrate the app](../../../auth/integrate/vanilla-html-css-js/) to onboard users and allow them to sign blockchain transactions via the Arcana wallet.

## See Also

- [Deleting Application Entry](../../config-dApp-with-db/#delete-application)
- [Managing Testnet and Mainnet Configurations](../../config-dApp-with-db/#manage-configuration-profiles)
- [Arcana Auth SDK Usage Guide](../../../auth/auth-usage-guide/)
- [FAQ](../../../faq/faq-gen/)

[Try Demo App](https://demo.arcana.network)

# IAM Providers Setup

[Cognito](cognito-oauth/) [Firebase](firebase-auth/)

Apps using IAM Providers

Apps usually use Arcana Auth SDK for user onboarding and blockchain transaction signing. Authentication providers must be set up in the Arcana Developer Dashboard before integrating with the SDK.

Some apps might use third-party IAM providers like AWS Cognito for authentication but still use Arcana Auth SDK to access Arcana wallet. The setup is different since third-party IAM providers support authentication verifiers like Google directly.

Developers only need to set up the IAM provider in the Arcana Developer Dashboard. They don't need to configure authentication verifiers that work directly with the IAM providers. Use the IAM provider's console, like Cognito Developer Console, to set up authentication verifiers like Google, not the Arcana Developer Dashboard.

# Setup Cognito

Configuring Cognito for apps using **global keys** differs from apps using **app-specific keys**.

### Prerequisites

- Log in to the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- [Register](../../config-auth/register-app/) the app by creating a new app entry in the dashboard.

Client ID

A default [Testnet configuration profile](../../../deploy/deploy-app/) is associated with every registered app. A unique **Client ID** is assigned for the Testnet profile. Only passwordless login is enabled by default.

A newly registered app can be deployed at the Arcana Testnet. Developers must create a Mainnet configuration profile to [deploy it on the Mainnet](../../../deploy/migrate-testnet-mainnet/). A new, unique Client ID is assigned to the Mainnet profile.

Unique App Identifier: ClientID

## Global Keys

Apps that require [global keys](../../../concepts/keyspace-types/) feature **do not need to configure the Social Auth settings** in the Arcana Developer Dashboard.

User onboarding via Cognito is automatically turned on for the app when global keys are enabled.

Global Keys Setting

Global Keys Configuration Change

In the earlier versions of the Arcana Auth SDK, apps using **global keys** were required to configure **Social Auth** settings for the providers. This behavior has changed in the latest release of the Arcana Auth SDK.

If an app was configured for any social login providers and switches over from app-specific to global keyspace later, the **Social Auth** settings will be disabled altogether.

Global Keys: Social Auth Settings Disabled

## App-specific Keys

Follow these steps to configure the **Social Auth** settings and enable user onboarding via Cognito. It requires developers to use the Arcana Developer Dashboard and the [AWS Management Console](https://docs.aws.amazon.com/cognito/latest/developerguide/cognito-user-pools-app-idp-settings.html).

### 1. Get Redirect URI

Select the app in the **Manage Apps** dashboard screen and click Testnet/Mainnet to configure Cognito in the respective configuration profile. Go to **Configure > Social Auth**. Copy the redirect URI shown on the top right.

Get Redirect URI

Do not close the **Social Auth** browser tab in the Arcana Developer Dashboard.Open another tab and set up AWS Cognito OAuth.

### 2. AWS Management Console

Go to the [AWS Management Console](https://docs.aws.amazon.com/cognito/latest/developerguide/cognito-user-pools-app-idp-settings.html) and register your app as a new Cognito client application. Log in to the console, search for 'Cognito' and you will see the Cognito setup dashboard. Use the Cognito setup dashboard to add the app as a Cognito client in the context of a Cognito 'User Pool'. If a Cognito 'User Pool' is not already set up, create a new User Pool first as highlighted in the figure below.

Cognito Sign-in Options

**Email ID** must be selected as one of the Cognito sign-in options.

AWS Management Console

If a user pool is already set up, select it from the list and double-click on it to see the details. Refer to the **App Integration** tab settings and click **Create App Client** on the bottom right of the page.

Create Cognito App Client

You will see the **Create Client** dashboard screen. You need to specify the following settings for your app and update the requisite fields in the console:

- App Type: *Public Client*
- App Client Name: *Enter the app name*
- Client Secret: *Select the 'Do not generate client secret' option*
- Authentication Flows: *Select ALLOW_REFRESH_TOKEN_AUTH*

Next, scroll down to the **Hosted UI** section and refer to the **Allowed Callback URLs** field. In this field, add the **Redirect URI** copied from the Arcana Developer Dashboard in the previous step.

Update Allowed Callback URLs

Make sure you add *Cognito User Pool* in the **Identity Provider** section of the settings as shown in the figure above. Save the *Cognito User Pool Domain* value as it will be required along with the *Client ID* in the next step.

For the **OAuth 2.0 Grant Type** setting, make sure you specify *Authorization Code Grant* and *Implicit Grant* values as shown in the figure below:

Cognito OAuth2.0 Grant Type

In the **Custom Scope** section, ensure that the attribute **EmailID** has read access. This is used by Arcana Auth SDK to enable the [aggregate login](../../../concepts/aggregatelogin/) feature.

Save the new client app settings. You will see the new client app entry in the user pool page under the **App Client List** section.

Client App List

Copy the **ClientID** that is automatically generated by Cognito for the newly registered Client App. Also save the **Cognito User Pool Domain** value displayed in the dashboard. It will be required in the next step while completing the app configuration using the Arcana Developer Dashboard.

### 3. Update Social Auth

In the Arcana Developer Dashboard, click **Configure > Social Auth**. Refer to the empty fields next to the "Cognito" setting. Paste the **Client ID** and the **Cognito User Pool Domain** saved from the AWS Management Console in the previous step.

Dashboard: Update Cognito ClientID

Save the **Social Auth** settings.

*You are all set with the Cognito configuration.*

# Setup Firebase

Configuring Firebase for apps using **global keys** differs from apps using **app-specific keys**.

### Prerequisites

- Log in to the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- [Register](../../config-auth/register-app/) the app by creating a new app entry in the dashboard.

Client ID

A default [Testnet configuration profile](../../../deploy/deploy-app/) is associated with every registered app. A unique **Client ID** is assigned for the Testnet profile. Only passwordless login is enabled by default.

A newly registered app can be deployed at the Arcana Testnet. Developers must create a Mainnet configuration profile to [deploy it on the Mainnet](../../../deploy/migrate-testnet-mainnet/). A new, unique Client ID is assigned to the Mainnet profile.

Unique App Identifier: ClientID

## Global Keys

Apps that require [global keys](../../../concepts/keyspace-types/) feature **do not need to configure the Social Auth settings** in the Arcana Developer Dashboard.

User onboarding via Firebase is automatically turned on for the app when global keys are enabled.

Global Keys Setting

Global Keys Configuration Change

In the earlier versions of the Arcana Auth SDK, apps using **global keys** were required to configure **Social Auth** settings for the providers. This behavior has changed in the latest release of the Arcana Auth SDK.

If an app was configured for any social login providers and switches over from app-specific to global keyspace later, the **Social Auth** settings will be disabled altogether.

Global Keys: Social Auth Settings Disabled

## App-specific Keys

Follow these steps to configure the **Social Auth** settings and enable user onboarding via Firebase. It requires developers to use the Arcana Developer Dashboard and the [Firebase Console](https://console.firebase.google.com/).

### 1. Get Firebase Project ID

Go to the [Firebase Console](https://console.firebase.google.com), and create a new project for the app that requires enabling Firebase login.

Add Firebase Project

Note the **Project ID** that is automatically generated by Firebase for the newly created project. It will be required in the next step while completing the app configuration using the Arcana Developer Dashboard.

After creating a Firebase project, register the app with Firebase. For example, to register a web app, in the center of the Firebase console's project overview page, click the Web icon to launch the web app registration workflow.

Register Firebase App

Follow the on-screen instructions to add and initialize the Firebase SDK in your app.

Set up Firebase SDK

You will be required to access the Firebase services such as authentication in your app. That requires you to install and configure the Firebase SDK before integrating the app with the Arcana Auth SDK.

### 2. Update Social Auth

Go to the Arcana Developer Dashboard. Click **Configure > Social Auth** and refer to the Identity Access Managers section. Click **Firebase**. Paste the **Project ID** assigned by Firebase Console in the 'Project ID' field.

Update Firebase Project ID

Save the **Social Auth** settings.

*You are all set with the Firebase configuration.*

Plug-and-play login feature not supported for Firebase

The [plug and play feature](../../../concepts/plug-and-play-auth/) of the Arcana Auth SDK does not support social login via Firebase. Developers must build a custom login UI and add code to onboard users. For details, see [onboarding users via Firebase and custom login UI](../../../auth/onboard/vanilla/custom-ui/build-idm/firebase-login/)

# Apple Sign-In Setup

Configuring Apple for apps using **global keys** differs from apps using **app-specific keys**.

### Prerequisites

- Log in to the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- [Register](../../config-auth/register-app/) the app by creating a new app entry in the dashboard.

Client ID

A default [Testnet configuration profile](../../../deploy/deploy-app/) is associated with every registered app. A unique **Client ID** is assigned for the Testnet profile. Only passwordless login is enabled by default.

A newly registered app can be deployed at the Arcana Testnet. Developers must create a Mainnet configuration profile to [deploy it on the Mainnet](../../../deploy/migrate-testnet-mainnet/). A new, unique Client ID is assigned to the Mainnet profile.

Unique App Identifier: ClientID

## Global Keys

Apps that require [global keys](../../../concepts/keyspace-types/) feature **do not need to configure the Social Auth settings** in the Arcana Developer Dashboard.

User onboarding via Apple is automatically turned on for the app when global keys are enabled.

Global Keys Setting

Global Keys Configuration Change

In the earlier versions of the Arcana Auth SDK, apps using **global keys** were required to configure **Social Auth** settings for the providers. This behavior has changed in the latest release of the Arcana Auth SDK.

If an app was configured for any social login providers and switches over from app-specific to global keyspace later, the **Social Auth** settings will be disabled altogether.

Global Keys: Social Auth Settings Disabled

## App-specific Keys

Follow these steps to configure the **Social Auth** settings and enable user onboarding via Apple. It requires developers to use the Arcana Developer Dashboard and the [Apple Developer](https://developer.apple.com/) website.

### 1. Get Redirect URI

Select the app in the **Manage Apps** dashboard screen and click Testnet/Mainnet to configure Apple Sign-in in the respective configuration profile. Go to **Configure > Social Auth**. Copy the redirect URI shown on the top right.

Redirect URL for Apple Sign-In

Note, unlike other providers, the redirect URL for 'Sign-in with Apple' is **not the one located on the top right** of the dashboard. It is displayed on the **bottom-right**, next to the 'key id' field.

The *Redirect URL*\* for Apple Sign-In is of the format:

`https://oauth.arcana.network/auth/apple/redirect/${ClientID}`

Where `{ClientID}` refers to the unique value assigned by Arcana to each app registered using the Arcana Developer Dashboard.

Arcana Dashboard: Copy Redirect URL

Do not close the **Social Auth** browser tab in the Arcana Developer Dashboard. Open another tab and set up Apple Sign in for your app via the [Apple Developer](https://developer.apple.com/) website.

### 2. Get Apple ClientID, TeamID, Key, KeyID

To enable Apple Sign-In for your Web3 app you must set up the following entities:

- Apple App Identifier
- Apple Service Identifier
- Apple Private Key

Login to your developer account using the [Apple Developer](https://developer.apple.com/) website.

Apple Dev: Log In

Use the 'Certificates, Identifiers & Profiles' menu option. Create, configure and register the Apple app identifier, Apple service identifier. As part of configuration you will be required to verify your app domain, and associate the domain with an app identifier for app login page that uses 'Sign in with Apple'.

#### 2a. App Id

Click **Identifier**, select **AppId** type identifier and choose **App**.

Apple Dev: New App Identifier

Click continue and follow the instructions to configure the AppId identifier setting and enable 'Sign-In with Apple' option. Register the AppId identifier.

Apple Dev: Enable Sign-In with Apple (AppId)

#### 2b. Service Id

Next, click **Identifier**, select **ServiceId** type identifier.

Apple Dev: New Service Identifier

Follow the instructions and specify the service description and identifier in the Apple Developer site. Make sure you enable the 'Sign-In with Apple' option. Register the Service identifier.

Apple Dev: Enable Sign-In with Apple (ServiceId)

In the Service Identifier settings, specify the **Redirect URI** copied from the Arcana Developer Dashboard into the **Return URL** input field.

Apple Dev: Return URL (Use Arcana Redirect URI)

Apple may have additional instructions to verify the domain name that you specify. Make sure you complete those setup steps at the Apple Developer site and complete the service identifier setup.

#### 2c. Apple Key

The 'Sign-in with Apple' service requires a private key that signs JWTs to be used as a client secret. Go to the **Keys** section in the Apple Developer Account site. Create a **key** and follow the instructions to register the key.

Apple Dev: New Key

Make sure you configure the key and enable 'Sign In with Apple' option.

Apple Dev: Enable Apple Sign-In (Key)

Also, configure the key to use the correct **AppId** that was created earlier.

Apple Dev: Select correct AppId for the key

**Download the key**. It can only be downloaded once.

Apple Key Security

Keep the downloaded Apple Key safe.

If you lose the key, you cannot download it again but the Apple Key identifier can be copied from the developer account any time.

If you suspect a private key is compromised, first create a new private key associated with the primary App ID. After transitioning to the new key, revoke the old private key. [Learn more...](https://developer.apple.com/help/account/configure-app-capabilities/create-a-sign-in-with-apple-private-key)

Make a note of the following values. These are required to configure the Apple section in the 'Social Auth' settings page of the Arcana Developer Dashboard.

- Apple Service Identifier
- Apple Team Identifier
- Apple Private Key Identifier
- Apple Private Key

Apple Dev: Service Identifier

Apple Dev: Key Identifier, Team Identifier

### 3. Update Social Auth

In the Arcana Developer Dashboard, click **Configure > Social Auth**. Refer to the empty fields next to the "Apple" setting. Paste the **Service ID** obtained via the Apple Developer Account settings. Copy the **Team Identifier**, **Key Identifier** and the downloaded key value in the respective input fields.

Update Apple Sign-In Settings

Save the **Social Auth** settings.

*Your app is all set to onboard users via Apple Sign-In.*

# Setup Discord

Configuring Discord for apps using **global keys** differs from apps using **app-specific keys**.

### Prerequisites

- Log in to the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- [Register](../../config-auth/register-app/) the app by creating a new app entry in the dashboard.

Client ID

A default [Testnet configuration profile](../../../deploy/deploy-app/) is associated with every registered app. A unique **Client ID** is assigned for the Testnet profile. Only passwordless login is enabled by default.

A newly registered app can be deployed at the Arcana Testnet. Developers must create a Mainnet configuration profile to [deploy it on the Mainnet](../../../deploy/migrate-testnet-mainnet/). A new, unique Client ID is assigned to the Mainnet profile.

Unique App Identifier: ClientID

## Global Keys

Apps that require [global keys](../../../concepts/keyspace-types/) feature **do not need to configure the Social Auth settings** in the Arcana Developer Dashboard.

User onboarding via Discord is automatically turned on for the app when global keys are enabled.

Global Keys Setting

Global Keys Configuration Change

In the earlier versions of the Arcana Auth SDK, apps using **global keys** were required to configure **Social Auth** settings for the providers. This behavior has changed in the latest release of the Arcana Auth SDK.

If an app was configured for any social login providers and switches over from app-specific to global keyspace later, the **Social Auth** settings will be disabled altogether.

Global Keys: Social Auth Settings Disabled

## App-specific Keys

Follow these steps to configure the **Social Auth** settings and enable user onboarding via Discord. It requires developers to use the Arcana Developer Dashboard and the [Discord Developer Portal](https://discord.com/developers/applications).

### 1. Get Redirect URI

Select the app in the **Manage Apps** dashboard screen and click Testnet/Mainnet to configure Discord in the respective configuration profile. Go to **Configure > Social Auth**. Copy the redirect URI shown on the top right.

Get Redirect URI

Do not close the **Social Auth** browser tab in the Arcana Developer Dashboard. Open another tab to access the Discord Developer Console and configure Discord OAuth.

### 2. Get Discord Application ID, Public Key

Go to the [Discord Developer Portal](https://discord.com/developers/applications) and create a new application.

Discord Developer Portal

Configure OAuth 2.0 credentials for the newly created app entry in the Discord Developer Portal. Select **OAuth2** in the Discord Developer Portal and refer to the **Redirects** field. Use the **Redirect URI** value copied in the previous step from the Arcana Developer Dashboard.

Discord OAuth Settings

Save the app settings in the Discord Developer Portal.

Refer to the **General Information** page in the Discord Developer Portal. Copy the **Application ID** and the **Public key**. It will be required in the next step while configuring Discord settings using the Arcana Developer Dashboard.

Copy Application ID and Public Key

### 3. Update Social Auth

In the Arcana Developer Dashboard, click **Configure > Social Auth > Discord**. Paste the **Application ID** and **Public key** obtained from Discord Developer Portal in the previous step.

Dashboard: Update Application ID and Public Key

Save the **Social Auth** settings.

*You are all set with the Discord configuration.*

# GitHub Setup

Configuring GitHub for apps using **global keys** differs from apps using **app-specific keys**.

### Prerequisites

- Log in to the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- [Register](../../config-auth/register-app/) the app by creating a new app entry in the dashboard.

Client ID

A default [Testnet configuration profile](../../../deploy/deploy-app/) is associated with every registered app. A unique **Client ID** is assigned for the Testnet profile. Only passwordless login is enabled by default.

A newly registered app can be deployed at the Arcana Testnet. Developers must create a Mainnet configuration profile to [deploy it on the Mainnet](../../../deploy/migrate-testnet-mainnet/). A new, unique Client ID is assigned to the Mainnet profile.

Unique App Identifier: ClientID

## Global Keys

Apps that require [global keys](../../../concepts/keyspace-types/) feature **do not need to configure the Social Auth settings** in the Arcana Developer Dashboard.

User onboarding via GitHub is automatically turned on for the app when global keys are enabled.

Global Keys Setting

Global Keys Configuration Change

In the earlier versions of the Arcana Auth SDK, apps using **global keys** were required to configure **Social Auth** settings for the providers. This behavior has changed in the latest release of the Arcana Auth SDK.

If an app was configured for any social login providers and switches over from app-specific to global keyspace later, the **Social Auth** settings will be disabled altogether.

Global Keys: Social Auth Settings Disabled

## App-specific Keys

Follow these steps to configure the **Social Auth** settings and enable user onboarding via GitHub. It requires developers to use the Arcana Developer Dashboard and the [GitHub Developer Settings Dashboard](https://docs.github.com/en/developers/apps/building-oauth-apps/creating-an-oauth-app).

### 1. Get Redirect URI

Select the app in the **Manage Apps** dashboard screen and click Testnet/Mainnet to configure GitHub in the respective configuration profile Go to **Configure > Social Auth**. Copy the redirect URI shown on the top right.

Copy Redirect URI

Do not close the Arcana Developer Dashboard browser tab. Open another tab and set up GitHub OAuth.

### 2. Get GitHub ClientID, Secret

Go to the [GitHub Developer Settings > OAuth Apps](https://github.com/settings/applications/new) and register the app as a new GitHub application.

GitHub OAuth Settings

- Enter the app name.
- Specify the homepage URL where the app is deployed.
- Provide a brief description of the dApp.

GitHub Configuration

Use the **redirect URI** value that you saved in the previous step from the `Auth` tab of the Arcana Developer Dashboardd, in the **Authorization callback URL** field. See [here](https://docs.github.com/en/developers/apps/building-oauth-apps/authorizing-oauth-apps) for GitHub OAuth details.

Save the newly registered application in GitHub Developer Settings. GitHub will generate a unique **ClientID** and a **secret** for this new application entry.

Get GitHub OAuth ClientID

Copy and save the **Client ID** and the **secret** assigned by GitHub for the newly registered app. It will be required in the next step while completing the Arcana Developer Dashboard app configuration.

GitHub Email Settings

Make sure your GitHub developer profile email settings are **NOT private**. If it is marked private then the [social login](../../../concepts/social-login/) and the [aggregate login](../../../concepts/aggregatelogin/) features offered by the Arcana Auth SDK will not work due to [configuration issues](../../../troubleshooting/#configuration-issues).

1. In your GitHub profile setting, allow your email to be visible
1. In the GitHub Email Settings preferences, make sure you do not select the checkbox which says 'Keep my email address private'.

Refer to the figure below for details:

GitHub Profile: Email Visible

GitHub Email Settings: Should Not be Private

### 3. Update Social Auth

Revisit the Arcana Developer Dashboard. View the app configuration screen. Click **Configure > Social Auth** in the LHS navigation bar and refer to the "GitHub" field. Paste the **Client ID** and the **Secret** assigned by GitHub, in the previous step.

In the Arcana Developer Dashboard, click **Configure > Social Auth**. Refer to the empty fields next to the "GitHub" setting. Paste the **ClientID** and **Secret** obtained in the previous step as the `ClientID` and `secret`, respectively.

Update GitHub ClientID

Save the **Social Auth** settings.

*You are all set with the GitHub configuration.*

# Google Setup

Configuring Google for apps using **global keys** differs from apps using **app-specific keys**.

### Prerequisites

- Log in to the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- [Register](../../config-auth/register-app/) the app by creating a new app entry in the dashboard.

Client ID

A default [Testnet configuration profile](../../../deploy/deploy-app/) is associated with every registered app. A unique **Client ID** is assigned for the Testnet profile. Only passwordless login is enabled by default.

A newly registered app can be deployed at the Arcana Testnet. Developers must create a Mainnet configuration profile to [deploy it on the Mainnet](../../../deploy/migrate-testnet-mainnet/). A new, unique Client ID is assigned to the Mainnet profile.

Unique App Identifier: ClientID

## Global Keys

Apps that require [global keys](../../../concepts/keyspace-types/) feature **do not need to configure the Social Auth settings** in the Arcana Developer Dashboard.

User onboarding via Google is automatically turned on for the app when global keys are enabled.

Global Keys Setting

Global Keys Configuration Change

In the earlier versions of the Arcana Auth SDK, apps using **global keys** were required to configure **Social Auth** settings for the providers. This behavior has changed in the latest release of the Arcana Auth SDK.

If an app was configured for any social login providers and switches over from app-specific to global keyspace later, the **Social Auth** settings will be disabled altogether.

Global Keys: Social Auth Settings Disabled

## App-specific Keys

Follow these steps to configure the **Social Auth** settings and enable user onboarding via Google. It requires developers to use the Arcana Developer Dashboard and the [Google Cloud Console](http://console.cloud.google.com/apis/credentials).

### 1. Get Redirect URI

Select the app in the **Manage Apps** dashboard screen and click Testnet/Mainnet to configure Google in the respective configuration profile. Go to **Configure > Social Auth**. Copy the redirect URI shown on the top right.

Copy Redirect URI

Do not close the **Social Auth** browser tab in the Arcana Developer Dashboard. Open another tab to access the Google Cloud Console and configure Google OAuth.

### 2. Get Google ClientID

Go to the [Google Cloud Console](http://console.cloud.google.com/apis/credentials). Create a new OAuth 2.0 credential for your dApp.

Set up Google OAuth 2.0

In the Google Cloud Console, select the option to set up credentials for a web application.

Specify Redirect URI

Specify the **redirect URI** value to the one that you saved in the previous step from the `Auth` tab of the Arcana Developer Dashboard.

Redirect URI

The redirect URI refers to the endpoint to which the Google OAuth 2.0 server can send authentication responses. These endpoints must adhere to [Googleâ€™s validation rules](https://developers.google.com/identity/protocols/oauth2/web-server#uri-validation).

Complete the steps in Google Cloud Console for creating a new OAuth 2.0 credential. It will generate a unique **ClientID**.

Copy Google ClientID

Save the **Client ID** assigned by Google. It will be required in the next step.

### 3. Update Social Auth

In the Arcana Developer Dashboard, click **Configure > Social Auth**. Refer to the empty fields next to the "Google" setting. Paste the Google **Client ID** copied in the previous step.

Specify Google ClientID

Save the **Social Auth** settings.

*You are all set with the Google configuration.*

# Steam Setup

Configuring Steam for apps using **global keys** differs from apps using **app-specific keys**.

### Prerequisites

- Log in to the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- [Register](../../config-auth/register-app/) the app by creating a new app entry in the dashboard.

Client ID

A default [Testnet configuration profile](../../../deploy/deploy-app/) is associated with every registered app. A unique **Client ID** is assigned for the Testnet profile. Only passwordless login is enabled by default.

A newly registered app can be deployed at the Arcana Testnet. Developers must create a Mainnet configuration profile to [deploy it on the Mainnet](../../../deploy/migrate-testnet-mainnet/). A new, unique Client ID is assigned to the Mainnet profile.

Unique App Identifier: ClientID

## Global Keys

Apps that require [global keys](../../../concepts/keyspace-types/) feature **do not need to configure the Social Auth settings** in the Arcana Developer Dashboard.

User onboarding via Steam is automatically turned on for the app when global keys are enabled.

Global Keys Setting

Global Keys Configuration Change

In the earlier versions of the Arcana Auth SDK, apps using **global keys** were required to configure **Social Auth** settings for the providers. This behavior has changed in the latest release of the Arcana Auth SDK.

If an app was configured for any social login providers and switches over from app-specific to global keyspace later, the **Social Auth** settings will be disabled altogether.

Global Keys: Social Auth Settings Disabled

## App-specific Keys

Follow these steps to configure the **Social Auth** settings and enable user onboarding via Steam. It requires developers to use the Arcana Developer Dashboard and the [Steam Community Site](https://steamcommunity.com/login/home/?goto=%2Fdev%2Fapikey).

## Step 1: Get Redirect URI

Select the app in the **Manage Apps** dashboard screen and click Testnet/Mainnet to configure Steam in the respective configuration profile. Go to **Configure > Social Auth**. Copy the redirect URI shown on the top right.

Copy the Redirect URI

Do not close the **Social Auth** browser tab in the Arcana Developer Dashboard. Open another tab to access the Steam Community Site and obtain an API Key.

## Step 2: Get Steam API Key

Steam API Key

**Developers must have a Steam account and have at least $5 worth of purchased games in the account before they can obtain the Steam API Key.**

Go to the [Steam Community Site](https://steamcommunity.com/login/home/?goto=%2Fdev%2Fapikey). Login to your account.

Steam Login

Access Steam API Key

Make sure you do not have a Steam limited account otherwise you cannot access the API Key. Refer to [Steam FAQ](https://help.steampowered.com/en/faqs/view/71D3-35C2-AD96-AA3A) for more details.

Register for a new Steam Web API Key. Provide the app domain name as input to access your API Key.

Access Steam API Key

Copy the **Steam API Key** for your app domain. It will be required in the next step while completing the app configuration using the Arcana Developer Dashboard.

Copy Steam API Key

## Step 3: Update Steam Social Auth Settings

In the Arcana Developer Dashboard, click **Configure > Social Auth**. Refer to the **Steam API Key** input field. Paste the **Steam API Key** obtained in the previous step.

Dashboard: Update Steam API Key

Save the **Social Auth** settings.

*You are all set with the Steam configuration.*

# Telegram Setup

These are the configuration instructions to onboard users in Web3 apps via Telegram.

Only App-Specific Keys

Global Keys option is not supported for apps that use Telegram as the social login provider.

### Prerequisites

- Log in to the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- [Register](../../config-auth/register-app/) the app by creating a new app entry in the dashboard.

Client ID

A default [Testnet configuration profile](../../../deploy/deploy-app/) is associated with every registered app. A unique **Client ID** is assigned for the Testnet profile. Only passwordless login is enabled by default.

A newly registered app can be deployed at the Arcana Testnet. Developers must create a Mainnet configuration profile to [deploy it on the Mainnet](../../../deploy/migrate-testnet-mainnet/). A new, unique Client ID is assigned to the Mainnet profile.

Unique App Identifier: ClientID

## App-specific Keys

Follow these steps to configure the **Social Auth** settings and enable user onboarding via Telegram. It requires developers to use the Arcana Developer Dashboard and the [Telegram BotFather](https://telegram.me/BotFather).

### 1. Get Telegram Bot Token

Use Telegram app, go to [Telegram BotFather](https://telegram.me/BotFather). Use `/newbot` to create a bot corresponding to the Web3 app that you wish to integrate with the Arcana Auth SDK. Ignore bot creation if you already have one. Go to your Bot by selecting `/mybots`.

Use `/token` command to generate **Telegram token** for the selected bot. This token is used to access the HTTP API. Keep your token secure and store it safely, it can be used by anyone to control your bot.

Add Bot Token

Note the token value, it will be required in the next step while completing the app configuration using the Arcana Developer Dashboard.

**Link App Domain to Bot**

Once you have chosen a bot, send the `/setdomain` command to @Botfather to link your website's domain to the bot. This is required for successful redirect to your app after the user logs in via Telegram. [Learn more...](https://core.telegram.org/widgets/login)

Link App Domain

### 2. Update Social Auth

Go to the Arcana Developer Dashboard. Click **Configure > Social Auth** and select Telegram icon to update settings. Paste the **Token** assigned by @BotFather in the 'Bot Token field.

Add Telegram Bot Token

Save the **Social Auth** settings.

*You are all set with the Telegram configuration.*

Plug-and-play login feature not supported for Telegram

The [plug and play feature](../../../concepts/plug-and-play-auth/) of the Arcana Auth SDK does not support social login via Telegram. Developers must build a custom login UI and add code to onboard users. For details, see [onboarding users via Telegram and custom login UI](../../../auth/onboard/vanilla/custom-ui/build-social/telegram-oauth/).

# Twitch Setup

Configuring Twitch for apps using **global keys** differs from apps using **app-specific keys**.

### Prerequisites

- Log in to the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- [Register](../../config-auth/register-app/) the app by creating a new app entry in the dashboard.

Client ID

A default [Testnet configuration profile](../../../deploy/deploy-app/) is associated with every registered app. A unique **Client ID** is assigned for the Testnet profile. Only passwordless login is enabled by default.

A newly registered app can be deployed at the Arcana Testnet. Developers must create a Mainnet configuration profile to [deploy it on the Mainnet](../../../deploy/migrate-testnet-mainnet/). A new, unique Client ID is assigned to the Mainnet profile.

Unique App Identifier: ClientID

## Global Keys

Apps that require [global keys](../../../concepts/keyspace-types/) feature **do not need to configure the Social Auth settings** in the Arcana Developer Dashboard.

User onboarding via Twitch is automatically turned on for the app when global keys are enabled.

Global Keys Setting

Global Keys Configuration Change

In the earlier versions of the Arcana Auth SDK, apps using **global keys** were required to configure **Social Auth** settings for the providers. This behavior has changed in the latest release of the Arcana Auth SDK.

If an app was configured for any social login providers and switches over from app-specific to global keyspace later, the **Social Auth** settings will be disabled altogether.

Global Keys: Social Auth Settings Disabled

## App-specific Keys

Follow these steps to configure the **Social Auth** settings and enable user onboarding via Twitch. It requires developers to use the Arcana Developer Dashboard and the [Twitch Developer Dashboard](https://dev.twitch.tv/login).

## 1. Get Redirect URI

Select the app in the **Manage Apps** dashboard screen and click Testnet/Mainnet to configure Twitch in the respective configuration profile. Go to **Configure > Social Auth**. Copy the redirect URI shown on the top right.

Copy Redirect URL

Do not close the **Social Auth** browser tab in the Arcana Developer Dashboard. Open another tab and set up Twitch OAuth.

## 2. Get Twitch ClientID

Go to the [Twitch Developer Console](https://dev.twitch.tv/login) and register the app as a new Twitch application.

Twitch Console: Create New App

Enter the application name.

Specify the **Redirect URI** copied from the Arcana Developer Dashboard in the previous step into the OAuth Redirect URL field of the Twitch Developer Console.

Copy the **ClientID** generated by Twitch for the newly registered application in the Twitch Developer Console. It will be required in the next step while using the Arcana Developer Dashboard for completing the app configuration.

Copy Twitch ClientID

## 3. Update Social Auth

Finally, supply the Twitch **ClientID** into the Arcana Developer Dashboard Twitch settings. In the Arcana Developer Dashboard, click **Configure > Social Auth**. Select **Twitch** icon and refer to *Client ID* input field. Paste the **Client ID** assigned by the Twitch Developer Console.

Update Twitch ClientID

Save the **Social Auth** settings.

*You are all set with the Twitch configuration.*

# Twitter Setup

Configuring Twitter for apps using **global keys** differs from apps using **app-specific keys**.

### Prerequisites

- Log in to the Arcana Developer Dashboard: <https://dashboard.arcana.network>
- [Register](../../config-auth/register-app/) the app by creating a new app entry in the dashboard.

Client ID

A default [Testnet configuration profile](../../../deploy/deploy-app/) is associated with every registered app. A unique **Client ID** is assigned for the Testnet profile. Only passwordless login is enabled by default.

A newly registered app can be deployed at the Arcana Testnet. Developers must create a Mainnet configuration profile to [deploy it on the Mainnet](../../../deploy/migrate-testnet-mainnet/). A new, unique Client ID is assigned to the Mainnet profile.

Unique App Identifier: ClientID

## Global Keys

Apps that require [global keys](../../../concepts/keyspace-types/) feature **do not need to configure the Social Auth settings** in the Arcana Developer Dashboard.

User onboarding via Twitter is automatically turned on for the app when global keys are enabled.

Global Keys Setting

Global Keys Configuration Change

In the earlier versions of the Arcana Auth SDK, apps using **global keys** were required to configure **Social Auth** settings for the providers. This behavior has changed in the latest release of the Arcana Auth SDK.

If an app was configured for any social login providers and switches over from app-specific to global keyspace later, the **Social Auth** settings will be disabled altogether.

Global Keys: Social Auth Settings Disabled

## App-specific Keys

Follow these steps to configure the **Social Auth** settings and enable user onboarding via Twitter. It requires developers to use the Arcana Developer Dashboard and the [Twitter Developer Account](https://developer.twitter.com/en/docs/twitter-api/getting-started/getting-access-to-the-twitter-api).

### 1. Get Redirect URI

Select the app in the **Manage Apps** dashboard screen and click Testnet/Mainnet to configure Twitter in the respective configuration profile. Go to **Configure > Social Auth**. Copy the redirect URI shown on the top right.

Copy Redirect URI

Do not close the **Social Auth** browser tab in the Arcana Developer Dashboard. Open another tab and set up Twitter OAuth.

### 2. Get Twitter API Key, Secret

Go to the [Twitter Developer Portal](https://developer.twitter.com/en/portal/projects-and-apps) and create a new [Twitter App](https://developer.x.com/en/docs/apps/overview) for setting up the OAuth credentials for the app. Note that if you would like to use Twitter API v2, you must add your Twitter App to a [Project](https://developer.x.com/en/docs/projects/overview).

Twitter Developer Console

Select an appropriate environment and create a new name for the app on the Twitter Developer Portal.

Create Twitter App Entry

In the **Keys and Tokens** tab, the **API Key** and **API Key Secret** (also known as the [Consumer Key and Secret](https://developer.x.com/en/docs/authentication/oauth-1-0a/api-key-and-secret)) values are generated automatically for your newly created app entry. Make sure you copy both of these as they will be needed later for setting up Twitter in the Arcana Developer Dashboard.

Twitter Keys and Secret

After this, you need to select OAuth Setup as shown below and configure the **Redirect URI** and the app deployment website domain.

Redirect URI Settings

Copy the Redirect URI from the Arcana Developer Dashboard to the Twitter Developer Dashboard settings to enable Twitter login.

Each app profileâ€”Testnet and Mainnetâ€”has its own Redirect URI in the Arcana Dashboard. Make sure to select the correct URI. Use the Mainnet Redirect URI for Mainnet deployments.

Setup App OAuth

When you click **Setup**, you will see OAuth options. For the *Type of App* field, select the *Web App* option.

Select Twitter Web App Option

In the **App Info** section, select the **Redirect URI** field. You need to specify the app [callback URL](https://developer.twitter.com/en/docs/apps/callback-urls) in the [Twitter settings](https://www.cozmoslabs.com/docs/profile-builder-2/add-ons/social-connect/create-twitter-app-social-connect/) as the redirect URI copied from the Arcana Developer Dashboard in the previous step.

| Arcana Developer Dashboard -> | Twitter Developer Portal OAuth Settings | | --- | --- | | Redirect URI -> | *Callback URI/Redirect URLs* |

Set Twitter App Callback URL

Specify all the fields appropriately. Do not leave the optional fields empty.

- Website domain
- Organization details
- Terms of Service
- Privacy Policy

Enable Email ID Access

Arcana Auth SDK requires the Twitter user's email ID to verify the logged-in user's credentials. To enable this, Twitter makes it necessary that the Privacy Policy and Terms of Service are appropriately provided while creating a new app entry. For details, see [here](https://developer.twitter.com/en/docs/twitter-api/v1/accounts-and-users/manage-account-settings/api-reference/get-account-verify_credentials).

Make sure you save all the settings.

Where can I find API Key and Secrets?

Copy the **API Key** and the **API Key Secret** from the **App Settings** section in the Twitter Developer Dashboard. Refer to the *Keys and Tokens* tab. In the **Consumer Keys** section, there is an option to regenerate the API key and secret.

These details will be required in the next step while specifying the Twitter app configuration in the Arcana Developer Dashboard.

### 3. Update Social Auth

In the Arcana Developer Dashboard, click **Configure > Social Auth** and choose **Twitter** icon to view Twitter settings. Use the **Twitter API Key** and the **Twitter API Secret** obtained from the Twitter Developer Portal and paste them into the Arcana Developer Dashboard Twitter settings.

Update Twitter API Key

Save the **Social Auth** settings.

*You are all set with the Twitter configuration.*

# Configure Wallet UX

[Rebrand Wallet](config-wallet-branding/)

[Manage Keyspace](config-wallet-keyspace/)

[Wallet Mode](config-wallet-settings/)

[Custom Wallet UI](../config-custom-wallet-ui/)

# Manage Branding

Learn how to manage the look and feel of the built-in, in-app [Arcana wallet](../../../concepts/anwallet/) UI through the branding settings in the [Arcana Developer Dashboard](../../../concepts/dashboard/).

## Prerequisites

- Web3 app should be [registered](../../config-auth/register-app/).

## 1. Dashboard Login

Log in to the Arcana Developer Dashboard. In the 'Manage Apps' screen, click the registered app card. Then click **Configure** dropdown in the LHS navigation area.

## 2. Configure Branding

Replace the default wallet branding by providing the following logo and theme inputs:

- **Logo:** Upload light and dark theme branding/logo images that are displayed in the Arcana wallet UI.

- **Wallet Theme:** Customise the default look and feel of the in-app Arcana wallet UI.

  Wallet Branding Settings

- **Email Theme:** Customise the default look and feel of the email message that is sent to the specified user email ID for passwordless login.

  Email Branding Settings

## What's Next?

Wallet Customization

Manage the user experience for signing blockchain transactions by configuring SDK usage. Specify the [theme, branding](../../config-dApp-with-db/#settings-overview) settings of the in-app built-in Arcana wallet UI. Use [wallet visibility](../../../concepts/anwallet/walletvisibility/) and decide when to display the wallet UI in the app. Configure [keyspace](../../../concepts/keyspace-types/) and enable the user experience of having the same wallet address across multiple apps integrated with the Arcana Auth SDK.

You can also replace the built-in wallet UI with a [custom wallet UI](../../config-custom-wallet-ui/).

## See also

- [Arcana Developer Dashboard Users Guide](../../config-dApp-with-db/)
- [Arcana wallet Users Guide](../../../user-guides/wallet-ui/)

# Manage Keyspace

Learn how to manage the user experience of having the same wallet address or unique one across different apps integrated with the Arcana Auth SDK.

## Prerequisites

- Web3 app should be [registered](../../config-auth/register-app/).

## 1. Dashboard Login

Log in to the Arcana Developer Dashboard. In the 'Manage Apps' screen, click the registered app card. Then click **Configure** dropdown in the LHS navigation area. Select **Keyspace** to choose the keyspace type.

Dashboard: Select keyspace

The Keyspace Configuration settings are displayed:

Keyspace Settings

## 2. Select Keyspace Type

Use the **Keyspace** section in LHS navigation to select the **App-specific** (default) or **Global Keys** feature.

Arcana offers two types of keyspace options for keys assigned to the Web3 apps: [App-specific and Global Keys](../../../concepts/keyspace-types/).

**App-specific** keys are the default.

Keyspace Options

## What's Next?

Wallet Customization

Manage the user experience for signing blockchain transactions by configuring SDK usage. Specify the [theme, branding](../../config-dApp-with-db/#settings-overview) settings of the in-app built-in Arcana wallet UI. Use [wallet visibility](../../../concepts/anwallet/walletvisibility/) and decide when to display the wallet UI in the app. Configure [keyspace](../../../concepts/keyspace-types/) and enable the user experience of having the same wallet address across multiple apps integrated with the Arcana Auth SDK.

You can also replace the built-in wallet UI with a [custom wallet UI](../../config-custom-wallet-ui/).

## See also

- [Arcana Developer Dashboard Users Guide](../../config-dApp-with-db/)
- [Arcana wallet Users Guide](../../../user-guides/wallet-ui/)

# Manage Wallet Settings

Learn how to specify the Arcana wallet content security policy settings in the Arcana Developer Dashboard.

## Prerequisites

- Web3 app should be [registered](../../config-auth/register-app/).

## 1. Dashboard Login

Log in to the Arcana Developer Dashboard and click your registered app entry from the 'Manage Apps' screen.

Dashboard: Select Wallet UI

## 2. Domain URL

Click **Configure** in the LHS navigation area. Select **Arcana Wallet** to configure the Domain URL.

Wallet UI Settings

**Domain URL:** Set the website domain used by the server, to secure and restrict Arcana wallet from loading anywhere else other than the specified domain. Arcana uses the frame-ancestor CSP for restricted domains.

Wallet Security

Wallet UI Mode

The *Wallet UI Mode* field displays the setting that controls whether the app developer has chosen to use the built-in wallet UI or a [custom wallet UI](../../../concepts/custom-wallet-ui/).

This setting is selected at the time of [app registration](../../config-auth/register-app/) and cannot be changed later. [Learn more...](../../config-custom-wallet-ui/)

## What's Next?

Wallet Customization

Manage the user experience for signing blockchain transactions by configuring SDK usage. Specify the [theme, branding](../../config-dApp-with-db/#settings-overview) settings of the in-app built-in Arcana wallet UI. Use [wallet visibility](../../../concepts/anwallet/walletvisibility/) and decide when to display the wallet UI in the app. Configure [keyspace](../../../concepts/keyspace-types/) and enable the user experience of having the same wallet address across multiple apps integrated with the Arcana Auth SDK.

You can also replace the built-in wallet UI with a [custom wallet UI](../../config-custom-wallet-ui/).

## See also

- [Arcana Developer Dashboard Users Guide](../../config-dApp-with-db/)
- [Arcana wallet Users Guide](../../../user-guides/wallet-ui/)

# Solver Setup

This guide explains how to become a Solver. It shows how third parties can join the Arcana Network Chain Abstraction (CA) protocol.

[Solvers](../../concepts/ca/solver/) are entities within the Arcana CA Protocol system that compete to fill up user intents for cross-chain transactions.

Only permitted third parties can participate in the Arcana Chain Abstraction Protocol as a solver. To become a solver, you need a basic system to run the Arcana Solver software.

## System Requirements

You will need to set up the following software once your hardware node is available:

- Linux [Ubuntu 22.04.5 LTS](https://releases.ubuntu.com/jammy/)
- Arcana Solver Binary and configuration files

## Configuration Settings

Create a configuration file config.toml with the following settings.

```
# This is a sample solver-config.toml

EVMPrivateKey = '...'
P2PPrivateKey = "..."
P2PListenAddrs = ['/ip6/::/tcp/40001']
P2PDataPath = '/data/solver-p2pdata'
P2PRendezvousPoint = 'ARCANA_CA_P2P_MEETINGHOUSE'
RebalanceOnStart = true
ArcanaChainGRPCURL = "localhost:9090"
ArcanaChainTendermintURL = "http://localhost:26657"
ArcanaChainEventsURL = "ws://localhost:26657/websocket"
[ArcanaChainKeyConfig]
UID = "0"
PrivateKey = "..."
Algorithm = "secp256k1"

[RPCURLMap]
137 = "wss://polygon-mainnet.g.alchemy.com/v2/PfaswrKq0rjOrfYWHfE9uLQKhiD4JCdq"
42161 = "wss://arb-mainnet.g.alchemy.com/v2/PfaswrKq0rjOrfYWHfE9uLQKhiD4JCdq"
10 = "wss://opt-mainnet.g.alchemy.com/v2/PfaswrKq0rjOrfYWHfE9uLQKhiD4JCdq"
8453 = "wss://base-mainnet.g.alchemy.com/v2/PfaswrKq0rjOrfYWHfE9uLQKhiD4JCdq"

RebalanceConfigs = [ { CurrencyID = 1, CurrencyID = 2 }]

RebalanceConfigs.Chainwise = [
    {
        ChainID = 42161,
        Target = 15,
        MinimumTransfer = 1,
    }
],
[
    {
        ChainID = 21144,
        Target = 12,
        MinimumTransfer = 1,
    }
]

```

Settings

You can either provide the `config.toml` file in the current directory when you run the solver executable or specify the `config.toml` file path via the `CAS_CONFIG_PATH` environment variable before you run the VSC Service.

## Running a Solver

You can run the solver on a physical/virtual server or a Docker container. Click appropriate dropdown below to see detailed instructions.

After providing configuration settings, run the solver by:

```
./solver

```

1. Update `docker-compose.yml` (or something similar) with the service, example details listed below:

   ```
   solver:
   image: ca-solver
   init: true
   restart: unless-stopped
   environment:
   - CAS_CONFIG_PATH=/etc/cas.toml
   ports:
   - 40001:40001
   - "40001:40001/udp"
   volumes:
   - ./config.toml:/etc/cas.toml:ro
   - ./data/solver:/p2pdata``

   ```

1. Use the `config.toml` file example listed in the configuration settings section. Provide all the required configuration settings.

1. Use `docker compose up` to bring up the Arcana Solver service inside a docker container.

   Image Path

   ```
   Update the image path in the `docker compose` file for the `image` tag: `ca-solver`. This path depends upon whether you are accessing it locally from an installed binary or via an image published via a registry. ([Docker Hub](https://hub.docker.com/) / [GithHub Container Registry](https://codefresh.io/docs/docs/integrations/docker-registries/github-container-registry/) (GHCR) )

   ```

## Troubleshooting

- Solver health check
  - Connect on the solver socket 40001 (default) or the value specified in the configuration file.
  - If the connection fails, the solver is not up and running
- System resources used
  - Check system resource usage using the solver process.

    `ps -aef | grep solver`

# Solver Dashboard

Solver Dashboard helps solver administrators in setting up solver profiles. They can track and manage solver funds for the configured solver profiles.

What is a Solver?

A [solver](../../concepts/ca/solver/) is a third-party market maker that runs the Arcana provided solver executable. Solvers play a key role in the Arcana chain abstraction (CA) protocol. They provide liquidity and enable users to spend any asset on any destination chain.

The protocol converts user intents into requests for funds (RFF). It publishes these requests on a specified channel. Only a permitted set of solvers can interact with the protocol.

Solvers watch the channel for new requests. They compete to provide the desired liquidity and fulfill user requests.

Solver admins can perform the following actions:

- Configure a solver profile
  - Name
  - URL
- Select a solver profile
- Manage solver funds:
  - Track total balance
  - View and set thresholds
  - View configured liquidity routes
  - View and set fees for each route
  - Track route earnings
- Edit / Delete solver profile

Solver Dashboard

## Prerequisites

To access the Solver Dashboard, the solver admin must:

1. Own an EOA, wallet address
1. Register the EOA with the Arcana protocol
1. Make sure the solver is accessible at a URL such as `ws://ip:port/api/v1/admin-api`

Running a Solver

To run a solver:

- Get the solver executable from Arcana
- [Configure the solver](../solver-config/) settings
- Run the executable on a server; it should be accessible via WebSocket `ws:` or WebSocket with TLS `wss:`

Once the executable runs, the solver is active and participates in the Arcana CA protocol. **The solver admin will require the `wss` URL to set up and manage the solver profile in the solver dashboard.**

## Connect Wallet

To access the dashboard, visit <https://solver.arcana.network/>.

At the initial access, the admin must set up a solver profile by specifying:

- Solver name
- Solver URL

### Solver URL

Solver URL refers to the WebSocket communication channel specified as: `wss://ip:port/api/v1/admin-api` or `ws://ip:port/api/v1/admin-api`

Solver Profiles

Next, solver admins must use a registered EOA to connect the wallet to the solver dashboard and log in.

Connect Wallet

After the wallet connects, the admin can view the total available solver funds. The dashboard also shows thresholds for various supported tokens. Admins can view and configure fees for the supported liquidity routes.

## EOA Addresses

The top RHS on the landing page shows:

- EVM and non-EVM addresses for the connected wallet
- Option to disconnect the wallet

Solver EOA Addresses

## Select Solver

Manage one or more solvers registered for the EOA account. Choose the solver profile via the dropdown list at the top RHS.

The selected solver page shows:

- Wallet balances: total balance, per token balance
- Token threshold setting

Solver Selection

## Wallet Balances

Go to the *Wallet Balance* screen in the left navigation panel. Here you can:

- View chains and tokens configured for the solver
- Check balances and thresholds
- Filter by chain or token type

### Total Balance

The top right of the wallet balance screen shows your total balance. This is the combined liquidity across all chains and tokens in your solver account.

### Chain,Token Balance

Each row displays the token balance for each configured chain and token type.

### Chain,Token Threshold

For each chain, you can view and edit the token thresholds.

Token Threshold

## Fees

Go to the left side navigation panel. Click on *Fees* to view and edit the fees configured for each route and the earnings data per route.

Configuring fees for each specified route serviced by the solver is part of the solver setup. This is the fee charged by solver per route for providing liquidity to Arcana protocol users.

Each solver route shows the following details:

- Source Chain
- Destination Chain
- Token
- Fees

Solver Fees

### Filters

You can filter the fees using these fields:

- Source chain
- Destination chain
- Token

The *Fees* field on the right is editable and solvers can change them as needed. The protocol uses the fees you set in the dashboard. When a user creates an intent, the protocol displays all fee details, including solver fees. This ensures transparency when building the request for funds.

If the admin modifies the fees via the solver dashboard, the solver turns it into a Cosmos SDK transaction. It submits the transaction on chain. The updated fee becomes effective from the next block.

Solver Route Filters

### Route Earnings

You can see the earnings for each route next to the fees field.

Solver Earnings

## Profile

The solver profile page displays all configured solvers. The connected admin EOA manages these solvers. They can edit or delete the configured solver profiles.

Solver Profiles

## Disconnect

Click on the account icon in the top right corner. Then select the option to disconnect your wallet from the Solver Dashboard.

# MFA Setup

Learn how Web3 apps integrated with the Arcana Auth SDK can enable **enhanced wallet security** by setting up [Multi-Factor Authentication (MFA)](../../../concepts/mfa/).

MFA Selection: User's Choice

The MFA feature can only be enabled by the user through the Arcana wallet UI. Developers cannot enable/disable MFA.

## Enable MFA

To enable MFA, log in to the app integrated with the Arcana Auth SDK using one of the available authentication mechanisms. At the very first login, the user is prompted to set up MFA. If the user decides not to enable MFA at the first login, it can be enabled later.

One-time Setting

Once configured, MFA cannot be disabled for the user's wallet account.

### First App Login

Click **Proceed** at the very first login when prompted to set up MFA.

MFA Setup

#### Security Questions

Answer all five security questions. Select pre-configured security questions via the dropdown or create your own by clicking the question field.

Security Questions

Save your Security Answers

When logging in from a new device, MFA will require you to either answer three security questions correctly or provide the PIN. Make sure you save the responses to the security questions and the PIN carefully.

#### Recovery PIN

Provide a 6-digit alphanumeric PIN as an additional recovery method.

MFA PIN Setup

MFA Enabled!

### Subsequent Logins

Log in to the app, access the Arcana wallet UI and click on the 'Profile' tab. Select **Setup Now** under the 'Enhanced Wallet Security' section. Choose **Proceed** to set up security questions, and set up a recovery PIN as described in the previous section.

Setup MFA via Profile Tab

## MFA Recovery

If a user logs into the app using a different device or browser, they will be required to regenerate this local MFA component on the new device. This is essential to confirm the user identity for wallet access.

This verification is done via the MFA prompt when logging on a new device. User can choose one of the options to verify:

- Enter the MFA recovery PIN.
- Answer three security questions correctly.

MFA Recovery

Once the user is verified, the local MFA factor is regenerated and the user will not be asked for it again on the same device or the browser app unless local storage is reset.

MFA Errors

| MFA Phase | Error Message | Cause | Corrective Action | | --- | --- | --- | --- | | MFA Setup | **Share expired. Please log in again to continue.** | If a user logs into the app and chooses to enable MFA, but fails to complete the MFA setup within 24 hours of login initiation, you will see this error. | This error can be resolved by making sure that once initiated, the user completes the MFA setup a few minutes before the session expires. | | MFA Setup | **Security questionnaire errors.** | These errors are displayed when the user is setting up MFA and specifying the security questions and answers. | User must answer all the required questions, each question should be unique and not repeated, an empty string is not allowed for a security question. | | MFA Setup | **PIN validation errors.** | These errors are displayed when the user is setting up the MFA PIN with invalid characters. | Make sure that a 6-digit alphanumeric PIN is provided during MFA setup. The PIN cannot have a space character and should have a minimum of 6 characters and a maximum of 25 characters. | | MFA Recovery | **Incorrect security answer.** | This error is displayed during MFA secret recovery process if the user fails to provide the correct answer to any of the three security questions. | Provide the correct answer or choose a different question for which you remember the answer. Alternatively, try using the correct PIN for completing the MFA secret recovery process. | | MFA Recovery | **Incorrect PIN.** | During MFA recovery, if the user chooses to use the PIN and enters an incorrect PIN, this error is displayed. | Use the correct PIN or try an alternative method of MFA recovery by answering the security questions correctly. | | MFA Recovery | **Computed address did not match the actual address** | This error occurs when the address computed on the user's local device does not match the one that is decrypted locally after retrieving it from the Arcana encrypted store. It can happen when somehow the local address component is tampered with or corrupted. | Simply clearing the app's local storage in the browser should allow the user to verify their identity via MFA and use the app. |

# Overview

This guide covers how to access and use the features of Arcana wallet.

## How to access Arcana wallet?

The Arcana wallet is an in-app, non-custodial Web3 wallet. It activates automatically when users log into an app integrated with Arcana Auth SDK. No need to install or connect like standalone wallets available as browser extensions such as MetaMask, Rabby, Phantom.

Authenticated users can access the wallet by clicking the icon at the bottom of the screen, LHS or RHS, where the developer has placed it in the app's context.

Access Arcana Wallet

## Feature Overview

Users can perform these operations through the Arcana wallet:

- Check account balance
- Sign (Approve/Reject) blockchain transactions
- Speed up transactions
- Add, modify, switch blockchain networks
- Deploy smart contracts
- Manage token assets (native and custom)
  - Check account balance
  - List token assets
  - Add custom tokens (ERC-20)
  - Send and receive tokens
  - Buy/Sell crypto
- Manage NFTs
  - List NFT assets
  - View NFT details
  - Send NFTs (ERC-721, ERC-1155)
  - Add NFTs
  - Modify (edit, delete) NFT metadata
- View account transaction activity (NFT, Token send transactions, contracts deployment, etc.)
- View pending transactions in the activity tab
- Use the standard Ethereum 1193 provider interface to call [JSON/RPC functions](https://ethereum.github.io/execution-apis/api-documentation/) and supported Web3 wallet operations for the network
- Export private key
- Enable [enhanced security via MFA](../mfa/mfa-ug/)
- Logout

# Export Private Key

Learn to use the Arcana wallet UI to export private key.

Security Risk

Exporting a private key from Arcana wallet exposes your keys. Do not share them. Ensure no one can see or screenshot your private key during export.

## Prerequisites

- Log in to the app integrated with the Arcana Auth SDK to access the Arcana wallet UI and export the key.

## Export/Copy Key

Click the **Profile** tab in the wallet. Below the 'Private Key' section, you will see the **Export Key** option.

Export Private Key

Confirm Key Export

If the user chooses to Proceed, they can either copy or download the private key from the wallet.

Copy or Download Key

Key Security and Privacy

The user's private keys are visible only to the authenticated user via the Arcana wallet UI. App developers cannot access these keys, and Arcana Network does not store them. Key shares are generated by Arcana Network's distributed system, and the user's private key is assembled locally on their device. If MFA is enabled, a local component is required to generate the key using a subset of key shares. [Learn more...](../../../faq/faq-auth/#user-key-privacy)

Once a user's key is exported via the Arcana wallet UI, the user is responsible for keeping it safe.

Exporting MultiversX Wallet

For exporting the MultiversX Wallet, there is no private key export feature unlike EVM chains. The user must refer to the saved copy of the secret seed phrase (displayed on first user login) and recover or import the MultiversX wallet. [Learn more...](../../../faq/faq-mvx/#export-mvx-wallet)

# Manage NFT Assets

Learn to use the Arcana wallet UI to manage your NFT assets.

## Prerequisites

- Log in to the app integrated with the Arcana Auth SDK to access the Arcana wallet UI and manage NFT assets.

## NFT Operations

The following NFT operations are supported:

- List NFT assets associated with the wallet address

- View NFT details

- Send NFT

- Receive NFT

- Manage NFTs

  - Add an NFT
  - Edit NFT entry
  - Delete NFT entry

## List NFTs

Click the 'NFT' tab at the bottom of the Arcana wallet UI. View thumbnails of NFTs linked to the active wallet address and blockchain network.

View NFTs

Auto-fetching of NFTs

The Arcana wallet automatically fetches NFTs linked to the wallet address and active chain. NFT thumbnails appear in the wallet's NFT tab. This feature uses Ankr APIs and supports only NFTs minted on blockchains backed by Ankr. The Arcana wallet supports auto-fetching of NFTs for the following chains:

**Mainnet**

```
* Arbitrum
* Avalanche
* Base
* Binance Smart Chain
* Ethereum
* Fantom
* Flare
* Gnosis
* Optimism
* Polygon
* Rollux
* Syscoin

```

**Testnet**

```
* Ethereum Goerli
* Avalanche Fuji

```

For a full list of chains supported by Ankr APIs, see [here](https://www.ankr.com/docs/advanced-api/overview/#chains-supported).

## View NFT Details

In the NFT tab, browse and select an NFT thumbnail to view its details. You can see all metadata, including description and attributes.

NFT Metadata

## Send NFTs

To transfer NFTs, click the NFT thumbnail. In the details section, click icon to start the 'Send NFT' workflow. Enter the receiver's address and gas fee details, then click Preview.

Send NFT

## Receive NFTs

In the **Token Assets** tab click the QR code icon on the top right to display the wallet address and the QR code. Copy the wallet account address or the QR code and share it with the NFT sender for receiving an NFT.

Receive NFTs

## Search NFT

If you don't see the NFT you wish to view or transfer in the NFT Assets tab of the wallet, you can either scroll down or search for it using the search bar.

Search NFT

## Manage NFTs

The Arcana wallet automatically fetches the NFTs associated with the wallet address for the chains that are supported by Ankr. For non-supported chains, manually add the NFTs by clicking **Manage**.

Manage NFT

Add/Update NFT

You can add, edit, and update NFT details. The NFT collection name appears automatically once the correct contract address is entered. The wallet address must match the NFT owner for manual addition to Arcana wallet.

NFT owners can delete NFTs, but only those manually added. Deleting an NFT removes it from the wallet but doesnâ€™t destroy it. You can re-add it if you still own it.

### Add NFT

Click **Manage** in the NFT tab of the wallet and select **New** to add an NFT. Provide requisite inputs and click **Save**.

Add NFT

### Modify NFT

To edit or delete a manually added NFT, go to the NFT wallet UI tab. Click **Manage** and select the NFT thumbnail to access the pen icon next to the NFT name. Click the pen to edit the details, or delete the NFT, and then click **Save**.

Modify NFT Metadata

Save NFT updates

## View NFT Activity

Click the Activity tab on the bottom right of the Arcana wallet UI to view wallet transaction activity and pending transactions.

You can see the NFT 'Send' transactions carried out by the wallet address. Only the activity for the current user login session is displayed. Click on an entry to view activity details.

Monitor NFT Send Activity

NFT Send Details

# Manage Token Assets

Learn to use the Arcana wallet UI to manage your token assets.

## Prerequisites

- Log in to the app integrated with the Arcana Auth SDK to access the Arcana wallet UI and manage NFT assets.

## Token Operations

Arcana wallet supports the following Web3 token operations for both native as well as custom ERC-20 tokens:

- Check balance
- Add custom tokens
- Send and receive native and custom tokens
- View Token Transactions

## Check Balance

Click the 'Tokens' tab at the bottom left of the Arcana wallet UI. The account balance is displayed for the native tokens of the current active blockchain network. It also shows a list of custom token assets associated with the wallet account for the active blockchain network and the respective balance amounts.

Click **Refresh** to fetch the latest account balance.

Account Balance

## Add Custom Tokens

Click the 'Tokens' tab to view the list of tokens associated with the wallet account.

If you do not see your custom token already listed in the token asset list, click the icon to add your custom token.

Add the **Token Contract Address** in the pop-up UI.

Add Token Contract Address

Once you add the address, the Arcana wallet validates whether it is an ERC-20 standard custom token. After the contract is verified, the wallet automatically fetches the **Token Symbol** and the **Token Decimal** values as configured in the custom contract.

Click **Save** to add the custom token. The newly added custom token will show up under the account balance section on the wallet.

Add Token Contract Address

## Select Token

Before sending tokens, users can specify whether they intend to transfer native or custom tokens. To select a custom token, it should already be [added to the Arcana wallet](#add-custom-tokens).

Click the 'Tokens' tab to view the native and custom tokens screen.

Add Token Contract Address

Use the drop-down list by clicking on the arrow next to the native token symbol and choose one of the custom tokens that are already added to the Arcana wallet.

## Send Tokens

Click the 'Tokens' tab in the wallet to view the tokens associated with the wallet account.

Send Tokens

Click **Send** to initiate the send tokens workflow in the Arcana wallet by bringing up the following screen:

Send Tokens

Choose the appropriate token that you wish to send from the dropdown list, enter the transfer amount, and gas fees, and click **Proceed**. A preview screen shows the details of the send transaction. Click **Send** to confirm or click **Back** if you wish to change any transaction details.

Confirm Send

## Receive Tokens

Click the 'Tokens' tab at the bottom left of the wallet to receive tokens from another wallet address. Click the QR icon on the top right of the wallet and copy the QR code or the wallet address. Share it with the sender to receive tokens in your account.

\<

Receive Tokens

Click **Refresh** to see the updated account balance after the sender transaction is complete.

View Tokens

## View Token Activity

Click the 'Activity' tab on the bottom right of the Arcana wallet to see wallet transaction activity and pending request notifications.

You can see the token 'Send' transactions carried out by the wallet address. Only the activity for the current user login session is displayed. Click on an entry to view activity details.

Monitor Token Send Activity

Send Transaction Details

Custom Tokens

The app user must [add the custom tokens](#add-custom-tokens) manually to the Arcana wallet UI before the activity related to tokens can be viewed in the **Activity** tab.

# Basic Wallet Operations

This guide covers basic Arcana wallet operations that are accessible through the user interface.

Arcana wallet Access

Users can access Arcana wallet from within the app's browser context. The app must be integrated with the Arcana Auth SDK to enable Arcana wallet for the user.

## Minimize/Maximize UI

Right after a user authenticates, the wallet is displayed in its minimized state.

On clicking, it expands to display the wallet in its maximized state. It can be minimized again by clicking the 'âˆ¨' icon on the top in the wallet UI.

## Switch Wallet Tabs

The following functions can be accessed from any of the wallet tabs:

- View the dApp name, logo
- View wallet address and type
- View/Switch/Add Blockchain Network
- Copy wallet address
- Display QR code for the wallet

Other wallet features can be accessed via specific tabs in the wallet UI:

This is the default home tab of the Arcana wallet:

It displays the wallet token balance across available chains. User can switch chains, send cryptocurrency and tokens, buy/sell cryptocurrency and manage ERC-20 tokens. See #view-wallet-balance for details.

Wallet Home: Token Balance

Use this tab to view the NFT assets linked with your Arcana wallet on the selected chain:

See [how to manage NFTs](../use-wallet-to-manage-nfts/), for details.

View NFT Assets

View your user profile details associated with the Arcana wallet in this tab:

You can view wallet address, export private keys, check MFA status (or enable it) and log out of the wallet through this tab.

See [how to export private keys](../use-wallet-to-export-keys/) for details.

Multi-Factor Authentication (MFA)

MFA is a one-time setting. See [how to ensable MFA](../../mfa/mfa-ug/), for details.

View Wallet User Profile

Check your Arcana wallet activities through the activity tab:

It shows the wallet activity, transactions processed in the current user login session. [Learn more...](./#transaction-activity)

View Wallet Activity

## View Wallet Balance

### Add/Select a Network

By default, the Arcana wallet UI displays a pre-configured list of blockchain networks that are configured by the app developer. Users can select a different network from the drop-down list or add newer networks that are [supported by the app](../../../web3-stack/chains/).

To add or select a network, click the dropdown next to the blockchain network icon on the top right:

Choose one of the available networks in the list and switch to it or click **Add Network** to add a new one with the following details:

- Add the following details:
  - **Network Name**: Name of the network. For example, Shardeum
  - **RPC URL**: https://liberty10.shardeum.org
  - **Chain ID**: 8080
  - **Currency Symbol**: SHM
  - **Explorer URL (Optional)**: https://explorer.liberty10.shardeum.org/

Add Network

Click Save to automatically set the newly added network as the active chain in the wallet UI.

Network List

### Switch Network

Click on the dropdown next to the network icon on the top right of the wallet UI:

Choose one of the available networks in the pre-configured blockchain networks list to switch networks.

Switch Network

### Sign Transaction

A blockchain sign transaction notification can be triggered programmatically via the app or in response to a user action in the Arcana wallet UI. Users can scroll through the notification to view the details before selecting **Reject** or **Approve** option.

Sign Transactions

### Speed Up Transaction

For every blockchain transaction, users pay gas fees with the networkâ€™s native token. It is possible to speed up the transaction by paying higher gas fees. When issuing a send transaction through the Arcana wallet UI, users have three options for gas fees selection:

- **Normal**: Default network gas fees
- **Fast**: Pay a premium for quicker transactions
- **Custom**: Choose gas limits, priority fee and max gas fees setting and customize fees

Speed up Transactions

### Transaction Details

If a blockchain transaction is triggered via the app that requires the user's approval, the user will see a transaction notification. If the wallet was in a minimized state at the time the request was generated, then the notification will show up with a summary of the transaction along with the buttons to approve or reject.

Transaction Notification

The user can click on the top right arrow icon in the transaction notification to view its details.

Transaction Notification

Transaction Notification Example

Here is an example of how an `eth_sendTransaction` triggers a transaction notification and approval request for the user. The send transaction notification summary is displayed:

Example: Send Transaction Notification

In the case of the send transaction request or sign transaction request, the notification details allow the user to edit the gas fees before approving the request.

Example: Send Transaction Notification

For other transactions that do not involve gas fees such as personal sign or signature requests, the notification details allow users to review transaction message details before taking an action to approve or reject.

Signature Request Example

Here is an example of a signature request notification summary:

Example: Signature Request Summary

On clicking the topmost arrow icon, the user can see the signature request transaction notification details view:

Example: Signature Request Details

### Buy/Sell Crypto

Arcana wallet uses third-party providers to enable buying and selling (on-ramping and off-ramping) of crypto assets.

#### Fiat On-ramp

The Arcana wallet users can **buy** cryptocurrency using fiat through one of the supported providers:

- [Transak](https://transak.com/)

Click **Buy** to purchase ERC20 or native tokens for supported blockchains from the chosen on-ramp provider. Select the 'Tokens' tab, then choose the required blockchain network from the drop-down list. The selected chain determines which cryptocurrencies and tokens can be purchased, following local regulations.

Buy Crypto

Pick up one of the providers and click **Proceed**.

On Ramp Providers

Clicking will open the provider interface in a new tab. Arcana wallet will notify you of the 'buy' process. Dismiss the notification and continue using the wallet while the purchase is completed in the other tab.

Confirm Buy Transaction

On-Ramp Provider Usage

Fiat on-ramp providers may require users to follow country-specific KYC procedures and list only the available cryptocurrencies for the selected chain. Minimum purchase amounts can vary by country and provider.

For example, Transak requires each user to complete KYC by submitting country-specific identification documents. Once the verification is complete, the user can purchase the cryptocurrency with Transak. This verification is a one-time thing and subsequent purchases will not require this additional step. The figure below shows an example of a purchase transaction using Transak.

Using Transak

Refer to the provider documentation for details regarding usage and coverage:

- [Transak User Guide](https://support.transak.com/en/articles/7846055-buying-cryptocurrency-for-beginners)
- [Transak coverage](https://docs.transak.com/docs/fiat-currency-country-payment-method-coverage-plus-fees-and-limits)

Buy Limitations

1. Purchased ERC20 and ERC721 tokens will not update automatically in the Arcana wallet assets screen. Users must manually add custom tokens, as on-ramp providers do not supply the token's contract address.
1. The notification tab in the Arcana wallet UI will not show activity for a successful purchase. On-ramp providers do not consistently share this information. We may add this feature in future releases.

#### Fiat Off-ramp

The Arcana wallet users can **sell** cryptocurrency using fiat through one of the supported providers:

- [Transak](https://transak.com/)

Click **Sell** to off-ramp ERC20 tokens or execute native cryptocurrency sell transactions for supported blockchains via the selected provider. The chosen off-ramp provider executes the 'sell' and deposits proceeds into the configured bank account. Select the 'Tokens' tab, then choose the required blockchain network from the drop-down list. The selected chain determines which cryptocurrencies and tokens can be sold, following local regulations.

Sell Crypto

Pick up one of the providers and click **Proceed**.

Off-Ramp Providers

Clicking opens the provider interface in a new tab. Complete the sale there. Arcana wallet will notify you of the 'sell' initiation. Dismiss the notification and continue using the wallet.

Confirm Sell Transaction

Off-ramp Provider Usage

Fiat off-ramp providers may ask the user to follow country-specific procedures for KYC and list available cryptocurrencies for the selected chain. Note that the basic maximum sell amount for a country or cryptocurrency may vary across countries and providers.

Transak requires each user to complete KYC by submitting country-specific identification documents. Once the verification is complete, the user can sell cryptocurrency via Transak. This verification is a one-time thing; subsequent purchases will not require this additional step. The figure below shows an example of a sell transaction using Transak.

Using Transak

Refer to provider documentation for more details on usage and coverage.

- [Transak User Guide](https://support.transak.com/en/articles/7846055-buying-cryptocurrency-for-beginners)
- [Transak coverage](https://docs.transak.com/docs/fiat-currency-country-payment-method-coverage-plus-fees-and-limits)

The activity tab in the Arcana wallet UI displays details of the 'sell' transaction issued from the wallet.

### Add Tokens

Click the 'Tokens' tab on the bottom left of the Arcana wallet to bring up the token assets screen.

You can add custom ERC-20 and ERC-1155 token assets to the Arcana wallet UI by clicking **Manage**. [Learn more...](../use-wallet-to-manage-tokens/)

## Manage NFT Assets

Click the 'NFT' tab on the bottom of the Arcana wallet UI to view and manage NFTs associated with the wallet address on the selected blockchain network and perform these actions:

- List NFT assets associated with the wallet address

- View NFT details

- Send NFT

- Receive NFT

- Manage NFTs

  - Add an NFT
  - Edit NFT entry
  - Delete NFT entry

NFT Assets

[Learn more...](../use-wallet-to-manage-nfts/)

## View User Profile

Click the 'Profile' tab on the bottom of the Arcana wallet and perform these actions:

- View User name
- View User Email ID
- View / Copy Wallet Address
- Export the private key / Save seed phrase for exporting MultiversX wallet
- View MFA Status / Enable MFA
- Logout

User Profile

### Export Private Key

Click the Profile tab on the bottom of the Arcana wallet to see the user profile screen and choose [export private key](../use-wallet-to-export-keys/) option.

Export Private Key

Exporting MultiversX Wallet

For exporting the MultiversX Wallet, there is no private key export feature unlike EVM chains. The user must refer to the saved copy of the secret seed phrase (displayed on first user login) and recover or import the MultiversX wallet. [Learn more...](../../../faq/faq-mvx/#export-mvx-wallet)

### View Status / Enable MFA

In the profile tab of the wallet, users can check the current MFA status, whether it is enabled or not. [MFA](../../../concepts/mfa/) is a one-time setting for the user's wallet. Click **Set up MFA** to turn on MFA by setting up security questions and a PIN. You will need to enter either of them to authenticate when you login to a new device or browser. [Learn more...](../../mfa/mfa-ug/)

### Logout

To log out of the app and the wallet, click the Profile tab at the bottom of the Arcana wallet UI and select **Logout**.

Logout

## Transaction Activity

Click the 'Activity' tab on the bottom right of the Arcana wallet to view the activity screen. It lists any pending transactions and the status of the following user actions via the wallet:

- Sell transaction
- Send tokens transaction
- Contract deployment

User Profile

Notification Example

#### Pending Contract Deployment Request

A red dot on the 'Activity' tab icon at the bottom right of the Arcana wallet indicates a pending blockchain transaction.

Click on the red dot to see details of the pending transaction and take appropriate action.

View Pending Notifications

### Pending Transactions

When a transaction notification appears, the user can click 'Do this later' to ignore it. Pending transactions are marked with a red dot in the 'Activity' tab and on the minimized wallet icon.

Once the user addresses the notification, it disappears from the 'Activity' tab.

Pending Transactions

# ADKG Validator Onboarding Guide

This guide is for **trusted partners**, known as 'validators,' selected for the Arcana ADKG protocol. Validators run crucial [ADKG validator nodes](../../concepts/validator-nodes/), central to Arcana's DKG subsystem decentralization.

To become a validator, you must be a trusted partner of Arcana and run a validator node. In return, validators earn rewards based on node uptime and key generation output

## Entry/ Exit

Initially, Arcana partners exclusively with trusted validators. Future processes will allow validator entry and exit. The DKG subsystem deployed at Mainnet comprises of seven nodes, four owned and run by Arcana, and the rest by trusted partners.

## Node Setup

Arcana DKG is a permissioned system that only allows a trusted group of partners to join. To become an external validator node in the DKG subsystem, partners must be whitelisted by Arcana. This process involves providing an Ethereum address, which will be associated with a private key that verifies the node's identity and grants it access to the Arcana DKG subsystem.

### Prerequisites

1. Validator node
1. Monitoring tools
1. Have a Hashicorp cloud server (or self-hosted server) preferably on a separate server from the validator node
1. Enable a [KV Secrets Engine](https://developer.hashicorp.com/vault/docs/secrets/kv) with the path value set to `secret`.

```
vault secrets enable -path=secret kv

```

HashiCorp KV Setup

**HW Configuration**

| Minimum | Recommended | | --- | --- | | 4 GB RAM | 8-16 GB RAM | | 500 GB SSD | 1 TB SSD | | 4 core CPU | 8 core CPU |

### Steps

#### 1. Node Configuration

**Operating System**:

Preferably deploy Ubuntu Linux v20.04.4 LTS or higher.

**`ulimit` Settings**

Use one of the following commands to check the `ulimit` settings for open file descriptors (default):

```
ulimit -n

```

```
ulimit -aS

```

If the soft limit for **open files** is lower than 20,000 use the following instructions to update it:

- Edit the Linux Kernel parameter file `/etc/sysctl.conf`

```
  vi /etc/sysctl.conf 

```

Add " fs.file-max = 20000 " in the file. To apply the changes, execute:

```
sysctl -p

```

- Change the ulimit setting in the file `/etc/security/limits.conf`

```
vi /etc/security/limits.conf

```

Specify the following limits in the `/etc/security/limits.conf` file:

```
 * soft nofile 20000
 * hard nofile 20000

```

After making these changes to both files, make sure that you reboot the ADKG node via one of these commands:

```
reboot

```

```
init 6

```

- Validate that `ulimit` for open files has been updated to 20000 by using the command:

```
ulimit -n

```

**Network Settings**:

1. Obtain a domain name for your server and set up associated SSL certificates.

1. Keep the following ports open on the validator node:

   - 26656
   - 1080

**Setup DKG Software**

1. Copy the [DKG binary v1.0.1](https://github.com/arcana-network/adkg/releases/tag/v1.0.1) locally on your node.
1. Change the binary file permissions to 'executable'.

#### 2. Validator Secrets

The process of setting up validator secrets involves two steps. First, you must initiate a secrets configuration manager. Then, you must generate secret keys for the validator node. Currently, only the Hashicorp vault is supported.

**2a. Initiate Secrets Configuration Manager**

Use Hashicorp to initiate the secret configuration manager. Make sure you have already enabled the KV secrets engine as listed in the prerequisites, before running the command listed below.

```
dkg secret generate --secret-config=<path> --token=<token> --server-url=<url> 

```

**Command Line Options**

`--secret-config`

Specify the `path` where the secret manager configuration will be written. Defaults to the `secretConfig.json` file in the current directory.

`--token`

The access token for the Hashicorp vault. The access token is used for accessing [the KV secret storage engine](https://developer.hashicorp.com/vault/docs/secrets).

`--server-url`

The API URL of the Hashicorp Vault server.

**2b: Generate Secret Keys**

After initiating the secret configuration manager, generate keys for the validator node. **The following command will provide the Node Address, which should be shared with the Arcana Team**.

```
dkg secret init --secret-config=<path>

```

**Command Line Options**

`--secret-config`

The `path` specified in the previous step where the secret manager configuration will be written. Defaults to `secretConfig.json` file in the current directory.

Follow Start Ceremony

Start the node **only** when you have set up the validator secret and shared the Node Address with the Arcana Team.

#### 3. Start Ceremony

Validator DKG nodes cannot be started individually; all participating nodes must start at the same time for the protocol to work properly. Keep an eye on this space for updates on when to start your DKG node as a validator.

The key generation begins only when **all** the nodes in the DKG subsystem, Arcana DKG nodes, and all validator DKG nodes, have joined in.

#### 4. Node Startup

Before you start the validator node, make sure you have completed all the prerequisites and followed the steps defined in the **DKG Start Ceremony**.

Node Start Command

You can run the `dkg start` command and specify validator node configuration details using **one** of ways listed below:

- run `dkg start` with a JSON configuration file that contains all the configuration, or
- run `dkg start` with various flags/parameter values on the command line itself

Registration of validator node happens automatically using the information that is provided in the configuration file or via the command line.

Restart

If this is not the first time you are starting the node, please make sure that you perform a clean re-start. Refer to the 'Stop/Restart' section below to see how to perform a clean restart.

**Option1: Use Configuration File**

```
dkg start --config=/path/to/config.json

```

config.json

```
{
  ipAddress: "172.23.22.231",      //Example value. Replace with public IP Addres of your node
  domain: "keyserver.example.com", // Example value. Do not specify https://
  dataDir: "/path/to/data",        // Ensure dataDir directory access permissions allow DKG binary to access it
  secretConfig: "/path/to/secret/config.json", //Use appropriate file access permissions for DKG binary to access it
  port: "3000",
}

```

**Option 2: Use Command Line**

```
dkg start --secret-config=/path/to/secret/config --data-dir=/path/to/data --domain=keyserver.example.com --ip-address=172.23.22.231  --server-port=3000

```

**Node Start Options**

`--secret-config`

The path to secret configuration. See 'Validator Secrets section' for details.

`--data-dir`

The data directory where all the node-specific and shared data will be stored, this data will have to be backed up regularly by the nodes to maintain some redundancy.

Keep your data directory strictly private!

The data directory specified above is used for storing multiple items that are secret. Besides initializing the directories for holding the [Tendermint](https://tendermint.com/) state and key share data, it also stores private keys on a file.

This directory should be secured and kept fully secret. If someone were to obtain access to this directory and the secrets, they could potentially impersonate you as a node in the network.

`--domain`

The domain name for the validator node that you are running. This is needed to enable users and other nodes to be able to access the validator node via RPC calls.

`--ip-address`

The IP Address of the validator node that is used by DKG nodes for communicating within themselves.

`--server-port=3000`

The port number at which the **http server** is listening for requests.

SSL Termination

The SSL termination can happen on an **Nginx** server which can then map the port 443 to the `--server-port` specified in the `dkg start` command above.

#### 5. Stop/Restart Node

You need to kill the running DKG process to stop the validator node.

We are working on providing a cleaner way to stop and restart the node. Until then, follow these steps to cleanly restart your validator node:

1. Stop all nodes.
1. Replace the DKG binary with the [latest one](https://github.com/arcana-network/adkg/releases).
1. Remove `dkg.sock` file, if present.
1. DO NOT REMOVE the directory that your specified for `--data-dir`.
1. Start the nodes using the `dkg start` command.

## Responsibilities

- Perform all the required technical node operations done by each DKG node.
- Maintain a high uptime.
- Back up the validator node reliably.
- Always use the latest release of the DKG binaries.
- Check node-related services and processes daily and monitor health.
- Use node monitoring tools. We plan to support [Prometheus](https://prometheus.io/) in the future, which will allow partners to monitor their nodes using the Grafana dashboard.
- Communicate any issues with the Arcana team on the DKG Slack channel.
- **Monitoring Metrics**: At present, besides CPU and memory, we do not have any other specific metrics that need to be monitored for the validator node. Stay tuned for updates.
- Provide feedback and suggestions.

## Migrating Validator Node

If you want to migrate the validator node to another server (for backup or temporary purposes) there are a couple of options available. Make sure you have addressed the prerequisites first before migrating the validator setup to another node.

Migration Prerequisites

Before migrating a validator node to another physical or virtual server, make sure that the following are addressed:

- Backup the 'data' directory of the validator node
- Backup the Hashicorp vault data on a separate node

**Case 1: Migrating to a Node with same Domain and IP Address**

Follow the steps listed under [starting a validator node](#node-setup) section except the instructions in step 2b to bring up a new validator node. Now start the new node and join in the ADKG protocol. The other nodes are not required to be restarted for migration to work.

**Case 2: Migrating to a Node with same Domain and different IP Address**

You need to notify the Arcana team as this may require coordinating with other validator node operators. Follow the steps listed under [starting a validator node](#node-setup) section except the instructions in step 2b to bring up a new validator node. Before starting up the node, wait for all the other nodes in the ADKG subsystem to restart in a synchronized manner. In this case, all validator nodes have to restart together.

**Case 3: Migrating to a Node with different IP Address and Domain**

We **do not support** migrating the validator node to a different one that has a different domain and a different IP address. In future releases too, the new node with a different domain and IP address will not be treated as a reincarnate of the previous node but as a brand 'new' replacement node. Adding such a node will follow Arcana ADKG recovery and repair protocol enhancements. In that case, there is no use backing up the validator node data. Our protocol will re-generate and repair key shares where applicable, in case one node goes down and a different one joins in the ADKG subsystem.

Backup Data Directory of the Validator Node

ADKG protocol is under active development for robustness and key repair, regeneration mechanisms. We highly recommend that you back up the 'data' directory of the validator node in any case.

## Rewards

We are working on providing more details regarding validator rewards that answer the following questions:

- What are the incentives for validator node providers?
- When are the rewards realized and how?

Check out [Validator FAQ](../../faq/faq-validator/) if you have any questions or write to us: ðŸ“¨ [support@arcana.network](mailto:support@arcana.network)

## Questions?

Write to us at the special validator slack channel if you have any further queries.

# Supported App Types

Web3 apps built using these app frameworks and wallet connectors can integrate with Arcana Auth SDK to support [social login](../../concepts/social-login/) and the in-app Arcana wallet.

- Web

  - Vanilla HTML/CSS/JS
  - Vue
  - React/Next.js

- Mobile

  - Flutter
  - React-Native

- Gaming

  - Unity

- Wagmi

- RainbowKit

- WalletConnect

- Web3-React

Arcana Auth SDK Flavors

In some cases, you need to install and integrate the app with the `auth` package in addition to the app-specific package listed below.

| SDK Name | Web3 Application Type | Package Name | Requires companion SDK | | --- | --- | --- | --- | | Arcana Auth SDK | For enabling user onboarding in web apps: Vanilla HTML/CSS/JS Apps, Vue Apps | [`auth`](https://www.npmjs.com/package/@arcana/auth) | None | | Arcana Auth React SDK | React Apps | [`auth-react`](https://www.npmjs.com/package/@arcana/auth-react) | [`auth`](https://www.npmjs.com/package/@arcana/auth) | | Arcana Auth Wagmi SDK | Apps using wallet connectors such as Wagmi, RainbowKit, WalletConnect | [`auth-wagmi`](https://www.npmjs.com/package/@arcana/auth-wagmi) | [`auth`](https://www.npmjs.com/package/@arcana/auth) | | Arcana Auth Web3 React SDK | Apps using Web3-React wallet connector | [`auth-web3-react`](https://www.npmjs.com/package/@arcana/auth-web3-react) | [`auth`](https://www.npmjs.com/package/@arcana/auth) | | Arcana Auth Flutter SDK | Mobile apps built using Flutter | `arcana_auth_flutter` | None | | Arcana Auth React-Native SDK | Mobile apps built using React Native | `auth-react-native` | None | | Arcana Auth-Core SDK | Auth SDK for user onboarding features usage only and ability to assign keys to authenticated users, with no embedded wallet feature | `auth-core` | None | | Arcana Auth Unity SDK | Gaming apps built using Unity | `arcana-auth-sdk` | None |

# Supported Auth Providers

To enable [social login](../../concepts/social-login/) and onboard users in Web3 apps, configure one or more of the supported authentication providers via the [Arcana Developer Dashboard](../../concepts/dashboard/).

## Social Login Providers

- Apple
- Cognito
- Discord
- Firebase
- GitHub
- Google
- Steam
- Telegram
- Twitch
- Twitter

## IAM Providers

- Cognito
- Firebase

## Custom Auth

Apps that use custom authentication (for example, Epic user authentication, Relative gaming user authentication mechanism) and require enabling authenticated users to sign blockchain transactions can use the [Custom Auth feature](../../concepts/authtype/custom-auth/).

## Passkeys

You can also use [passkeys](../../concepts/authtype/auth-passkeys/) to sign up and onboard users in Web3 apps built with the Arcana Auth SDK. Passkeys can be used as an alternate login mechanism or the only option to onboard an app.

# Supported Browsers

Web3 apps running on these browsers can integrate with Arcana Auth SDK to support [social login](../../concepts/social-login/) and the in-app Arcana wallet:

- Chrome 103 or higher
- Brave v1.41 or higher
- Safari 15.6 or higher

# Supported Chains and Tokens

The Arcana CA SDK supports [unified balance](../../concepts/ca/unified-balance/) and [chain-abstracted transactions](../../concepts/ca/chain-abstraction/) for the chains and tokens\* listed below.

To execute a chain-abstracted transaction, you need enough unified balance of the token type on the source chain. This balance must cover both the gas fee and the transaction amount on the destination chain.

\* *Every chain may not support all tokens. The list of supported chains and tokens may differ for the Coral and the Folly testnet. The chains supported by the SDK and those supported in the standalone, CA wallet used in the demos may not always be the same.*

## Chains and Tokens

Supported Tokens

- USDC and USDT tokens are supported if available on the chain. We support Circle-issued tokens if Circle is present on chain, canonical otherwise.
- ETH is supported as an ERC-20 token if it's managed or issued by the operator or leader of the chain.
- The native token for a chain is always supported.

### Ethereum

| Tokens | Coral | | --- | --- | | ETH | âœ… | | USDC | âœ… | | USDT | âœ… |

| Tokens | Folly | | --- | --- | | ETH | âœ… | | USDC | âœ… |

### Optimism

| Tokens | Coral | | --- | --- | | ETH | âœ… | | USDC | âœ… | | USDT | âœ… |

| Tokens | Folly | | --- | --- | | ETH | âœ… | | USDC | âœ… | | USDT | âœ… |

### BSC

| Tokens | Coral | | --- | --- | | ETH | âœ… | | USDC | âœ… | | USDT | âœ… | | BNB | âœ… |

### Polygon

| Tokens | Coral | | --- | --- | | USDC | âœ… | | USDT | âœ… | | POL | âœ… |

| Tokens | Folly | | --- | --- | | USDC | âœ… | | POL | âœ… |

### Kaia

| Tokens | Coral | | --- | --- | | USDT | âœ… | | KAIA | âœ… |

### Base

| Tokens | Coral | | --- | --- | | ETH | âœ… | | USDC | âœ… | | USDT | âœ… |

| Tokens | Folly | | --- | --- | | ETH | âœ… | | USDC | âœ… |

### Fuel

| Tokens | Coral | | --- | --- | | ETH | âœ… | | USDC | âœ… | | USDT | âœ… |

No Fuel support in `ca-wagmi` SDK

The Arcana CA Wagmi SDK doesn't support **Fuel** blockchain yet. Chain abstraction works for other [supported chains and tokens](./) in Wagmi-based Web3 apps.

### Arbitrum

| Tokens | Coral | | --- | --- | | ETH | âœ… | | USDC | âœ… | | USDT | âœ… |

| Tokens | Folly | | --- | --- | | ETH | âœ… | | USDC | âœ… | | USDT | âœ… |

### Avalanche

| Tokens | Coral | | --- | --- | | USDC | âœ… | | USDT | âœ… | | AVAX | âœ… |

### Sophon

| Tokens | Coral | | --- | --- | | ETH | âœ… | | USDC | âœ… | | USDT | âœ… | | SOPH | âœ… |

### Scroll

| Tokens | Coral | | --- | --- | | ETH | âœ… | | USDC | âœ… | | USDT | âœ… |

# Supported Apps, Chains and Tokens

The standalone Arcana CA wallet used to demonstrate [unified balance](../../concepts/ca/unified-balance/) and [chain-abstracted transactions](../../concepts/ca/chain-abstraction/). It supports a limited set of chains and tokens\* in the context of supported apps listed below.

To execute a chain-abstracted transaction, you need enough unified balance of the token type on the source chain. This balance must cover both the gas fee and the transaction amount on the destination chain.

To try unified balance and chain abstracted transactions, connect the [standalone Arcana CA Wallet](https://chromewebstore.google.com/detail/arcana-wallet/nieddmedbnibfkfokcionggafcmcgkpi) with any of the supported apps.

\* *Every chain may not support all tokens. The list of supported chains and tokens may differ for the Coral and the Folly testnet. The chains supported by the SDK and those supported in the standalone, CA wallet used in the demos may not always be the same.*

## Apps

| App | Status | | --- | --- | | [Aave](https://aave.com/) | âœ… | | [CowSwap](https://swap.cow.fi/) | âœ… | | [Galaxy](https://www.galaxy.com/) | âœ… | | [Griffy](https://griffy.app/) | âœ… | | [Hyperliquid](https://app.hyperliquid.xyz/) | âœ… | | [Jumper](https://jumper.exchange/) | âœ… | | [Polymarket](https://polymarket.com/) | âœ… | | [Renzo](https://www.renzoprotocol.com/) | âœ… | | [Uniswap](https://app.uniswap.org/) | âœ… |

## Chains and Tokens

Supported Tokens

- USDC and USDT tokens are supported if available on the chain. We support Circle-issued tokens if Circle is present on chain, canonical otherwise.
- ETH is supported as an ERC-20 token if it's managed or issued by the operator or leader of the chain.
- The native token for a chain is always supported.

### Ethereum

| Tokens | Coral | | --- | --- | | ETH | âœ… | | USDC | âœ… | | USDT | âœ… |

| Tokens | Folly | | --- | --- | | ETH | âœ… | | USDC | âœ… |

### Optimism

| Tokens | Coral | | --- | --- | | ETH | âœ… | | USDC | âœ… | | USDT | âœ… |

| Tokens | Folly | | --- | --- | | ETH | âœ… | | USDC | âœ… | | USDT | âœ… |

### BSC

| Tokens | Coral | | --- | --- | | ETH | âœ… | | USDC | âœ… | | USDT | âœ… | | BNB | âœ… |

### Polygon

| Tokens | Coral | | --- | --- | | USDC | âœ… | | USDT | âœ… | | POL | âœ… |

| Tokens | Folly | | --- | --- | | USDC | âœ… | | POL | âœ… |

### Kaia

| Tokens | Coral | | --- | --- | | USDT | âœ… | | KAIA | âœ… |

### Base

| Tokens | Coral | | --- | --- | | ETH | âœ… | | USDC | âœ… | | USDT | âœ… |

| Tokens | Folly | | --- | --- | | ETH | âœ… | | USDC | âœ… |

### Fuel

| Tokens | Coral | | --- | --- | | ETH | âœ… | | USDC | âœ… | | USDT | âœ… |

### Arbitrum

| Tokens | Coral | | --- | --- | | ETH | âœ… | | USDC | âœ… | | USDT | âœ… |

| Tokens | Folly | | --- | --- | | ETH | âœ… | | USDC | âœ… | | USDT | âœ… |

### Avalanche

| Tokens | Coral | | --- | --- | | USDC | âœ… | | USDT | âœ… | | AVAX | âœ… |

### Sophon

| Tokens | Coral | | --- | --- | | ETH | âœ… | | USDC | âœ… | | USDT | âœ… | | SOPH | âœ… |

### Scroll

| Tokens | Coral | | --- | --- | | ETH | âœ… | | USDC | âœ… | | USDT | âœ… |

# Supported Chains

The Arcana wallet supports transactions on both EVM and non-EVM chains.

### Arcana Auth SDK

**Pre-configured Arcana wallet blockchains**

- Arbitrum

- Arbitrum Goerli

- Avalanche

- Base Mainnet

- Base Testnet (Goerli)

- Base Testnet (Sepolia)

- Berachain bArtio Testnet V1

- Berachain bArtio Testnet V2

- Bitlayer Testnet

- Bitlayer Mainnet

- BNB Smart Chain (BSC)

- BSC Testnet

- B2 Network Testnet

- B2 Network Mainnet

- BOB

- BOB Testnet

- Caduceus

- Ethereum

- IoTeX

- Linea Goerli

- Linea Mainnet

- opBNB

- opBNB Testnet

- Optimism

- Optimism Goerli

- Peaq

- Peaq Testnet (Agung)

- Polygon

- Polygon Amoy

- Polygon zkEVM Testnet

- Scroll Mainnet

- Scroll Testnet (Sepolia)

- Sepolia

- Shardeum Sphinx 1.x

- Vanar Mainnet

- Vanar Testnet (Vanguard)

- zkSync Era Mainnet

- zkSync Era Testnet (ETH)

- MultiversX

- MultiversX Testnet

- MultiversX Devnet

- Near

- Near Testnet

- Solana

- Solana Testnet

- Solana Dev

Pre-configured Blockchains

# Arcana Protocol

The Arcana CA SDK components of the Arcana protocol that support unified balance feature are built using the Cosmos chain.

Other components of the protocol that enable social login via the Arcana Auth SDK are built using the [Proof of Stake](https://ethereum.org/en/developers/docs/consensus-mechanisms/#proof-of-stake) Polygon chain.

The Arcana blockchain protocol is offered through Testnet and Mainnet.

## Mainnet Roadmap

## Chain Abstraction

The Arcana unified balance feature is available through the Arcana CA SDK v0.0.3 released in January 2025 on the Testnet. A limited set of [chains and tokens](../ca_stack/) are supported for chain abstraction as of this release.

Chain Abstraction is available on Arcana Testnet. We are actively working towards enabling this feature on the Arcana Mainnet.

## Social Login

The Arcana social login feature is available through the Arcana Auth SDK v1.0.0, released in January 2023 on the Mainnet.

The following Auth services are active on Testnet as well as the Mainnet:

- Configuring Arcana Auth SDK usage with Arcana Developer Dashboard
- User onboarding via social login
- Asynchronous Distributed Key Generation that powers the Arcana Auth SDK and helps onboard users to Web3

We are actively working on adding newer features and capabilities to the Arcana Auth SDK, stay tuned.

## Infrastructure Providers

## Protocol Audit

At Arcana, we take the security and privacy of applications seriously and believe in transparency. To eliminate any security vulnerabilities in Arcana Smart Contracts and the ADKG module, we put it under the rigorous vetting process and cybersecurity tests conducted by [Certik](https://www.certik.com/). The audit is complete and you can refer to the [Arcana Audit Reports](https://github.com/arcana-network/audit-reports/) for details.

## Network Nodes

| Network Metrics | Beta | Mainnet | | --- | --- | --- | | # Protocol Nodes | 7 | 21 | | # Distributed Key Generator Nodes | 3 | 7 (4 operated by Arcana, 3 by trusted partners) |

## ADKG Subsystem

Arcana Auth SDK has evolved since its alpha release. The new [asynchronous distributed key generation (ADKG)](../../concepts/adkg/) algorithm is now part of the Arcana protocol, offering improved security and efficiency in key share generation.

Refer to the [Arcana Technical Whitepaper](https://www.notion.so/Arcana-Technical-Docs-a1d7fd0d2970452586c693e4fee14d08) for more details on ADKG.

## Decentralization

The Arcana ADKG subsystem uses multiple nodes, including some operated by trusted Arcana partners called [validators](../validators/). We plan to fully decentralize the protocol in future releases.

# Validators

The core of the Arcana protocol is the [asynchronous distributed key generation (ADKG)](../../concepts/adkg/) subsystem, which generates key shares. These key shares are assembled on the client side within the app, never at the ADKG nodes, to form the authenticated user's private key.

To support decentralization, the ADKG subsystem consists of multiple nodes, including some operated by trusted third-party entities known as validators.

## Validator Nodes

At Mainnet launch, there are seven ADKG [validator nodes](../../concepts/validator-nodes/). Arcana owns five, and two are owned by:

- [Comdex - interchain DeFi infrastructure](https://comdex.one/)
- [Luganodes - institutional-grade blockchain infrastructure providers](https://www.luganodes.com/)

We are working with more partners to fully decentralize the ADKG subsystem.

## Key Share Security

### Share Generation

Arcana Auth SDK uses various algorithms for a secure ADKG subsystem. It includes a [robust asynchronous DPSS mechanism](https://eprint.iacr.org/2022/971) to protect user keys and handle malicious nodes. We are adding features like key share repair and refresh, as well as Arcana Auth SDK multi-factor authentication (MFA) feature and multi-party computation (MPC) for enhanced security and ease of use.

### Assembly

Arcana does not store user key shares. The ADKG subsystem creates and assigns key shares to the authenticated user, combined only on the client side to generate the private key. MFA adds extra security, even if the user changes devices.

# Supported Wallets

The Arcana Auth SDK works with third-party browser-based wallets as well as the built-in, non-custodial, in-app Arcana wallet.

The Arcana wallet is a built-in, in-app wallet accessible to authenticated users of Web3 apps integrated with Arcana Auth SDK.

### Built-in Wallet UI

Developers can choose to use the built-in Arcana wallet UI and quickly allow users to sign blockchain transactions via their app.

### Custom Wallet UI

When using the Arcana Auth SDK for user onboarding, by default the built-in, embedded, non-custodial Arcana wallet UI is enabled.

It is possible to totally replace the Arcana wallet UI with a [custom wallet UI](../../setup/config-custom-wallet-ui/).

Any browser-based wallet can be enabled in an app that is integrated with the Arcana Auth SDK. For example, MetaMask, Brave, Phantom, etc. Note that the wallet must work with the [supported chains](../chains/).
